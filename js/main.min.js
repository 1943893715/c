(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/js/main.js":[function(require,module,exports){
'use strict';

var upgrades = require('./upgrades');
var gameState = require('./gamestate');
var gameTimer = require('./gametimer');
var gainCalculator = require('./gaincalculator');
var functionBuilder = require('./functionbuilder');
var animatedFlyTip = require('./animatedflytip');
var favico = require('./favico');

angular.module('c', ['ui.bootstrap', 'hljs', 'LocalStorageModule', 'ngTable']).constant('Upgrades', upgrades).constant('Version', '0.0.1').service('favico', favico).service('AnimatedFlyTip', animatedFlyTip).service('GameState', gameState).service('GameTimer', gameTimer).service('GainCalculator', gainCalculator).service('FunctionBuilder', functionBuilder).controller('Game', ['$scope', '$window', '$interval', '$filter', 'GameState', 'GameTimer', 'FunctionBuilder', 'Upgrades', 'favico', 'ngTableParams', function ($scope, $window, $interval, $filter, GameState, GameTimer, FunctionBuilder, UPGRADES, favico, NgTableParams) {

  $scope._visibleUpgrades = [];

  $scope.tableParams = new NgTableParams({
    page: 1,
    count: 1000
  }, {
    groupBy: 'category',
    total: $scope._visibleUpgrades.length,
    getData: function getData($defer, params) {

      var data = $scope._visibleUpgrades;

      var orderedData = params.sorting() ? $filter('orderBy')(data, params.orderBy()) : data;

      var filteredData = params.filter() ? $filter('filter')(orderedData, params.filter()) : orderedData;

      params.total($scope._visibleUpgrades.length);

      $defer.resolve(filteredData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
    }
  });

  $scope.hasUpgrade = function (key) {
    var level = arguments[1] === undefined ? 0 : arguments[1];

    return GameState.upgrade.has(key, level);
  };

  $scope.hasUnits = function (amt) {
    return GameState.unit.has(amt);
  };

  $scope.visibleUpgrades = function () {

    var current = $scope._units;
    var allRet = [];

    _.each(UPGRADES, function (item, itemName) {

      var ret = [];

      var meetsAllReqs = true;

      _.each(item.requirements, function (req, key) {
        if (!$scope.hasUpgrade(key, req)) {
          meetsAllReqs = false;
        }
      });

      if (!meetsAllReqs) {
        return;
      }

      _.each(item.costs, function (cost, i) {
        var visLevel = GameState.upgrade.getKey('Upgrade Visibility');
        var visibilityBoost = 1 + (_.isUndefined(visLevel) ? 0 : 0.15 * visLevel);

        var prevItem = ret[ret.length - 1];
        var totalCost = cost + (prevItem ? prevItem.cost : 0);

        if ($scope.hasUpgrade(itemName, i) || totalCost / visibilityBoost > current) {
          return;
        }

        ret.push({
          name: itemName,
          level: i,
          cost: totalCost,
          buyLevels: 1 + (prevItem ? prevItem.buyLevels : 0),
          category: item.category
        });
      });

      allRet.push.apply(allRet, ret);
    });

    if ($scope.hasUpgrade('Alphabetized Upgrades')) {
      allRet = _.sortByOrder(allRet, ['name', 'level'], [true, true]);
    }

    if ($scope.hasUpgrade('Best Favicon')) {
      var buyableUpgrades = _.filter(allRet, function (item) {
        return item.cost < $scope._units;
      }).length;
      if (buyableUpgrades > 0) {
        favico.badge(buyableUpgrades);
      } else {
        favico.reset();
      }
    }

    return allRet;
  };

  $scope.buyUpgrade = function (upgName) {
    var levels = arguments[1] === undefined ? 1 : arguments[1];

    do {
      GameState.upgrade.inc(upgName);
    } while (--levels > 0);
  };

  $scope.gainUnits = function () {
    $window.increaseUnits();
  };

  $scope.save = function () {
    GameState.save();
  };

  $scope.refresh = function () {
    $scope._units = GameState.unit.get();
    $scope._visibleUpgrades = $scope.visibleUpgrades();
    $scope._function = FunctionBuilder.build();

    $scope.tableParams.reload();
  };

  $scope.refresh();
  $scope._timer = 0;
  $scope._timermax = 0;
  var timerInterval;

  GameState.unit.watch().then(null, null, $scope.refresh);
  GameState.upgrade.watch().then(null, null, $scope.refresh);

  GameTimer.watch().then(null, null, function (newTimerValue) {
    $scope._timer = $scope._timerMax = newTimerValue;
    if (timerInterval) {
      $interval.cancel(timerInterval);
    }
    timerInterval = $interval(function () {
      $scope._timer -= 100;
    }, 100);
  });

  $window.dumpState = function () {
    return GameState.upgrade.get();
  };

  $window.dumpDebugInfo = function () {
    return JSON.stringify(GameState.buildSaveObject(), null, 4);
  };
}]);

},{"./animatedflytip":"/home/seiyria/projects/c/src/js/animatedflytip.js","./favico":"/home/seiyria/projects/c/src/js/favico.js","./functionbuilder":"/home/seiyria/projects/c/src/js/functionbuilder.js","./gaincalculator":"/home/seiyria/projects/c/src/js/gaincalculator.js","./gamestate":"/home/seiyria/projects/c/src/js/gamestate.js","./gametimer":"/home/seiyria/projects/c/src/js/gametimer.js","./upgrades":"/home/seiyria/projects/c/src/js/upgrades.js"}],"/home/seiyria/projects/c/src/js/animatedflytip.js":[function(require,module,exports){
'use strict';

var animatedFlyTip = function animatedFlyTip($filter) {
  return {
    fly: function fly(num) {
      var useSeparator = arguments[1] === undefined ? false : arguments[1];

      var $element = $('<div />');

      var numString = num;
      if (useSeparator) {
        numString = $filter('number')(numString, 0);
      }

      if (num < 0) {
        $element.addClass('text-danger');
        $element.html(numString);
      } else if (num > 0) {
        $element.addClass('text-success');
        $element.html('+' + numString);
      }

      $element.css('position', 'absolute');
      $('body').append($element);

      var $base = $('#navbar-unit');
      $element.offset({ left: $base.offset().left, top: $base.offset().top });

      $element.animate({ top: '60px' });
      $element.animate({ opacity: 0, top: '60px' }, 500, 'swing', function () {
        $(this).remove();
      });
    }
  };
};

animatedFlyTip.$inject = ['$filter'];

module.exports = animatedFlyTip;

},{}],"/home/seiyria/projects/c/src/js/favico.js":[function(require,module,exports){
'use strict';

var favico = function favico() {
  var favico = new Favico({
    animation: 'fade'
  });

  var currentNum = 0;

  var badge = function badge(num) {
    if (num === currentNum) {
      return;
    }
    currentNum = num;
    favico.badge(num);
  };
  var reset = function reset() {
    favico.reset();
  };

  return {
    badge: badge,
    reset: reset
  };
};

module.exports = favico;

},{}],"/home/seiyria/projects/c/src/js/functionbuilder.js":[function(require,module,exports){
'use strict';

var functionBuilder = function functionBuilder(GameState, GainCalculator, $window) {
  return {
    build: function build() {

      var unitText = 'units';

      var functionHeader = ['', ''];
      if (GameState.upgrade.has('Function')) {
        functionHeader = ['function increaseUnits() {', '}'];
      }

      var iterationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Iteration')) {
        iterationHeader = ['for(var i = 0; i < ' + GainCalculator.iteration() + '; i++) {', '}'];
      }

      var timeout = '';
      if (GameState.upgrade.has('Basic Timer')) {
        timeout = '$interval(increaseUnits, ' + GainCalculator.timer() + ');\n';
      }

      var animationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Animation')) {
        animationHeader = ['var totalUnitsGained = 0;', 'units += totalUnitsGained;\n          animateUnitChange(totalUnitsGained);'];
        unitText = 'totalUnitsGained';
      }

      var saveHeader = ['', ''];
      if (GameState.upgrade.has('Save', 1)) {
        saveHeader = ['\nvar currentTick = 0;', '\n  if(currentTick++ % 10 === 0) {\n    currentTick = 0;\n    save();\n  }'];
      }

      if (GameState.upgrade.has('Save', 3)) {
        saveHeader = ['', '\n  save();'];
      }

      // dump it on the page. it's an "exploit"
      $window.increaseUnits = function () {
        GameState.unit.inc(GainCalculator.all());
      };

      return '' + timeout + '' + saveHeader[0] + '\n' + functionHeader[0] + '\n  ' + animationHeader[0] + '\n  ' + iterationHeader[0] + '\n    ' + unitText + ' += ' + GainCalculator.boost() + ';\n  ' + iterationHeader[1] + '\n  ' + saveHeader[1] + '\n  ' + animationHeader[1] + '\n' + functionHeader[1] + '\n';
    }
  };
};

functionBuilder.$inject = ['GameState', 'GainCalculator', '$window'];

module.exports = functionBuilder;

},{}],"/home/seiyria/projects/c/src/js/gaincalculator.js":[function(require,module,exports){
'use strict';

var gainCalculator = function gainCalculator(GameState) {

  var boost = function boost() {
    return Math.pow((GameState.upgrade.getKey('Basic Boost') || 0) + 1, 2);
  };

  var iteration = function iteration() {
    var iterLevel = GameState.upgrade.getKey('Basic Iteration');
    if (!iterLevel) {
      return 1;
    }
    return Math.pow(4, iterLevel + 1);
  };

  var timer = function timer() {
    var basicReduction = 0.05 * GameState.upgrade.getKey('Basic Timer');
    var advancedReduction = 0.15 * GameState.upgrade.getKey('Advanced Timer');
    advancedReduction = _.isNaN(advancedReduction) ? 0 : advancedReduction;
    return 30000 - 30000 * (basicReduction + advancedReduction);
  };

  return {
    boost: boost,
    iteration: iteration,
    timer: timer,
    all: function all() {
      return boost() * iteration();
    }
  };
};

gainCalculator.$inject = ['GameState'];

module.exports = gainCalculator;

},{}],"/home/seiyria/projects/c/src/js/gamestate.js":[function(require,module,exports){
'use strict';

var gameState = function gameState($q, UPGRADES, localStorage, AnimatedFlyTip) {
  var upgrades = {};
  var units = 100000;
  var start = Date.now();

  var upgradeDefer = $q.defer();
  var unitDefer = $q.defer();

  var buildSaveObject = function buildSaveObject() {
    return {
      units: units,
      upgrades: upgrades,
      start: start
    };
  };

  var save = function save() {
    localStorage.set('game', buildSaveObject());
  };

  var load = function load() {
    var state = localStorage.get('game');

    if (!state) {
      return;
    }

    if (state.units) {
      units = state.units;
    }

    if (state.upgrades) {
      upgrades = state.upgrades;
    }

    if (state.start) {
      start = state.start;
    }
  };

  var upgrade = {
    has: function has(key) {
      var level = arguments[1] === undefined ? 0 : arguments[1];
      return upgrades[key] > level;
    },
    get: function get() {
      return upgrades;
    },
    getKey: function getKey(key) {
      return upgrades[key];
    },
    inc: function inc(key) {

      var nextLevel = upgrades[key] || 0;
      var cost = UPGRADES[key].costs[nextLevel];
      if (units < cost) {
        return;
      }

      if (!upgrades[key]) {
        upgrades[key] = 0;
      }
      upgrades[key]++;
      unit.inc(-cost);
      upgradeDefer.notify({ key: key, level: upgrades[key], all: upgrades });
    },
    watch: function watch() {
      return upgradeDefer.promise;
    }
  };

  var tick = 0;

  var unit = {
    has: function has(amt) {
      return units > amt;
    },
    inc: function inc(amt) {
      units += amt;
      unitDefer.notify(units);

      if (upgrade.has('Basic Animation')) {
        AnimatedFlyTip.fly(amt, upgrade.has('Number Formatting'));
      }

      if (upgrade.has('Save', 1) && !upgrade.has('Save', 3)) {
        if (tick++ % 10 === 0) {
          tick = 0;
          save();
        }
      }

      if (upgrade.has('Save', 3)) {
        save();
      }
    },
    get: function get() {
      return units;
    },
    watch: function watch() {
      return unitDefer.promise;
    }
  };

  load();

  return {
    upgrade: upgrade,
    unit: unit,
    save: save,
    buildSaveObject: buildSaveObject
  };
};

gameState.$inject = ['$q', 'Upgrades', 'localStorageService', 'AnimatedFlyTip'];

module.exports = gameState;

},{}],"/home/seiyria/projects/c/src/js/gametimer.js":[function(require,module,exports){
'use strict';

var gameTimer = function gameTimer($q, $interval, $timeout, $window, GameState, GainCalculator) {

  var interval = null;
  var timerDefer = $q.defer();

  var startTimer = function startTimer() {
    var upgradeData = arguments[0] === undefined ? { key: 'Timer' } : arguments[0];

    if (!GameState.upgrade.has('Basic Timer')) {
      return;
    }
    if (!_.contains(upgradeData.key, 'Timer')) {
      return;
    }

    if (interval) {
      $interval.cancel(interval);
    }

    interval = $interval(function () {
      $window.increaseUnits();
      timerDefer.notify(GainCalculator.timer());
    }, GainCalculator.timer());

    timerDefer.notify(GainCalculator.timer());
  };

  if (GameState.upgrade.has('Basic Timer')) {
    $timeout(startTimer, 0);
  }

  GameState.upgrade.watch().then(null, null, startTimer);

  return {
    watch: function watch() {
      return timerDefer.promise;
    }
  };
};

gameTimer.$inject = ['$q', '$interval', '$timeout', '$window', 'GameState', 'GainCalculator'];

module.exports = gameTimer;

},{}],"/home/seiyria/projects/c/src/js/upgrades.js":[function(require,module,exports){
'use strict';

module.exports = {
  Scoreboard: {
    category: 'Visual',
    costs: [10]
  },
  'Basic Layout': {
    category: 'Visual',
    costs: [15, 200]
  },
  'Better Layout': {
    category: 'Visual',
    requirements: { 'Basic Layout': 1 },
    costs: [200, 2000]
  },
  Function: {
    category: 'Tech',
    costs: [20]
  },
  'Basic Iteration': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [50, 300, 20000, 150000]
  },
  'Basic Timer': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [50, 600, 20000, 100000]
  },
  'Basic Boost': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [10, 100, 25000, 200000]
  },
  Capitalization: {
    category: 'Visual',
    costs: [100]
  },
  Preformatting: {
    category: 'Visual',
    requirements: { 'Basic Iteration': 0 },
    costs: [150]
  },
  'Visual Countdown': {
    category: 'Visual',
    requirements: { 'Basic Timer': 0 },
    costs: [1000]
  },
  'Page Title': {
    category: 'Cosmetic',
    costs: [500]
  },
  'Better Page Title': {
    category: 'Cosmetic',
    requirements: { 'Page Title': 0, Scoreboard: 0 },
    costs: [2500]
  },
  'Alphabetized Upgrades': {
    category: 'Cosmetic',
    requirements: { Capitalization: 0, 'Better Layout': 0 },
    costs: [5000]
  },
  'Upgrade Visibility': {
    category: 'Cosmetic',
    requirements: { 'Alphabetized Upgrades': 0 },
    costs: [6500, 8500, 10500]
  },
  'Progress Bar': {
    category: 'Visual',
    requirements: { 'Better Layout': 1, 'Basic Color': 0 },
    costs: [5000]
  },
  'Basic Style': {
    category: 'Visual',
    requirements: { 'Better Layout': 1 },
    costs: [10000, 20000]
  },
  'Basic Color': {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    costs: [12500]
  },
  Iconography: {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    costs: [25000]
  },
  'Number Formatting': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0 },
    costs: [20000]
  },
  'Basic Animation': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0, 'Basic Iteration': 0, 'Basic Color': 0 },
    costs: [100000]
  },
  Favicon: {
    category: 'Cosmetic',
    costs: [2000]
  },
  'Best Favicon': {
    category: 'Cosmetic',
    requirements: { 'Better Page Title': 0, Favicon: 0 },
    costs: [100000]
  },
  'Syntax Highlighting': {
    category: 'Cosmetic',
    requirements: { Preformatting: 0 },
    costs: [50000]
  },
  Save: {
    category: 'Tech',
    costs: [300, 5000, 20000, 150000]
  },
  'Advanced Timer': {
    category: 'Tech',
    requirements: { 'Basic Timer': 3 },
    costs: [200000, 750000, 1500000]
  },
  'Best Table': {
    category: 'Tech',
    requirements: { 'Basic Style': 1 },
    costs: [250000]
  }
};

},{}]},{},["./src/js/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL21haW4uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2FuaW1hdGVkZmx5dGlwLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy9mYXZpY28uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2Z1bmN0aW9uYnVpbGRlci5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FpbmNhbGN1bGF0b3IuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2dhbWVzdGF0ZS5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FtZXRpbWVyLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy91cGdyYWRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3JDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2QyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbkQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVqQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsb0JBQW9CLEVB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Q0QsUUFBUTtBQUNOLFlBQVEsRUFBRSxNQUFNO0FBQ2hCLFNBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQztHQUNsQztBQUNELGtCQUFnQixFQUFFO0FBQ2hCLFlBQVEsRUFBRSxNQUFNO0FBQ2hCLGdCQUFZLEVBQUUsRUFBQyxhQUFhLEVBQUUsQ0FBQyxFQUFDO0FBQ2hDLFNBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDO0dBQ2pDO0FBQ0QsY0FBWSxFQUFFO0FBQ1osWUFBUSxFQUFFLE1BQU07QUFDaEIsZ0JBQVksRUFBRSxFQUFDLGFBQWEsRUFBRSxDQUFDLEVBQUM7QUFDaEMsU0FBSyxFQUFFLENBQUMsTUFBTSxDQUFDO0dBQ2hCO0NBQ0YsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbnZhciB1cGdyYWRlcyA9IHJlcXVpcmUoJy4vdXBncmFkZXMnKTtcbnZhciBnYW1lU3RhdGUgPSByZXF1aXJlKCcuL2dhbWVzdGF0ZScpO1xudmFyIGdhbWVUaW1lciA9IHJlcXVpcmUoJy4vZ2FtZXRpbWVyJyk7XG52YXIgZ2FpbkNhbGN1bGF0b3IgPSByZXF1aXJlKCcuL2dhaW5jYWxjdWxhdG9yJyk7XG52YXIgZnVuY3Rpb25CdWlsZGVyID0gcmVxdWlyZSgnLi9mdW5jdGlvbmJ1aWxkZXInKTtcbnZhciBhbmltYXRlZEZseVRpcCA9IHJlcXVpcmUoJy4vYW5pbWF0ZWRmbHl0aXAnKTtcbnZhciBmYXZpY28gPSByZXF1aXJlKCcuL2ZhdmljbycpO1xuXG5hbmd1bGFyLm1vZHVsZSgnYycsIFsndWkuYm9vdHN0cmFwJywgJ2hsanMnLCAnTG9jYWxTdG9yYWdlTW9kdWxlJywgJ25nVGFibGUnXSlcblxuICAuY29uc3RhbnQoJ1VwZ3JhZGVzJywgdXBncmFkZXMpXG5cbiAgLmNvbnN0YW50KCdWZXJzaW9uJywgJzAuMC4xJylcblxuICAuc2VydmljZSgnZmF2aWNvJywgZmF2aWNvKVxuXG4gIC5zZXJ2aWNlKCdBbmltYXRlZEZseVRpcCcsIGFuaW1hdGVkRmx5VGlwKVxuXG4gIC5zZXJ2aWNlKCdHYW1lU3RhdGUnLCBnYW1lU3RhdGUpXG5cbiAgLnNlcnZpY2UoJ0dhbWVUaW1lcicsIGdhbWVUaW1lcilcblxuICAuc2VydmljZSgnR2FpbkNhbGN1bGF0b3InLCBnYWluQ2FsY3VsYXRvcilcblxuICAuc2VydmljZSgnRnVuY3Rpb25CdWlsZGVyJywgZnVuY3Rpb25CdWlsZGVyKVxuXG4gIC5jb250cm9sbGVyKCdHYW1lJywgW1xuICAgICckc2NvcGUnLCAnJHdpbmRvdycsICckaW50ZXJ2YWwnLCAnJGZpbHRlcicsICdHYW1lU3RhdGUnLCAnR2FtZVRpbWVyJywgJ0Z1bmN0aW9uQnVpbGRlcicsICdVcGdyYWRlcycsICdmYXZpY28nLCAnbmdUYWJsZVBhcmFtcycsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsICRmaWx0ZXIsIEdhbWVTdGF0ZSwgR2FtZVRpbWVyLCBGdW5jdGlvbkJ1aWxkZXIsIFVQR1JBREVTLCBmYXZpY28sIE5nVGFibGVQYXJhbXMpIHtcblxuICAgICAgJHNjb3BlLl92aXNpYmxlVXBncmFkZXMgPSBbXTtcblxuICAgICAgJHNjb3BlLnRhYmxlUGFyYW1zID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBjb3VudDogMTAwMFxuICAgICAgfSwge1xuICAgICAgICBncm91cEJ5OiAnY2F0ZWdvcnknLFxuICAgICAgICB0b3RhbDogJHNjb3BlLl92aXNpYmxlVXBncmFkZXMubGVuZ3RoLFxuICAgICAgICBnZXREYXRhOiBmdW5jdGlvbigkZGVmZXIsIHBhcmFtcykge1xuXG4gICAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcztcblxuICAgICAgICAgIHZhciBvcmRlcmVkRGF0YSA9IHBhcmFtcy5zb3J0aW5nKCkgP1xuICAgICAgICAgICAgJGZpbHRlcignb3JkZXJCeScpKGRhdGEsIHBhcmFtcy5vcmRlckJ5KCkpIDpcbiAgICAgICAgICAgIGRhdGE7XG5cbiAgICAgICAgICB2YXIgZmlsdGVyZWREYXRhID0gcGFyYW1zLmZpbHRlcigpID9cbiAgICAgICAgICAgICRmaWx0ZXIoJ2ZpbHRlcicpKG9yZGVyZWREYXRhLCBwYXJhbXMuZmlsdGVyKCkpIDpcbiAgICAgICAgICAgIG9yZGVyZWREYXRhO1xuXG4gICAgICAgICAgcGFyYW1zLnRvdGFsKCRzY29wZS5fdmlzaWJsZVVwZ3JhZGVzLmxlbmd0aCk7XG5cbiAgICAgICAgICAkZGVmZXIucmVzb2x2ZShmaWx0ZXJlZERhdGEuc2xpY2UoKHBhcmFtcy5wYWdlKCkgLSAxKSAqIHBhcmFtcy5jb3VudCgpLCBwYXJhbXMucGFnZSgpICogcGFyYW1zLmNvdW50KCkpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5oYXNVcGdyYWRlID0gZnVuY3Rpb24oa2V5LCBsZXZlbCA9IDApIHtcbiAgICAgICAgcmV0dXJuIEdhbWVTdGF0ZS51cGdyYWRlLmhhcyhrZXksIGxldmVsKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5oYXNVbml0cyA9IGZ1bmN0aW9uKGFtdCkge1xuICAgICAgICByZXR1cm4gR2FtZVN0YXRlLnVuaXQuaGFzKGFtdCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUudmlzaWJsZVVwZ3JhZGVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGN1cnJlbnQgPSAkc2NvcGUuX3VuaXRzO1xuICAgICAgICB2YXIgYWxsUmV0ID0gW107XG5cbiAgICAgICAgXy5lYWNoKFVQR1JBREVTLCAoaXRlbSwgaXRlbU5hbWUpID0+IHtcblxuICAgICAgICAgIHZhciByZXQgPSBbXTtcblxuICAgICAgICAgIHZhciBtZWV0c0FsbFJlcXMgPSB0cnVlO1xuXG4gICAgICAgICAgXy5lYWNoKGl0ZW0ucmVxdWlyZW1lbnRzLCAocmVxLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmKCEkc2NvcGUuaGFzVXBncmFkZShrZXksIHJlcSkpIHsgbWVldHNBbGxSZXFzID0gZmFsc2U7IH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmKCFtZWV0c0FsbFJlcXMpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICBfLmVhY2goaXRlbS5jb3N0cywgKGNvc3QsIGkpID0+IHtcbiAgICAgICAgICAgIHZhciB2aXNMZXZlbCA9IEdhbWVTdGF0ZS51cGdyYWRlLmdldEtleSgnVXBncmFkZSBWaXNpYmlsaXR5Jyk7XG4gICAgICAgICAgICB2YXIgdmlzaWJpbGl0eUJvb3N0ID0gMSArIChfLmlzVW5kZWZpbmVkKHZpc0xldmVsKSA/IDAgOiAwLjE1KnZpc0xldmVsKTtcblxuXG4gICAgICAgICAgICB2YXIgcHJldkl0ZW0gPSByZXRbcmV0Lmxlbmd0aC0xXTtcbiAgICAgICAgICAgIHZhciB0b3RhbENvc3QgPSBjb3N0ICsgKHByZXZJdGVtID8gcHJldkl0ZW0uY29zdCA6IDApO1xuXG4gICAgICAgICAgICBpZigkc2NvcGUuaGFzVXBncmFkZShpdGVtTmFtZSwgaSkgfHwgdG90YWxDb3N0L3Zpc2liaWxpdHlCb29zdCA+IGN1cnJlbnQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHJldC5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogaXRlbU5hbWUsXG4gICAgICAgICAgICAgIGxldmVsOiBpLFxuICAgICAgICAgICAgICBjb3N0OiB0b3RhbENvc3QsXG4gICAgICAgICAgICAgIGJ1eUxldmVsczogMSArIChwcmV2SXRlbSA/IHByZXZJdGVtLmJ1eUxldmVscyA6IDApLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogaXRlbS5jYXRlZ29yeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhbGxSZXQucHVzaCguLi5yZXQpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKCRzY29wZS5oYXNVcGdyYWRlKCdBbHBoYWJldGl6ZWQgVXBncmFkZXMnKSkge1xuICAgICAgICAgIGFsbFJldCA9IF8uc29ydEJ5T3JkZXIoYWxsUmV0LCBbJ25hbWUnLCAnbGV2ZWwnXSwgW3RydWUsIHRydWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCRzY29wZS5oYXNVcGdyYWRlKCdCZXN0IEZhdmljb24nKSkge1xuICAgICAgICAgIHZhciBidXlhYmxlVXBncmFkZXMgPSBfLmZpbHRlcihhbGxSZXQsIGl0ZW0gPT4gaXRlbS5jb3N0IDwgJHNjb3BlLl91bml0cykubGVuZ3RoO1xuICAgICAgICAgIGlmKGJ1eWFibGVVcGdyYWRlcyA+IDApIHtcbiAgICAgICAgICAgIGZhdmljby5iYWRnZShidXlhYmxlVXBncmFkZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYXZpY28ucmVzZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWxsUmV0O1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmJ1eVVwZ3JhZGUgPSBmdW5jdGlvbih1cGdOYW1lLCBsZXZlbHMgPSAxKSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBHYW1lU3RhdGUudXBncmFkZS5pbmModXBnTmFtZSk7XG4gICAgICAgIH0gd2hpbGUoLS1sZXZlbHMgPiAwKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5nYWluVW5pdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHdpbmRvdy5pbmNyZWFzZVVuaXRzKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBHYW1lU3RhdGUuc2F2ZSgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLl91bml0cyA9IEdhbWVTdGF0ZS51bml0LmdldCgpO1xuICAgICAgICAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcyA9ICRzY29wZS52aXNpYmxlVXBncmFkZXMoKTtcbiAgICAgICAgJHNjb3BlLl9mdW5jdGlvbiA9IEZ1bmN0aW9uQnVpbGRlci5idWlsZCgpO1xuXG4gICAgICAgICRzY29wZS50YWJsZVBhcmFtcy5yZWxvYWQoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZWZyZXNoKCk7XG4gICAgICAkc2NvcGUuX3RpbWVyID0gMDtcbiAgICAgICRzY29wZS5fdGltZXJtYXggPSAwO1xuICAgICAgdmFyIHRpbWVySW50ZXJ2YWw7XG5cbiAgICAgIEdhbWVTdGF0ZS51bml0LndhdGNoKCkudGhlbihudWxsLCBudWxsLCAkc2NvcGUucmVmcmVzaCk7XG4gICAgICBHYW1lU3RhdGUudXBncmFkZS53YXRjaCgpLnRoZW4obnVsbCwgbnVsbCwgJHNjb3BlLnJlZnJlc2gpO1xuXG4gICAgICBHYW1lVGltZXIud2F0Y2goKS50aGVuKG51bGwsIG51bGwsIGZ1bmN0aW9uKG5ld1RpbWVyVmFsdWUpIHtcbiAgICAgICAgJHNjb3BlLl90aW1lciA9ICRzY29wZS5fdGltZXJNYXggPSBuZXdUaW1lclZhbHVlO1xuICAgICAgICBpZih0aW1lckludGVydmFsKSB7XG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbCh0aW1lckludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lckludGVydmFsID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5fdGltZXIgLT0gMTAwO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSk7XG5cbiAgICAgICR3aW5kb3cuZHVtcFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBHYW1lU3RhdGUudXBncmFkZS5nZXQoKTtcbiAgICAgIH07XG5cbiAgICAgICR3aW5kb3cuZHVtcERlYnVnSW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoR2FtZVN0YXRlLmJ1aWxkU2F2ZU9iamVjdCgpLCBudWxsLCA0KTtcbiAgICAgIH07XG5cbiAgICB9XG4gIF0pOyIsInZhciBhbmltYXRlZEZseVRpcCA9IGZ1bmN0aW9uKCRmaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICBmbHk6IGZ1bmN0aW9uKG51bSwgdXNlU2VwYXJhdG9yID0gZmFsc2UpIHtcbiAgICAgIHZhciAkZWxlbWVudCA9ICQoJzxkaXYgLz4nKTtcblxuICAgICAgdmFyIG51bVN0cmluZyA9IG51bTtcbiAgICAgIGlmKHVzZVNlcGFyYXRvcikge1xuICAgICAgICBudW1TdHJpbmcgPSAkZmlsdGVyKCdudW1iZXInKShudW1TdHJpbmcsIDApO1xuICAgICAgfVxuXG4gICAgICBpZihudW0gPCAwKSB7XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKCd0ZXh0LWRhbmdlcicpO1xuICAgICAgICAkZWxlbWVudC5odG1sKG51bVN0cmluZyk7XG4gICAgICB9IGVsc2UgaWYobnVtID4gMCkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygndGV4dC1zdWNjZXNzJyk7XG4gICAgICAgICRlbGVtZW50Lmh0bWwoYCske251bVN0cmluZ31gKTtcbiAgICAgIH1cblxuICAgICAgJGVsZW1lbnQuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgICAgJCgnYm9keScpLmFwcGVuZCgkZWxlbWVudCk7XG5cbiAgICAgIHZhciAkYmFzZSA9ICQoJyNuYXZiYXItdW5pdCcpO1xuICAgICAgJGVsZW1lbnQub2Zmc2V0KHtsZWZ0OiAkYmFzZS5vZmZzZXQoKS5sZWZ0LCB0b3A6ICRiYXNlLm9mZnNldCgpLnRvcH0pO1xuXG4gICAgICAkZWxlbWVudC5hbmltYXRlKHt0b3A6ICc2MHB4J30pO1xuICAgICAgJGVsZW1lbnQuYW5pbWF0ZSh7b3BhY2l0eTogMCwgdG9wOiAnNjBweCd9LCA1MDAsICdzd2luZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH07XG59O1xuXG5hbmltYXRlZEZseVRpcC4kaW5qZWN0ID0gWyckZmlsdGVyJ107XG5cbm1vZHVsZS5leHBvcnRzID0gYW5pbWF0ZWRGbHlUaXA7IiwiXG52YXIgZmF2aWNvID0gZnVuY3Rpb24oKSB7XG4gIHZhciBmYXZpY28gPSBuZXcgRmF2aWNvKHtcbiAgICBhbmltYXRpb24gOiAnZmFkZSdcbiAgfSk7XG5cbiAgdmFyIGN1cnJlbnROdW0gPSAwO1xuXG4gIHZhciBiYWRnZSA9IGZ1bmN0aW9uKG51bSkge1xuICAgIGlmKG51bSA9PT0gY3VycmVudE51bSkgeyByZXR1cm47IH1cbiAgICBjdXJyZW50TnVtID0gbnVtO1xuICAgIGZhdmljby5iYWRnZShudW0pO1xuICB9O1xuICB2YXIgcmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICBmYXZpY28ucmVzZXQoKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGJhZGdlIDogYmFkZ2UsXG4gICAgcmVzZXQgOiByZXNldFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmYXZpY287IiwidmFyIGZ1bmN0aW9uQnVpbGRlciA9IGZ1bmN0aW9uKEdhbWVTdGF0ZSwgR2FpbkNhbGN1bGF0b3IsICR3aW5kb3cpIHtcbiAgcmV0dXJuIHtcbiAgICBidWlsZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB1bml0VGV4dCA9ICd1bml0cyc7XG5cbiAgICAgIHZhciBmdW5jdGlvbkhlYWRlciA9IFsnJywnJ107XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ0Z1bmN0aW9uJykpIHtcbiAgICAgICAgZnVuY3Rpb25IZWFkZXIgPSBbYGZ1bmN0aW9uIGluY3JlYXNlVW5pdHMoKSB7YCwgYH1gXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZXJhdGlvbkhlYWRlciA9IFsnJywnJ107XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ0Jhc2ljIEl0ZXJhdGlvbicpKSB7XG4gICAgICAgIGl0ZXJhdGlvbkhlYWRlciA9IFtgZm9yKHZhciBpID0gMDsgaSA8ICR7R2FpbkNhbGN1bGF0b3IuaXRlcmF0aW9uKCl9OyBpKyspIHtgLCBgfWBdO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGltZW91dCA9IGBgO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7XG4gICAgICAgIHRpbWVvdXQgPSBgJGludGVydmFsKGluY3JlYXNlVW5pdHMsICR7R2FpbkNhbGN1bGF0b3IudGltZXIoKX0pO1xcbmA7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbmltYXRpb25IZWFkZXIgPSBbJycsJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBBbmltYXRpb24nKSkge1xuICAgICAgICBhbmltYXRpb25IZWFkZXIgPSBbXG4gICAgICAgICAgYHZhciB0b3RhbFVuaXRzR2FpbmVkID0gMDtgLFxuICAgICAgICAgIGB1bml0cyArPSB0b3RhbFVuaXRzR2FpbmVkO1xuICAgICAgICAgIGFuaW1hdGVVbml0Q2hhbmdlKHRvdGFsVW5pdHNHYWluZWQpO2BdO1xuICAgICAgICB1bml0VGV4dCA9ICd0b3RhbFVuaXRzR2FpbmVkJztcbiAgICAgIH1cblxuICAgICAgdmFyIHNhdmVIZWFkZXIgPSBbJycsICcnXTtcbiAgICAgIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnU2F2ZScsIDEpKSB7XG4gICAgICAgIHNhdmVIZWFkZXIgPSBbYFxcbnZhciBjdXJyZW50VGljayA9IDA7YCwgYFxuICBpZihjdXJyZW50VGljaysrICUgMTAgPT09IDApIHtcbiAgICBjdXJyZW50VGljayA9IDA7XG4gICAgc2F2ZSgpO1xuICB9YF07XG4gICAgICB9XG5cbiAgICAgIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnU2F2ZScsIDMpKSB7XG4gICAgICAgIHNhdmVIZWFkZXIgPSBbJycsIGBcbiAgc2F2ZSgpO2BdO1xuICAgICAgfVxuXG4gICAgICAvLyBkdW1wIGl0IG9uIHRoZSBwYWdlLiBpdCdzIGFuIFwiZXhwbG9pdFwiXG4gICAgICAkd2luZG93LmluY3JlYXNlVW5pdHMgPSBmdW5jdGlvbigpIHsgR2FtZVN0YXRlLnVuaXQuaW5jKEdhaW5DYWxjdWxhdG9yLmFsbCgpKTsgfTtcblxuICAgICAgcmV0dXJuIGAke3RpbWVvdXR9JHtzYXZlSGVhZGVyWzBdfVxuJHtmdW5jdGlvbkhlYWRlclswXX1cbiAgJHthbmltYXRpb25IZWFkZXJbMF19XG4gICR7aXRlcmF0aW9uSGVhZGVyWzBdfVxuICAgICR7dW5pdFRleHR9ICs9ICR7R2FpbkNhbGN1bGF0b3IuYm9vc3QoKX07XG4gICR7aXRlcmF0aW9uSGVhZGVyWzFdfVxuICAke3NhdmVIZWFkZXJbMV19XG4gICR7YW5pbWF0aW9uSGVhZGVyWzFdfVxuJHtmdW5jdGlvbkhlYWRlclsxXX1cbmA7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb25CdWlsZGVyLiRpbmplY3QgPSBbJ0dhbWVTdGF0ZScsICdHYWluQ2FsY3VsYXRvcicsICckd2luZG93J107XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb25CdWlsZGVyOyIsInZhciBnYWluQ2FsY3VsYXRvciA9IGZ1bmN0aW9uKEdhbWVTdGF0ZSkge1xuXG4gIHZhciBib29zdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNYXRoLnBvdygoR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0S2V5KCdCYXNpYyBCb29zdCcpIHx8IDApKzEsIDIpO1xuICB9O1xuXG4gIHZhciBpdGVyYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlckxldmVsID0gR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0S2V5KCdCYXNpYyBJdGVyYXRpb24nKTtcbiAgICBpZighaXRlckxldmVsKSB7IHJldHVybiAxOyB9XG4gICAgcmV0dXJuIE1hdGgucG93KDQsIGl0ZXJMZXZlbCsxKTtcbiAgfTtcblxuICB2YXIgdGltZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYmFzaWNSZWR1Y3Rpb24gPSAwLjA1ICogR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0S2V5KCdCYXNpYyBUaW1lcicpO1xuICAgIHZhciBhZHZhbmNlZFJlZHVjdGlvbiA9IDAuMTUgKiBHYW1lU3RhdGUudXBncmFkZS5nZXRLZXkoJ0FkdmFuY2VkIFRpbWVyJyk7XG4gICAgYWR2YW5jZWRSZWR1Y3Rpb24gPSBfLmlzTmFOKGFkdmFuY2VkUmVkdWN0aW9uKSA/IDAgOiBhZHZhbmNlZFJlZHVjdGlvbjtcbiAgICByZXR1cm4gMzAwMDAgLSAoMzAwMDAgKiAoYmFzaWNSZWR1Y3Rpb24gKyBhZHZhbmNlZFJlZHVjdGlvbikpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9vc3Q6IGJvb3N0LFxuICAgIGl0ZXJhdGlvbjogaXRlcmF0aW9uLFxuICAgIHRpbWVyOiB0aW1lcixcbiAgICBhbGw6IGZ1bmN0aW9uKCkgeyByZXR1cm4gYm9vc3QoKSAqIGl0ZXJhdGlvbigpOyB9XG4gIH07XG59O1xuXG5nYWluQ2FsY3VsYXRvci4kaW5qZWN0ID0gWydHYW1lU3RhdGUnXTtcblxubW9kdWxlLmV4cG9ydHMgPSBnYWluQ2FsY3VsYXRvcjsiLCJ2YXIgZ2FtZVN0YXRlID0gZnVuY3Rpb24oJHEsIFVQR1JBREVTLCBsb2NhbFN0b3JhZ2UsIEFuaW1hdGVkRmx5VGlwKSB7XG4gIHZhciB1cGdyYWRlcyA9IHt9O1xuICB2YXIgdW5pdHMgPSAxMDAwMDA7XG4gIHZhciBzdGFydCA9IERhdGUubm93KCk7XG5cbiAgdmFyIHVwZ3JhZGVEZWZlciA9ICRxLmRlZmVyKCk7XG4gIHZhciB1bml0RGVmZXIgPSAkcS5kZWZlcigpO1xuXG4gIHZhciBidWlsZFNhdmVPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdW5pdHM6IHVuaXRzLFxuICAgICAgdXBncmFkZXM6IHVwZ3JhZGVzLFxuICAgICAgc3RhcnQ6IHN0YXJ0XG4gICAgfTtcbiAgfTtcblxuICB2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2dhbWUnLCBidWlsZFNhdmVPYmplY3QoKSk7XG4gIH07XG5cbiAgdmFyIGxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdnYW1lJyk7XG5cbiAgICBpZighc3RhdGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZihzdGF0ZS51bml0cykge1xuICAgICAgdW5pdHMgPSBzdGF0ZS51bml0cztcbiAgICB9XG5cbiAgICBpZihzdGF0ZS51cGdyYWRlcykge1xuICAgICAgdXBncmFkZXMgPSBzdGF0ZS51cGdyYWRlcztcbiAgICB9XG5cbiAgICBpZihzdGF0ZS5zdGFydCkge1xuICAgICAgc3RhcnQgPSBzdGF0ZS5zdGFydDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZ3JhZGUgPSB7XG4gICAgaGFzOiBmdW5jdGlvbihrZXksIGxldmVsID0gMCkgeyByZXR1cm4gdXBncmFkZXNba2V5XSA+IGxldmVsOyB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1cGdyYWRlczsgfSxcbiAgICBnZXRLZXk6IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdXBncmFkZXNba2V5XTsgfSxcbiAgICBpbmM6IGZ1bmN0aW9uKGtleSkge1xuXG4gICAgICB2YXIgbmV4dExldmVsID0gdXBncmFkZXNba2V5XSB8fCAwO1xuICAgICAgdmFyIGNvc3QgPSBVUEdSQURFU1trZXldLmNvc3RzW25leHRMZXZlbF07XG4gICAgICBpZih1bml0cyA8IGNvc3QpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGlmKCF1cGdyYWRlc1trZXldKSB7IHVwZ3JhZGVzW2tleV0gPSAwOyB9XG4gICAgICB1cGdyYWRlc1trZXldKys7XG4gICAgICB1bml0LmluYygtY29zdCk7XG4gICAgICB1cGdyYWRlRGVmZXIubm90aWZ5KHtrZXk6IGtleSwgbGV2ZWw6IHVwZ3JhZGVzW2tleV0sIGFsbDogdXBncmFkZXN9KTtcbiAgICB9LFxuICAgIHdhdGNoOiBmdW5jdGlvbigpIHsgcmV0dXJuIHVwZ3JhZGVEZWZlci5wcm9taXNlOyB9XG4gIH07XG5cbiAgdmFyIHRpY2sgPSAwO1xuXG4gIHZhciB1bml0ID0ge1xuICAgIGhhczogZnVuY3Rpb24oYW10KSB7IHJldHVybiB1bml0cyA+IGFtdDsgfSxcbiAgICBpbmM6IGZ1bmN0aW9uKGFtdCkge1xuICAgICAgdW5pdHMgKz0gYW10O1xuICAgICAgdW5pdERlZmVyLm5vdGlmeSh1bml0cyk7XG5cbiAgICAgIGlmKHVwZ3JhZGUuaGFzKCdCYXNpYyBBbmltYXRpb24nKSkge1xuICAgICAgICBBbmltYXRlZEZseVRpcC5mbHkoYW10LCB1cGdyYWRlLmhhcygnTnVtYmVyIEZvcm1hdHRpbmcnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHVwZ3JhZGUuaGFzKCdTYXZlJywgMSkgJiYgIXVwZ3JhZGUuaGFzKCdTYXZlJywgMykpIHtcbiAgICAgICAgaWYodGljaysrICUgMTAgPT09IDApIHtcbiAgICAgICAgICB0aWNrID0gMDtcbiAgICAgICAgICBzYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodXBncmFkZS5oYXMoJ1NhdmUnLCAzKSkge1xuICAgICAgICBzYXZlKCk7XG4gICAgICB9XG5cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0czsgfSxcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0RGVmZXIucHJvbWlzZTsgfVxuICB9O1xuXG4gIGxvYWQoKTtcblxuICByZXR1cm4ge1xuICAgIHVwZ3JhZGU6IHVwZ3JhZGUsXG4gICAgdW5pdDogdW5pdCxcbiAgICBzYXZlOiBzYXZlLFxuICAgIGJ1aWxkU2F2ZU9iamVjdDogYnVpbGRTYXZlT2JqZWN0XG4gIH07XG59O1xuXG5nYW1lU3RhdGUuJGluamVjdCA9IFsnJHEnLCAnVXBncmFkZXMnLCAnbG9jYWxTdG9yYWdlU2VydmljZScsICdBbmltYXRlZEZseVRpcCddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVTdGF0ZTsiLCJ2YXIgZ2FtZVRpbWVyID0gZnVuY3Rpb24oJHEsICRpbnRlcnZhbCwgJHRpbWVvdXQsICR3aW5kb3csIEdhbWVTdGF0ZSwgR2FpbkNhbGN1bGF0b3IpIHtcblxuICB2YXIgaW50ZXJ2YWwgPSBudWxsO1xuICB2YXIgdGltZXJEZWZlciA9ICRxLmRlZmVyKCk7XG5cbiAgdmFyIHN0YXJ0VGltZXIgPSBmdW5jdGlvbih1cGdyYWRlRGF0YSA9IHtrZXk6ICdUaW1lcid9KSB7XG5cbiAgICBpZighR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7IHJldHVybjsgfVxuICAgIGlmKCFfLmNvbnRhaW5zKHVwZ3JhZGVEYXRhLmtleSwgJ1RpbWVyJykpIHsgcmV0dXJuOyB9XG5cbiAgICBpZihpbnRlcnZhbCkge1xuICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAkd2luZG93LmluY3JlYXNlVW5pdHMoKTtcbiAgICAgIHRpbWVyRGVmZXIubm90aWZ5KEdhaW5DYWxjdWxhdG9yLnRpbWVyKCkpO1xuICAgIH0sIEdhaW5DYWxjdWxhdG9yLnRpbWVyKCkpO1xuXG4gICAgdGltZXJEZWZlci5ub3RpZnkoR2FpbkNhbGN1bGF0b3IudGltZXIoKSk7XG4gIH07XG5cbiAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7XG4gICAgJHRpbWVvdXQoc3RhcnRUaW1lciwgMCk7XG4gIH1cblxuICBHYW1lU3RhdGUudXBncmFkZS53YXRjaCgpLnRoZW4obnVsbCwgbnVsbCwgc3RhcnRUaW1lcik7XG5cbiAgcmV0dXJuIHtcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGltZXJEZWZlci5wcm9taXNlO1xuICAgIH1cbiAgfTtcblxufTtcblxuZ2FtZVRpbWVyLiRpbmplY3QgPSBbJyRxJywgJyRpbnRlcnZhbCcsICckdGltZW91dCcsICckd2luZG93JywgJ0dhbWVTdGF0ZScsICdHYWluQ2FsY3VsYXRvciddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVUaW1lcjsiLCJcbm1vZHVsZS5leHBvcnRzID0ge1xuICBTY29yZWJvYXJkOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIGNvc3RzOiBbMTBdXG4gIH0sXG4gICdCYXNpYyBMYXlvdXQnOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIGNvc3RzOiBbMTUsIDIwMF1cbiAgfSxcbiAgJ0JldHRlciBMYXlvdXQnOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBMYXlvdXQnOiAxfSxcbiAgICBjb3N0czogWzIwMCwgMjAwMF1cbiAgfSxcbiAgRnVuY3Rpb246IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIGNvc3RzOiBbMjBdXG4gIH0sXG4gICdCYXNpYyBJdGVyYXRpb24nOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgY29zdHM6IFs1MCwgMzAwLCAyMDAwMCwgMTUwMDAwXVxuICB9LFxuICAnQmFzaWMgVGltZXInOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgY29zdHM6IFs1MCwgNjAwLCAyMDAwMCwgMTAwMDAwXVxuICB9LFxuICAnQmFzaWMgQm9vc3QnOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgY29zdHM6IFsxMCwgMTAwLCAyNTAwMCwgMjAwMDAwXVxuICB9LFxuICBDYXBpdGFsaXphdGlvbjoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICBjb3N0czogWzEwMF1cbiAgfSxcbiAgUHJlZm9ybWF0dGluZzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgSXRlcmF0aW9uJzogMH0sXG4gICAgY29zdHM6IFsxNTBdXG4gIH0sXG4gICdWaXN1YWwgQ291bnRkb3duJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgVGltZXInOiAwfSxcbiAgICBjb3N0czogWzEwMDBdXG4gIH0sXG4gICdQYWdlIFRpdGxlJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIGNvc3RzOiBbNTAwXVxuICB9LFxuICAnQmV0dGVyIFBhZ2UgVGl0bGUnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J1BhZ2UgVGl0bGUnOiAwLCAnU2NvcmVib2FyZCc6IDB9LFxuICAgIGNvc3RzOiBbMjUwMF1cbiAgfSxcbiAgJ0FscGhhYmV0aXplZCBVcGdyYWRlcyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQ2FwaXRhbGl6YXRpb24nOiAwLCAnQmV0dGVyIExheW91dCc6IDB9LFxuICAgIGNvc3RzOiBbNTAwMF1cbiAgfSxcbiAgJ1VwZ3JhZGUgVmlzaWJpbGl0eSc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQWxwaGFiZXRpemVkIFVwZ3JhZGVzJzogMH0sXG4gICAgY29zdHM6IFs2NTAwLCA4NTAwLCAxMDUwMF1cbiAgfSxcbiAgJ1Byb2dyZXNzIEJhcic6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxLCAnQmFzaWMgQ29sb3InOiAwfSxcbiAgICBjb3N0czogWzUwMDBdXG4gIH0sXG4gICdCYXNpYyBTdHlsZSc6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxfSxcbiAgICBjb3N0czogWzEwMDAwLCAyMDAwMF1cbiAgfSxcbiAgJ0Jhc2ljIENvbG9yJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBjb3N0czogWzEyNTAwXVxuICB9LFxuICBJY29ub2dyYXBoeToge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBjb3N0czogWzI1MDAwXVxuICB9LFxuICAnTnVtYmVyIEZvcm1hdHRpbmcnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMH0sXG4gICAgY29zdHM6IFsyMDAwMF1cbiAgfSxcbiAgJ0Jhc2ljIEFuaW1hdGlvbic6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwLCAnQmFzaWMgSXRlcmF0aW9uJzogMCwgJ0Jhc2ljIENvbG9yJzogMH0sXG4gICAgY29zdHM6IFsxMDAwMDBdXG4gIH0sXG4gICdGYXZpY29uJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIGNvc3RzOiBbMjAwMF1cbiAgfSxcbiAgJ0Jlc3QgRmF2aWNvbic6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmV0dGVyIFBhZ2UgVGl0bGUnOiAwLCAnRmF2aWNvbic6IDB9LFxuICAgIGNvc3RzOiBbMTAwMDAwXVxuICB9LFxuICAnU3ludGF4IEhpZ2hsaWdodGluZyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnUHJlZm9ybWF0dGluZyc6IDB9LFxuICAgIGNvc3RzOiBbNTAwMDBdXG4gIH0sXG4gICdTYXZlJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgY29zdHM6IFszMDAsIDUwMDAsIDIwMDAwLCAxNTAwMDBdXG4gIH0sXG4gICdBZHZhbmNlZCBUaW1lcic6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBUaW1lcic6IDN9LFxuICAgIGNvc3RzOiBbMjAwMDAwLCA3NTAwMDAsIDE1MDAwMDBdXG4gIH0sXG4gICdCZXN0IFRhYmxlJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMX0sXG4gICAgY29zdHM6IFsyNTAwMDBdXG4gIH1cbn07Il19
