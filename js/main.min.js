(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/js/main.js":[function(require,module,exports){
'use strict';

var upgrades = require('./upgrades');
var gameState = require('./gamestate');
var gameTimer = require('./gametimer');
var gainCalculator = require('./gaincalculator');
var functionBuilder = require('./functionbuilder');
var animatedFlyTip = require('./animatedflytip');
var favico = require('./favico');

angular.module('c', ['ui.bootstrap', 'hljs', 'LocalStorageModule', 'ngTable']).constant('Upgrades', upgrades).constant('Version', '0.0.1').service('favico', favico).service('AnimatedFlyTip', animatedFlyTip).service('GameState', gameState).service('GameTimer', gameTimer).service('GainCalculator', gainCalculator).service('FunctionBuilder', functionBuilder).controller('Game', ['$scope', '$window', '$interval', '$filter', 'GameState', 'GameTimer', 'FunctionBuilder', 'Upgrades', 'favico', 'ngTableParams', function ($scope, $window, $interval, $filter, GameState, GameTimer, FunctionBuilder, UPGRADES, favico, NgTableParams) {

  $scope._visibleUpgrades = [];

  $scope.tableParams = new NgTableParams({
    page: 1,
    count: 1000
  }, {
    groupBy: 'category',
    total: $scope._visibleUpgrades.length,
    getData: function getData($defer, params) {

      var data = $scope._visibleUpgrades;

      var orderedData = params.sorting() ? $filter('orderBy')(data, params.orderBy()) : data;

      var filteredData = params.filter() ? $filter('filter')(orderedData, params.filter()) : orderedData;

      params.total($scope._visibleUpgrades.length);

      $defer.resolve(filteredData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
    }
  });

  $scope.hasUpgrade = function (key) {
    var level = arguments[1] === undefined ? 0 : arguments[1];

    return GameState.upgrade.has(key, level);
  };

  $scope.hasUnits = function (amt) {
    return GameState.unit.has(amt);
  };

  $scope.visibleUpgrades = function () {

    var current = $scope._units;
    var allRet = [];

    _.each(UPGRADES, function (item, itemName) {

      var ret = [];

      var meetsAllReqs = true;

      _.each(item.requirements, function (req, key) {
        if (!$scope.hasUpgrade(key, req)) {
          meetsAllReqs = false;
        }
      });

      if (!meetsAllReqs) {
        return;
      }

      _.each(item.costs, function (cost, i) {
        var visLevel = GameState.upgrade.getKey('Upgrade Visibility');
        var visibilityBoost = 1 + (_.isUndefined(visLevel) ? 0 : 0.15 * visLevel);

        var prevItem = ret[ret.length - 1];
        var totalCost = cost + (prevItem ? prevItem.cost : 0);

        if ($scope.hasUpgrade(itemName, i) || totalCost / visibilityBoost > current) {
          return;
        }

        ret.push({
          name: itemName,
          level: i,
          cost: totalCost,
          buyLevels: 1 + (prevItem ? prevItem.buyLevels : 0),
          category: item.category
        });
      });

      allRet.push.apply(allRet, ret);
    });

    if ($scope.hasUpgrade('Alphabetized Upgrades')) {
      allRet = _.sortByOrder(allRet, ['name', 'level'], [true, true]);
    }

    if ($scope.hasUpgrade('Best Favicon')) {
      var buyableUpgrades = _.filter(allRet, function (item) {
        return item.cost < $scope._units;
      }).length;
      if (buyableUpgrades > 0) {
        favico.badge(buyableUpgrades);
      } else {
        favico.reset();
      }
    }

    return allRet;
  };

  $scope.buyUpgrade = function (upgName) {
    var levels = arguments[1] === undefined ? 1 : arguments[1];

    do {
      GameState.upgrade.inc(upgName);
    } while (--levels > 0);
  };

  $scope.gainUnits = function () {
    $window.increaseUnits();
  };

  $scope.save = function () {
    GameState.save();
  };

  $scope.refresh = function () {
    $scope._units = GameState.unit.get();
    $scope._visibleUpgrades = $scope.visibleUpgrades();
    $scope._function = FunctionBuilder.build();

    $scope.tableParams.reload();
  };

  $scope.refresh();
  $scope._timer = 0;
  $scope._timermax = 0;
  var timerInterval;

  GameState.unit.watch().then(null, null, $scope.refresh);
  GameState.upgrade.watch().then(null, null, $scope.refresh);

  GameTimer.watch().then(null, null, function (newTimerValue) {
    $scope._timer = $scope._timerMax = newTimerValue;
    if (timerInterval) {
      $interval.cancel(timerInterval);
    }
    timerInterval = $interval(function () {
      $scope._timer -= 100;
    }, 100);
  });

  $window.dumpState = function () {
    return GameState.upgrade.get();
  };

  $window.dumpDebugInfo = function () {
    return JSON.stringify(GameState.buildSaveObject(), null, 4);
  };
}]);

},{"./animatedflytip":"/home/seiyria/projects/c/src/js/animatedflytip.js","./favico":"/home/seiyria/projects/c/src/js/favico.js","./functionbuilder":"/home/seiyria/projects/c/src/js/functionbuilder.js","./gaincalculator":"/home/seiyria/projects/c/src/js/gaincalculator.js","./gamestate":"/home/seiyria/projects/c/src/js/gamestate.js","./gametimer":"/home/seiyria/projects/c/src/js/gametimer.js","./upgrades":"/home/seiyria/projects/c/src/js/upgrades.js"}],"/home/seiyria/projects/c/src/js/animatedflytip.js":[function(require,module,exports){
'use strict';

var animatedFlyTip = function animatedFlyTip($filter) {
  return {
    fly: function fly(num) {
      var useSeparator = arguments[1] === undefined ? false : arguments[1];

      var $element = $('<div />');

      var numString = num;
      if (useSeparator) {
        numString = $filter('number')(numString, 0);
      }

      if (num < 0) {
        $element.addClass('text-danger');
        $element.html(numString);
      } else if (num > 0) {
        $element.addClass('text-success');
        $element.html('+' + numString);
      }

      $element.css('position', 'absolute');
      $('body').append($element);

      var $base = $('#navbar-unit');
      $element.offset({ left: $base.offset().left, top: $base.offset().top });

      $element.animate({ top: '60px' });
      $element.animate({ opacity: 0, top: '60px' }, 500, 'swing', function () {
        $(this).remove();
      });
    }
  };
};

animatedFlyTip.$inject = ['$filter'];

module.exports = animatedFlyTip;

},{}],"/home/seiyria/projects/c/src/js/favico.js":[function(require,module,exports){
'use strict';

var favico = function favico() {
  var favico = new Favico({
    animation: 'fade'
  });

  var currentNum = 0;

  var badge = function badge(num) {
    if (num === currentNum) {
      return;
    }
    currentNum = num;
    favico.badge(num);
  };
  var reset = function reset() {
    favico.reset();
  };

  return {
    badge: badge,
    reset: reset
  };
};

module.exports = favico;

},{}],"/home/seiyria/projects/c/src/js/functionbuilder.js":[function(require,module,exports){
'use strict';

var functionBuilder = function functionBuilder(GameState, GainCalculator, $window) {
  return {
    build: function build() {

      var unitText = 'units';

      var functionHeader = ['', ''];
      if (GameState.upgrade.has('Function')) {
        functionHeader = ['function increaseUnits() {', '}'];
      }

      var iterationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Iteration')) {
        iterationHeader = ['for(var i = 0; i < ' + GainCalculator.iteration() + '; i++) {', '}'];
      }

      var timeout = '';
      if (GameState.upgrade.has('Basic Timer')) {
        timeout = '$interval(increaseUnits, ' + GainCalculator.timer() + ');\n';
      }

      var animationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Animation')) {
        animationHeader = ['var totalUnitsGained = 0;', 'units += totalUnitsGained;\n          animateUnitChange(totalUnitsGained);'];
        unitText = 'totalUnitsGained';
      }

      var saveHeader = ['', ''];
      if (GameState.upgrade.has('Save', 1)) {
        saveHeader = ['\nvar currentTick = 0;', '\n  if(currentTick++ % 10 === 0) {\n    currentTick = 0;\n    save();\n  }'];
      }

      if (GameState.upgrade.has('Save', 3)) {
        saveHeader = ['', '\n  save();'];
      }

      // dump it on the page. it's an "exploit"
      $window.increaseUnits = function () {
        GameState.unit.inc(GainCalculator.all());
      };

      return '' + timeout + '' + saveHeader[0] + '\n' + functionHeader[0] + '\n  ' + animationHeader[0] + '\n  ' + iterationHeader[0] + '\n    ' + unitText + ' += ' + GainCalculator.boost() + ';\n  ' + iterationHeader[1] + '\n  ' + saveHeader[1] + '\n  ' + animationHeader[1] + '\n' + functionHeader[1] + '\n';
    }
  };
};

functionBuilder.$inject = ['GameState', 'GainCalculator', '$window'];

module.exports = functionBuilder;

},{}],"/home/seiyria/projects/c/src/js/gaincalculator.js":[function(require,module,exports){
'use strict';

var gainCalculator = function gainCalculator(GameState) {

  var boost = function boost() {
    return Math.pow((GameState.upgrade.getKey('Basic Boost') || 0) + 1, 2);
  };

  var iteration = function iteration() {
    var iterLevel = GameState.upgrade.getKey('Basic Iteration');
    if (!iterLevel) {
      return 1;
    }
    return Math.pow(4, iterLevel + 1);
  };

  var timer = function timer() {
    var basicReduction = 0.05 * GameState.upgrade.getKey('Basic Timer');
    var advancedReduction = 0.15 * GameState.upgrade.getKey('Advanced Timer');
    advancedReduction = _.isNaN(advancedReduction) ? 0 : advancedReduction;
    return 30000 - 30000 * (basicReduction + advancedReduction);
  };

  return {
    boost: boost,
    iteration: iteration,
    timer: timer,
    all: function all() {
      return boost() * iteration();
    }
  };
};

gainCalculator.$inject = ['GameState'];

module.exports = gainCalculator;

},{}],"/home/seiyria/projects/c/src/js/gamestate.js":[function(require,module,exports){
'use strict';

var gameState = function gameState($q, UPGRADES, localStorage, AnimatedFlyTip) {
  var upgrades = {};
  var units = 0;
  var start = Date.now();

  var upgradeDefer = $q.defer();
  var unitDefer = $q.defer();

  var buildSaveObject = function buildSaveObject() {
    return {
      units: units,
      upgrades: upgrades,
      start: start
    };
  };

  var save = function save() {
    localStorage.set('game', buildSaveObject());
  };

  var load = function load() {
    var state = localStorage.get('game');

    if (!state) {
      return;
    }

    if (state.units) {
      units = state.units;
    }

    if (state.upgrades) {
      upgrades = state.upgrades;
    }

    if (state.start) {
      start = state.start;
    }
  };

  var upgrade = {
    has: function has(key) {
      var level = arguments[1] === undefined ? 0 : arguments[1];
      return upgrades[key] > level;
    },
    get: function get() {
      return upgrades;
    },
    getKey: function getKey(key) {
      return upgrades[key];
    },
    inc: function inc(key) {

      var nextLevel = upgrades[key] || 0;
      var cost = UPGRADES[key].costs[nextLevel];
      if (units < cost) {
        return;
      }

      if (!upgrades[key]) {
        upgrades[key] = 0;
      }
      upgrades[key]++;
      unit.inc(-cost);
      upgradeDefer.notify({ key: key, level: upgrades[key], all: upgrades });
    },
    watch: function watch() {
      return upgradeDefer.promise;
    }
  };

  var tick = 0;

  var unit = {
    has: function has(amt) {
      return units > amt;
    },
    inc: function inc(amt) {
      units += amt;
      unitDefer.notify(units);

      if (upgrade.has('Basic Animation')) {
        AnimatedFlyTip.fly(amt, upgrade.has('Number Formatting'));
      }

      if (upgrade.has('Save', 1) && !upgrade.has('Save', 3)) {
        if (tick++ % 10 === 0) {
          tick = 0;
          save();
        }
      }

      if (upgrade.has('Save', 3)) {
        save();
      }
    },
    get: function get() {
      return units;
    },
    watch: function watch() {
      return unitDefer.promise;
    }
  };

  load();

  return {
    upgrade: upgrade,
    unit: unit,
    save: save,
    buildSaveObject: buildSaveObject
  };
};

gameState.$inject = ['$q', 'Upgrades', 'localStorageService', 'AnimatedFlyTip'];

module.exports = gameState;

},{}],"/home/seiyria/projects/c/src/js/gametimer.js":[function(require,module,exports){
'use strict';

var gameTimer = function gameTimer($q, $interval, $timeout, $window, GameState, GainCalculator) {

  var interval = null;
  var timerDefer = $q.defer();

  var startTimer = function startTimer() {
    var upgradeData = arguments[0] === undefined ? { key: 'Timer' } : arguments[0];

    if (!GameState.upgrade.has('Basic Timer')) {
      return;
    }
    if (!_.contains(upgradeData.key, 'Timer')) {
      return;
    }

    if (interval) {
      $interval.cancel(interval);
    }

    interval = $interval(function () {
      $window.increaseUnits();
      timerDefer.notify(GainCalculator.timer());
    }, GainCalculator.timer());

    timerDefer.notify(GainCalculator.timer());
  };

  if (GameState.upgrade.has('Basic Timer')) {
    $timeout(startTimer, 0);
  }

  GameState.upgrade.watch().then(null, null, startTimer);

  return {
    watch: function watch() {
      return timerDefer.promise;
    }
  };
};

gameTimer.$inject = ['$q', '$interval', '$timeout', '$window', 'GameState', 'GainCalculator'];

module.exports = gameTimer;

},{}],"/home/seiyria/projects/c/src/js/upgrades.js":[function(require,module,exports){
'use strict';

module.exports = {
  Scoreboard: {
    category: 'Visual',
    costs: [10]
  },
  'Basic Layout': {
    category: 'Visual',
    costs: [15, 200]
  },
  'Better Layout': {
    category: 'Visual',
    requirements: { 'Basic Layout': 1 },
    costs: [200, 2000]
  },
  Function: {
    category: 'Tech',
    costs: [20]
  },
  'Basic Iteration': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [50, 300, 20000, 150000]
  },
  'Basic Timer': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [50, 600, 20000, 100000]
  },
  'Basic Boost': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [10, 100, 25000, 200000]
  },
  Capitalization: {
    category: 'Visual',
    costs: [100]
  },
  Preformatting: {
    category: 'Visual',
    requirements: { 'Basic Iteration': 0 },
    costs: [150]
  },
  'Visual Countdown': {
    category: 'Visual',
    requirements: { 'Basic Timer': 0 },
    costs: [1000]
  },
  'Page Title': {
    category: 'Cosmetic',
    costs: [500]
  },
  'Better Page Title': {
    category: 'Cosmetic',
    requirements: { 'Page Title': 0, Scoreboard: 0 },
    costs: [2500]
  },
  'Alphabetized Upgrades': {
    category: 'Cosmetic',
    requirements: { Capitalization: 0, 'Better Layout': 0 },
    costs: [5000]
  },
  'Upgrade Visibility': {
    category: 'Cosmetic',
    requirements: { 'Alphabetized Upgrades': 0 },
    costs: [6500, 8500, 10500]
  },
  'Progress Bar': {
    category: 'Visual',
    requirements: { 'Better Layout': 1, 'Basic Color': 0 },
    costs: [5000]
  },
  'Basic Style': {
    category: 'Visual',
    requirements: { 'Better Layout': 1 },
    costs: [10000, 20000]
  },
  'Basic Color': {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    costs: [12500]
  },
  Iconography: {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    costs: [25000]
  },
  'Number Formatting': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0 },
    costs: [20000]
  },
  'Basic Animation': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0, 'Basic Iteration': 0, 'Basic Color': 0 },
    costs: [100000]
  },
  Favicon: {
    category: 'Cosmetic',
    costs: [2000]
  },
  'Best Favicon': {
    category: 'Cosmetic',
    requirements: { 'Better Page Title': 0, Favicon: 0 },
    costs: [100000]
  },
  'Syntax Highlighting': {
    category: 'Cosmetic',
    requirements: { Preformatting: 0 },
    costs: [50000]
  },
  Save: {
    category: 'Tech',
    costs: [300, 5000, 20000, 150000]
  },
  'Advanced Timer': {
    category: 'Tech',
    requirements: { 'Basic Timer': 3 },
    costs: [200000, 750000, 1500000]
  },
  'Best Table': {
    category: 'Tech',
    requirements: { 'Basic Style': 1 },
    costs: [250000]
  }
};

},{}]},{},["./src/js/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL21haW4uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2FuaW1hdGVkZmx5dGlwLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy9mYXZpY28uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2Z1bmN0aW9uYnVpbGRlci5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FpbmNhbGN1bGF0b3IuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2dhbWVzdGF0ZS5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FtZXRpbWVyLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy91cGdyYWRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3JDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2QyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbkQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVqQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsb0JBQW9CLEVB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RCxRQUFRO0FBQ04sWUFBUSxFQUFFLE1BQU07QUFDaEIsU0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDO0dBQ2xDO0FBQ0Qsa0JBQWdCLEVBQUU7QUFDaEIsWUFBUSxFQUFFLE1BQU07QUFDaEIsZ0JBQVksRUFBRSxFQUFDLGFBQWEsRUFBRSxDQUFDLEVBQUM7QUFDaEMsU0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUM7R0FDakM7QUFDRCxjQUFZLEVBQUU7QUFDWixZQUFRLEVBQUUsTUFBTTtBQUNoQixnQkFBWSxFQUFFLEVBQUMsYUFBYSxFQUFFLENBQUMsRUFBQztBQUNoQyxTQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUM7R0FDaEI7Q0FDRixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxudmFyIHVwZ3JhZGVzID0gcmVxdWlyZSgnLi91cGdyYWRlcycpO1xudmFyIGdhbWVTdGF0ZSA9IHJlcXVpcmUoJy4vZ2FtZXN0YXRlJyk7XG52YXIgZ2FtZVRpbWVyID0gcmVxdWlyZSgnLi9nYW1ldGltZXInKTtcbnZhciBnYWluQ2FsY3VsYXRvciA9IHJlcXVpcmUoJy4vZ2FpbmNhbGN1bGF0b3InKTtcbnZhciBmdW5jdGlvbkJ1aWxkZXIgPSByZXF1aXJlKCcuL2Z1bmN0aW9uYnVpbGRlcicpO1xudmFyIGFuaW1hdGVkRmx5VGlwID0gcmVxdWlyZSgnLi9hbmltYXRlZGZseXRpcCcpO1xudmFyIGZhdmljbyA9IHJlcXVpcmUoJy4vZmF2aWNvJyk7XG5cbmFuZ3VsYXIubW9kdWxlKCdjJywgWyd1aS5ib290c3RyYXAnLCAnaGxqcycsICdMb2NhbFN0b3JhZ2VNb2R1bGUnLCAnbmdUYWJsZSddKVxuXG4gIC5jb25zdGFudCgnVXBncmFkZXMnLCB1cGdyYWRlcylcblxuICAuY29uc3RhbnQoJ1ZlcnNpb24nLCAnMC4wLjEnKVxuXG4gIC5zZXJ2aWNlKCdmYXZpY28nLCBmYXZpY28pXG5cbiAgLnNlcnZpY2UoJ0FuaW1hdGVkRmx5VGlwJywgYW5pbWF0ZWRGbHlUaXApXG5cbiAgLnNlcnZpY2UoJ0dhbWVTdGF0ZScsIGdhbWVTdGF0ZSlcblxuICAuc2VydmljZSgnR2FtZVRpbWVyJywgZ2FtZVRpbWVyKVxuXG4gIC5zZXJ2aWNlKCdHYWluQ2FsY3VsYXRvcicsIGdhaW5DYWxjdWxhdG9yKVxuXG4gIC5zZXJ2aWNlKCdGdW5jdGlvbkJ1aWxkZXInLCBmdW5jdGlvbkJ1aWxkZXIpXG5cbiAgLmNvbnRyb2xsZXIoJ0dhbWUnLCBbXG4gICAgJyRzY29wZScsICckd2luZG93JywgJyRpbnRlcnZhbCcsICckZmlsdGVyJywgJ0dhbWVTdGF0ZScsICdHYW1lVGltZXInLCAnRnVuY3Rpb25CdWlsZGVyJywgJ1VwZ3JhZGVzJywgJ2ZhdmljbycsICduZ1RhYmxlUGFyYW1zJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgJGZpbHRlciwgR2FtZVN0YXRlLCBHYW1lVGltZXIsIEZ1bmN0aW9uQnVpbGRlciwgVVBHUkFERVMsIGZhdmljbywgTmdUYWJsZVBhcmFtcykge1xuXG4gICAgICAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcyA9IFtdO1xuXG4gICAgICAkc2NvcGUudGFibGVQYXJhbXMgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGNvdW50OiAxMDAwXG4gICAgICB9LCB7XG4gICAgICAgIGdyb3VwQnk6ICdjYXRlZ29yeScsXG4gICAgICAgIHRvdGFsOiAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcy5sZW5ndGgsXG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRkZWZlciwgcGFyYW1zKSB7XG5cbiAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5fdmlzaWJsZVVwZ3JhZGVzO1xuXG4gICAgICAgICAgdmFyIG9yZGVyZWREYXRhID0gcGFyYW1zLnNvcnRpbmcoKSA/XG4gICAgICAgICAgICAkZmlsdGVyKCdvcmRlckJ5JykoZGF0YSwgcGFyYW1zLm9yZGVyQnkoKSkgOlxuICAgICAgICAgICAgZGF0YTtcblxuICAgICAgICAgIHZhciBmaWx0ZXJlZERhdGEgPSBwYXJhbXMuZmlsdGVyKCkgP1xuICAgICAgICAgICAgJGZpbHRlcignZmlsdGVyJykob3JkZXJlZERhdGEsIHBhcmFtcy5maWx0ZXIoKSkgOlxuICAgICAgICAgICAgb3JkZXJlZERhdGE7XG5cbiAgICAgICAgICBwYXJhbXMudG90YWwoJHNjb3BlLl92aXNpYmxlVXBncmFkZXMubGVuZ3RoKTtcblxuICAgICAgICAgICRkZWZlci5yZXNvbHZlKGZpbHRlcmVkRGF0YS5zbGljZSgocGFyYW1zLnBhZ2UoKSAtIDEpICogcGFyYW1zLmNvdW50KCksIHBhcmFtcy5wYWdlKCkgKiBwYXJhbXMuY291bnQoKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmhhc1VwZ3JhZGUgPSBmdW5jdGlvbihrZXksIGxldmVsID0gMCkge1xuICAgICAgICByZXR1cm4gR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKGtleSwgbGV2ZWwpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmhhc1VuaXRzID0gZnVuY3Rpb24oYW10KSB7XG4gICAgICAgIHJldHVybiBHYW1lU3RhdGUudW5pdC5oYXMoYW10KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS52aXNpYmxlVXBncmFkZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgY3VycmVudCA9ICRzY29wZS5fdW5pdHM7XG4gICAgICAgIHZhciBhbGxSZXQgPSBbXTtcblxuICAgICAgICBfLmVhY2goVVBHUkFERVMsIChpdGVtLCBpdGVtTmFtZSkgPT4ge1xuXG4gICAgICAgICAgdmFyIHJldCA9IFtdO1xuXG4gICAgICAgICAgdmFyIG1lZXRzQWxsUmVxcyA9IHRydWU7XG5cbiAgICAgICAgICBfLmVhY2goaXRlbS5yZXF1aXJlbWVudHMsIChyZXEsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYoISRzY29wZS5oYXNVcGdyYWRlKGtleSwgcmVxKSkgeyBtZWV0c0FsbFJlcXMgPSBmYWxzZTsgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYoIW1lZXRzQWxsUmVxcykgeyByZXR1cm47IH1cblxuICAgICAgICAgIF8uZWFjaChpdGVtLmNvc3RzLCAoY29zdCwgaSkgPT4ge1xuICAgICAgICAgICAgdmFyIHZpc0xldmVsID0gR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0S2V5KCdVcGdyYWRlIFZpc2liaWxpdHknKTtcbiAgICAgICAgICAgIHZhciB2aXNpYmlsaXR5Qm9vc3QgPSAxICsgKF8uaXNVbmRlZmluZWQodmlzTGV2ZWwpID8gMCA6IDAuMTUqdmlzTGV2ZWwpO1xuXG5cbiAgICAgICAgICAgIHZhciBwcmV2SXRlbSA9IHJldFtyZXQubGVuZ3RoLTFdO1xuICAgICAgICAgICAgdmFyIHRvdGFsQ29zdCA9IGNvc3QgKyAocHJldkl0ZW0gPyBwcmV2SXRlbS5jb3N0IDogMCk7XG5cbiAgICAgICAgICAgIGlmKCRzY29wZS5oYXNVcGdyYWRlKGl0ZW1OYW1lLCBpKSB8fCB0b3RhbENvc3QvdmlzaWJpbGl0eUJvb3N0ID4gY3VycmVudCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgcmV0LnB1c2goe1xuICAgICAgICAgICAgICBuYW1lOiBpdGVtTmFtZSxcbiAgICAgICAgICAgICAgbGV2ZWw6IGksXG4gICAgICAgICAgICAgIGNvc3Q6IHRvdGFsQ29zdCxcbiAgICAgICAgICAgICAgYnV5TGV2ZWxzOiAxICsgKHByZXZJdGVtID8gcHJldkl0ZW0uYnV5TGV2ZWxzIDogMCksXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiBpdGVtLmNhdGVnb3J5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGFsbFJldC5wdXNoKC4uLnJldCk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoJHNjb3BlLmhhc1VwZ3JhZGUoJ0FscGhhYmV0aXplZCBVcGdyYWRlcycpKSB7XG4gICAgICAgICAgYWxsUmV0ID0gXy5zb3J0QnlPcmRlcihhbGxSZXQsIFsnbmFtZScsICdsZXZlbCddLCBbdHJ1ZSwgdHJ1ZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoJHNjb3BlLmhhc1VwZ3JhZGUoJ0Jlc3QgRmF2aWNvbicpKSB7XG4gICAgICAgICAgdmFyIGJ1eWFibGVVcGdyYWRlcyA9IF8uZmlsdGVyKGFsbFJldCwgaXRlbSA9PiBpdGVtLmNvc3QgPCAkc2NvcGUuX3VuaXRzKS5sZW5ndGg7XG4gICAgICAgICAgaWYoYnV5YWJsZVVwZ3JhZGVzID4gMCkge1xuICAgICAgICAgICAgZmF2aWNvLmJhZGdlKGJ1eWFibGVVcGdyYWRlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhdmljby5yZXNldCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhbGxSZXQ7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuYnV5VXBncmFkZSA9IGZ1bmN0aW9uKHVwZ05hbWUsIGxldmVscyA9IDEpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIEdhbWVTdGF0ZS51cGdyYWRlLmluYyh1cGdOYW1lKTtcbiAgICAgICAgfSB3aGlsZSgtLWxldmVscyA+IDApO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmdhaW5Vbml0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkd2luZG93LmluY3JlYXNlVW5pdHMoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIEdhbWVTdGF0ZS5zYXZlKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuX3VuaXRzID0gR2FtZVN0YXRlLnVuaXQuZ2V0KCk7XG4gICAgICAgICRzY29wZS5fdmlzaWJsZVVwZ3JhZGVzID0gJHNjb3BlLnZpc2libGVVcGdyYWRlcygpO1xuICAgICAgICAkc2NvcGUuX2Z1bmN0aW9uID0gRnVuY3Rpb25CdWlsZGVyLmJ1aWxkKCk7XG5cbiAgICAgICAgJHNjb3BlLnRhYmxlUGFyYW1zLnJlbG9hZCgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlZnJlc2goKTtcbiAgICAgICRzY29wZS5fdGltZXIgPSAwO1xuICAgICAgJHNjb3BlLl90aW1lcm1heCA9IDA7XG4gICAgICB2YXIgdGltZXJJbnRlcnZhbDtcblxuICAgICAgR2FtZVN0YXRlLnVuaXQud2F0Y2goKS50aGVuKG51bGwsIG51bGwsICRzY29wZS5yZWZyZXNoKTtcbiAgICAgIEdhbWVTdGF0ZS51cGdyYWRlLndhdGNoKCkudGhlbihudWxsLCBudWxsLCAkc2NvcGUucmVmcmVzaCk7XG5cbiAgICAgIEdhbWVUaW1lci53YXRjaCgpLnRoZW4obnVsbCwgbnVsbCwgZnVuY3Rpb24obmV3VGltZXJWYWx1ZSkge1xuICAgICAgICAkc2NvcGUuX3RpbWVyID0gJHNjb3BlLl90aW1lck1heCA9IG5ld1RpbWVyVmFsdWU7XG4gICAgICAgIGlmKHRpbWVySW50ZXJ2YWwpIHtcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVySW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVySW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLl90aW1lciAtPSAxMDA7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgJHdpbmRvdy5kdW1wU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEdhbWVTdGF0ZS51cGdyYWRlLmdldCgpO1xuICAgICAgfTtcblxuICAgICAgJHdpbmRvdy5kdW1wRGVidWdJbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShHYW1lU3RhdGUuYnVpbGRTYXZlT2JqZWN0KCksIG51bGwsIDQpO1xuICAgICAgfTtcblxuICAgIH1cbiAgXSk7IiwidmFyIGFuaW1hdGVkRmx5VGlwID0gZnVuY3Rpb24oJGZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIGZseTogZnVuY3Rpb24obnVtLCB1c2VTZXBhcmF0b3IgPSBmYWxzZSkge1xuICAgICAgdmFyICRlbGVtZW50ID0gJCgnPGRpdiAvPicpO1xuXG4gICAgICB2YXIgbnVtU3RyaW5nID0gbnVtO1xuICAgICAgaWYodXNlU2VwYXJhdG9yKSB7XG4gICAgICAgIG51bVN0cmluZyA9ICRmaWx0ZXIoJ251bWJlcicpKG51bVN0cmluZywgMCk7XG4gICAgICB9XG5cbiAgICAgIGlmKG51bSA8IDApIHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3RleHQtZGFuZ2VyJyk7XG4gICAgICAgICRlbGVtZW50Lmh0bWwobnVtU3RyaW5nKTtcbiAgICAgIH0gZWxzZSBpZihudW0gPiAwKSB7XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKCd0ZXh0LXN1Y2Nlc3MnKTtcbiAgICAgICAgJGVsZW1lbnQuaHRtbChgKyR7bnVtU3RyaW5nfWApO1xuICAgICAgfVxuXG4gICAgICAkZWxlbWVudC5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgICAkKCdib2R5JykuYXBwZW5kKCRlbGVtZW50KTtcblxuICAgICAgdmFyICRiYXNlID0gJCgnI25hdmJhci11bml0Jyk7XG4gICAgICAkZWxlbWVudC5vZmZzZXQoe2xlZnQ6ICRiYXNlLm9mZnNldCgpLmxlZnQsIHRvcDogJGJhc2Uub2Zmc2V0KCkudG9wfSk7XG5cbiAgICAgICRlbGVtZW50LmFuaW1hdGUoe3RvcDogJzYwcHgnfSk7XG4gICAgICAkZWxlbWVudC5hbmltYXRlKHtvcGFjaXR5OiAwLCB0b3A6ICc2MHB4J30sIDUwMCwgJ3N3aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICB9KTtcblxuICAgIH1cbiAgfTtcbn07XG5cbmFuaW1hdGVkRmx5VGlwLiRpbmplY3QgPSBbJyRmaWx0ZXInXTtcblxubW9kdWxlLmV4cG9ydHMgPSBhbmltYXRlZEZseVRpcDsiLCJcbnZhciBmYXZpY28gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGZhdmljbyA9IG5ldyBGYXZpY28oe1xuICAgIGFuaW1hdGlvbiA6ICdmYWRlJ1xuICB9KTtcblxuICB2YXIgY3VycmVudE51bSA9IDA7XG5cbiAgdmFyIGJhZGdlID0gZnVuY3Rpb24obnVtKSB7XG4gICAgaWYobnVtID09PSBjdXJyZW50TnVtKSB7IHJldHVybjsgfVxuICAgIGN1cnJlbnROdW0gPSBudW07XG4gICAgZmF2aWNvLmJhZGdlKG51bSk7XG4gIH07XG4gIHZhciByZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIGZhdmljby5yZXNldCgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYmFkZ2UgOiBiYWRnZSxcbiAgICByZXNldCA6IHJlc2V0XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZhdmljbzsiLCJ2YXIgZnVuY3Rpb25CdWlsZGVyID0gZnVuY3Rpb24oR2FtZVN0YXRlLCBHYWluQ2FsY3VsYXRvciwgJHdpbmRvdykge1xuICByZXR1cm4ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHVuaXRUZXh0ID0gJ3VuaXRzJztcblxuICAgICAgdmFyIGZ1bmN0aW9uSGVhZGVyID0gWycnLCcnXTtcbiAgICAgIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnRnVuY3Rpb24nKSkge1xuICAgICAgICBmdW5jdGlvbkhlYWRlciA9IFtgZnVuY3Rpb24gaW5jcmVhc2VVbml0cygpIHtgLCBgfWBdO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlcmF0aW9uSGVhZGVyID0gWycnLCcnXTtcbiAgICAgIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnQmFzaWMgSXRlcmF0aW9uJykpIHtcbiAgICAgICAgaXRlcmF0aW9uSGVhZGVyID0gW2Bmb3IodmFyIGkgPSAwOyBpIDwgJHtHYWluQ2FsY3VsYXRvci5pdGVyYXRpb24oKX07IGkrKykge2AsIGB9YF07XG4gICAgICB9XG5cbiAgICAgIHZhciB0aW1lb3V0ID0gYGA7XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ0Jhc2ljIFRpbWVyJykpIHtcbiAgICAgICAgdGltZW91dCA9IGAkaW50ZXJ2YWwoaW5jcmVhc2VVbml0cywgJHtHYWluQ2FsY3VsYXRvci50aW1lcigpfSk7XFxuYDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFuaW1hdGlvbkhlYWRlciA9IFsnJywnJ107XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ0Jhc2ljIEFuaW1hdGlvbicpKSB7XG4gICAgICAgIGFuaW1hdGlvbkhlYWRlciA9IFtcbiAgICAgICAgICBgdmFyIHRvdGFsVW5pdHNHYWluZWQgPSAwO2AsXG4gICAgICAgICAgYHVuaXRzICs9IHRvdGFsVW5pdHNHYWluZWQ7XG4gICAgICAgICAgYW5pbWF0ZVVuaXRDaGFuZ2UodG90YWxVbml0c0dhaW5lZCk7YF07XG4gICAgICAgIHVuaXRUZXh0ID0gJ3RvdGFsVW5pdHNHYWluZWQnO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2F2ZUhlYWRlciA9IFsnJywgJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdTYXZlJywgMSkpIHtcbiAgICAgICAgc2F2ZUhlYWRlciA9IFtgXFxudmFyIGN1cnJlbnRUaWNrID0gMDtgLCBgXG4gIGlmKGN1cnJlbnRUaWNrKysgJSAxMCA9PT0gMCkge1xuICAgIGN1cnJlbnRUaWNrID0gMDtcbiAgICBzYXZlKCk7XG4gIH1gXTtcbiAgICAgIH1cblxuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdTYXZlJywgMykpIHtcbiAgICAgICAgc2F2ZUhlYWRlciA9IFsnJywgYFxuICBzYXZlKCk7YF07XG4gICAgICB9XG5cbiAgICAgIC8vIGR1bXAgaXQgb24gdGhlIHBhZ2UuIGl0J3MgYW4gXCJleHBsb2l0XCJcbiAgICAgICR3aW5kb3cuaW5jcmVhc2VVbml0cyA9IGZ1bmN0aW9uKCkgeyBHYW1lU3RhdGUudW5pdC5pbmMoR2FpbkNhbGN1bGF0b3IuYWxsKCkpOyB9O1xuXG4gICAgICByZXR1cm4gYCR7dGltZW91dH0ke3NhdmVIZWFkZXJbMF19XG4ke2Z1bmN0aW9uSGVhZGVyWzBdfVxuICAke2FuaW1hdGlvbkhlYWRlclswXX1cbiAgJHtpdGVyYXRpb25IZWFkZXJbMF19XG4gICAgJHt1bml0VGV4dH0gKz0gJHtHYWluQ2FsY3VsYXRvci5ib29zdCgpfTtcbiAgJHtpdGVyYXRpb25IZWFkZXJbMV19XG4gICR7c2F2ZUhlYWRlclsxXX1cbiAgJHthbmltYXRpb25IZWFkZXJbMV19XG4ke2Z1bmN0aW9uSGVhZGVyWzFdfVxuYDtcbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbkJ1aWxkZXIuJGluamVjdCA9IFsnR2FtZVN0YXRlJywgJ0dhaW5DYWxjdWxhdG9yJywgJyR3aW5kb3cnXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbkJ1aWxkZXI7IiwidmFyIGdhaW5DYWxjdWxhdG9yID0gZnVuY3Rpb24oR2FtZVN0YXRlKSB7XG5cbiAgdmFyIGJvb3N0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KChHYW1lU3RhdGUudXBncmFkZS5nZXRLZXkoJ0Jhc2ljIEJvb3N0JykgfHwgMCkrMSwgMik7XG4gIH07XG5cbiAgdmFyIGl0ZXJhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVyTGV2ZWwgPSBHYW1lU3RhdGUudXBncmFkZS5nZXRLZXkoJ0Jhc2ljIEl0ZXJhdGlvbicpO1xuICAgIGlmKCFpdGVyTGV2ZWwpIHsgcmV0dXJuIDE7IH1cbiAgICByZXR1cm4gTWF0aC5wb3coNCwgaXRlckxldmVsKzEpO1xuICB9O1xuXG4gIHZhciB0aW1lciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiYXNpY1JlZHVjdGlvbiA9IDAuMDUgKiBHYW1lU3RhdGUudXBncmFkZS5nZXRLZXkoJ0Jhc2ljIFRpbWVyJyk7XG4gICAgdmFyIGFkdmFuY2VkUmVkdWN0aW9uID0gMC4xNSAqIEdhbWVTdGF0ZS51cGdyYWRlLmdldEtleSgnQWR2YW5jZWQgVGltZXInKTtcbiAgICBhZHZhbmNlZFJlZHVjdGlvbiA9IF8uaXNOYU4oYWR2YW5jZWRSZWR1Y3Rpb24pID8gMCA6IGFkdmFuY2VkUmVkdWN0aW9uO1xuICAgIHJldHVybiAzMDAwMCAtICgzMDAwMCAqIChiYXNpY1JlZHVjdGlvbiArIGFkdmFuY2VkUmVkdWN0aW9uKSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBib29zdDogYm9vc3QsXG4gICAgaXRlcmF0aW9uOiBpdGVyYXRpb24sXG4gICAgdGltZXI6IHRpbWVyLFxuICAgIGFsbDogZnVuY3Rpb24oKSB7IHJldHVybiBib29zdCgpICogaXRlcmF0aW9uKCk7IH1cbiAgfTtcbn07XG5cbmdhaW5DYWxjdWxhdG9yLiRpbmplY3QgPSBbJ0dhbWVTdGF0ZSddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhaW5DYWxjdWxhdG9yOyIsInZhciBnYW1lU3RhdGUgPSBmdW5jdGlvbigkcSwgVVBHUkFERVMsIGxvY2FsU3RvcmFnZSwgQW5pbWF0ZWRGbHlUaXApIHtcbiAgdmFyIHVwZ3JhZGVzID0ge307XG4gIHZhciB1bml0cyA9IDA7XG4gIHZhciBzdGFydCA9IERhdGUubm93KCk7XG5cbiAgdmFyIHVwZ3JhZGVEZWZlciA9ICRxLmRlZmVyKCk7XG4gIHZhciB1bml0RGVmZXIgPSAkcS5kZWZlcigpO1xuXG4gIHZhciBidWlsZFNhdmVPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdW5pdHM6IHVuaXRzLFxuICAgICAgdXBncmFkZXM6IHVwZ3JhZGVzLFxuICAgICAgc3RhcnQ6IHN0YXJ0XG4gICAgfTtcbiAgfTtcblxuICB2YXIgc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXQoJ2dhbWUnLCBidWlsZFNhdmVPYmplY3QoKSk7XG4gIH07XG5cbiAgdmFyIGxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0KCdnYW1lJyk7XG5cbiAgICBpZighc3RhdGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZihzdGF0ZS51bml0cykge1xuICAgICAgdW5pdHMgPSBzdGF0ZS51bml0cztcbiAgICB9XG5cbiAgICBpZihzdGF0ZS51cGdyYWRlcykge1xuICAgICAgdXBncmFkZXMgPSBzdGF0ZS51cGdyYWRlcztcbiAgICB9XG5cbiAgICBpZihzdGF0ZS5zdGFydCkge1xuICAgICAgc3RhcnQgPSBzdGF0ZS5zdGFydDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZ3JhZGUgPSB7XG4gICAgaGFzOiBmdW5jdGlvbihrZXksIGxldmVsID0gMCkgeyByZXR1cm4gdXBncmFkZXNba2V5XSA+IGxldmVsOyB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1cGdyYWRlczsgfSxcbiAgICBnZXRLZXk6IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdXBncmFkZXNba2V5XTsgfSxcbiAgICBpbmM6IGZ1bmN0aW9uKGtleSkge1xuXG4gICAgICB2YXIgbmV4dExldmVsID0gdXBncmFkZXNba2V5XSB8fCAwO1xuICAgICAgdmFyIGNvc3QgPSBVUEdSQURFU1trZXldLmNvc3RzW25leHRMZXZlbF07XG4gICAgICBpZih1bml0cyA8IGNvc3QpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGlmKCF1cGdyYWRlc1trZXldKSB7IHVwZ3JhZGVzW2tleV0gPSAwOyB9XG4gICAgICB1cGdyYWRlc1trZXldKys7XG4gICAgICB1bml0LmluYygtY29zdCk7XG4gICAgICB1cGdyYWRlRGVmZXIubm90aWZ5KHtrZXk6IGtleSwgbGV2ZWw6IHVwZ3JhZGVzW2tleV0sIGFsbDogdXBncmFkZXN9KTtcbiAgICB9LFxuICAgIHdhdGNoOiBmdW5jdGlvbigpIHsgcmV0dXJuIHVwZ3JhZGVEZWZlci5wcm9taXNlOyB9XG4gIH07XG5cbiAgdmFyIHRpY2sgPSAwO1xuXG4gIHZhciB1bml0ID0ge1xuICAgIGhhczogZnVuY3Rpb24oYW10KSB7IHJldHVybiB1bml0cyA+IGFtdDsgfSxcbiAgICBpbmM6IGZ1bmN0aW9uKGFtdCkge1xuICAgICAgdW5pdHMgKz0gYW10O1xuICAgICAgdW5pdERlZmVyLm5vdGlmeSh1bml0cyk7XG5cbiAgICAgIGlmKHVwZ3JhZGUuaGFzKCdCYXNpYyBBbmltYXRpb24nKSkge1xuICAgICAgICBBbmltYXRlZEZseVRpcC5mbHkoYW10LCB1cGdyYWRlLmhhcygnTnVtYmVyIEZvcm1hdHRpbmcnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHVwZ3JhZGUuaGFzKCdTYXZlJywgMSkgJiYgIXVwZ3JhZGUuaGFzKCdTYXZlJywgMykpIHtcbiAgICAgICAgaWYodGljaysrICUgMTAgPT09IDApIHtcbiAgICAgICAgICB0aWNrID0gMDtcbiAgICAgICAgICBzYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodXBncmFkZS5oYXMoJ1NhdmUnLCAzKSkge1xuICAgICAgICBzYXZlKCk7XG4gICAgICB9XG5cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0czsgfSxcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0RGVmZXIucHJvbWlzZTsgfVxuICB9O1xuXG4gIGxvYWQoKTtcblxuICByZXR1cm4ge1xuICAgIHVwZ3JhZGU6IHVwZ3JhZGUsXG4gICAgdW5pdDogdW5pdCxcbiAgICBzYXZlOiBzYXZlLFxuICAgIGJ1aWxkU2F2ZU9iamVjdDogYnVpbGRTYXZlT2JqZWN0XG4gIH07XG59O1xuXG5nYW1lU3RhdGUuJGluamVjdCA9IFsnJHEnLCAnVXBncmFkZXMnLCAnbG9jYWxTdG9yYWdlU2VydmljZScsICdBbmltYXRlZEZseVRpcCddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVTdGF0ZTsiLCJ2YXIgZ2FtZVRpbWVyID0gZnVuY3Rpb24oJHEsICRpbnRlcnZhbCwgJHRpbWVvdXQsICR3aW5kb3csIEdhbWVTdGF0ZSwgR2FpbkNhbGN1bGF0b3IpIHtcblxuICB2YXIgaW50ZXJ2YWwgPSBudWxsO1xuICB2YXIgdGltZXJEZWZlciA9ICRxLmRlZmVyKCk7XG5cbiAgdmFyIHN0YXJ0VGltZXIgPSBmdW5jdGlvbih1cGdyYWRlRGF0YSA9IHtrZXk6ICdUaW1lcid9KSB7XG5cbiAgICBpZighR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7IHJldHVybjsgfVxuICAgIGlmKCFfLmNvbnRhaW5zKHVwZ3JhZGVEYXRhLmtleSwgJ1RpbWVyJykpIHsgcmV0dXJuOyB9XG5cbiAgICBpZihpbnRlcnZhbCkge1xuICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAkd2luZG93LmluY3JlYXNlVW5pdHMoKTtcbiAgICAgIHRpbWVyRGVmZXIubm90aWZ5KEdhaW5DYWxjdWxhdG9yLnRpbWVyKCkpO1xuICAgIH0sIEdhaW5DYWxjdWxhdG9yLnRpbWVyKCkpO1xuXG4gICAgdGltZXJEZWZlci5ub3RpZnkoR2FpbkNhbGN1bGF0b3IudGltZXIoKSk7XG4gIH07XG5cbiAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7XG4gICAgJHRpbWVvdXQoc3RhcnRUaW1lciwgMCk7XG4gIH1cblxuICBHYW1lU3RhdGUudXBncmFkZS53YXRjaCgpLnRoZW4obnVsbCwgbnVsbCwgc3RhcnRUaW1lcik7XG5cbiAgcmV0dXJuIHtcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGltZXJEZWZlci5wcm9taXNlO1xuICAgIH1cbiAgfTtcblxufTtcblxuZ2FtZVRpbWVyLiRpbmplY3QgPSBbJyRxJywgJyRpbnRlcnZhbCcsICckdGltZW91dCcsICckd2luZG93JywgJ0dhbWVTdGF0ZScsICdHYWluQ2FsY3VsYXRvciddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVUaW1lcjsiLCJcbm1vZHVsZS5leHBvcnRzID0ge1xuICBTY29yZWJvYXJkOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIGNvc3RzOiBbMTBdXG4gIH0sXG4gICdCYXNpYyBMYXlvdXQnOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIGNvc3RzOiBbMTUsIDIwMF1cbiAgfSxcbiAgJ0JldHRlciBMYXlvdXQnOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBMYXlvdXQnOiAxfSxcbiAgICBjb3N0czogWzIwMCwgMjAwMF1cbiAgfSxcbiAgRnVuY3Rpb246IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIGNvc3RzOiBbMjBdXG4gIH0sXG4gICdCYXNpYyBJdGVyYXRpb24nOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgY29zdHM6IFs1MCwgMzAwLCAyMDAwMCwgMTUwMDAwXVxuICB9LFxuICAnQmFzaWMgVGltZXInOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgY29zdHM6IFs1MCwgNjAwLCAyMDAwMCwgMTAwMDAwXVxuICB9LFxuICAnQmFzaWMgQm9vc3QnOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgY29zdHM6IFsxMCwgMTAwLCAyNTAwMCwgMjAwMDAwXVxuICB9LFxuICBDYXBpdGFsaXphdGlvbjoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICBjb3N0czogWzEwMF1cbiAgfSxcbiAgUHJlZm9ybWF0dGluZzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgSXRlcmF0aW9uJzogMH0sXG4gICAgY29zdHM6IFsxNTBdXG4gIH0sXG4gICdWaXN1YWwgQ291bnRkb3duJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgVGltZXInOiAwfSxcbiAgICBjb3N0czogWzEwMDBdXG4gIH0sXG4gICdQYWdlIFRpdGxlJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIGNvc3RzOiBbNTAwXVxuICB9LFxuICAnQmV0dGVyIFBhZ2UgVGl0bGUnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J1BhZ2UgVGl0bGUnOiAwLCAnU2NvcmVib2FyZCc6IDB9LFxuICAgIGNvc3RzOiBbMjUwMF1cbiAgfSxcbiAgJ0FscGhhYmV0aXplZCBVcGdyYWRlcyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQ2FwaXRhbGl6YXRpb24nOiAwLCAnQmV0dGVyIExheW91dCc6IDB9LFxuICAgIGNvc3RzOiBbNTAwMF1cbiAgfSxcbiAgJ1VwZ3JhZGUgVmlzaWJpbGl0eSc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQWxwaGFiZXRpemVkIFVwZ3JhZGVzJzogMH0sXG4gICAgY29zdHM6IFs2NTAwLCA4NTAwLCAxMDUwMF1cbiAgfSxcbiAgJ1Byb2dyZXNzIEJhcic6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxLCAnQmFzaWMgQ29sb3InOiAwfSxcbiAgICBjb3N0czogWzUwMDBdXG4gIH0sXG4gICdCYXNpYyBTdHlsZSc6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxfSxcbiAgICBjb3N0czogWzEwMDAwLCAyMDAwMF1cbiAgfSxcbiAgJ0Jhc2ljIENvbG9yJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBjb3N0czogWzEyNTAwXVxuICB9LFxuICBJY29ub2dyYXBoeToge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBjb3N0czogWzI1MDAwXVxuICB9LFxuICAnTnVtYmVyIEZvcm1hdHRpbmcnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMH0sXG4gICAgY29zdHM6IFsyMDAwMF1cbiAgfSxcbiAgJ0Jhc2ljIEFuaW1hdGlvbic6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwLCAnQmFzaWMgSXRlcmF0aW9uJzogMCwgJ0Jhc2ljIENvbG9yJzogMH0sXG4gICAgY29zdHM6IFsxMDAwMDBdXG4gIH0sXG4gICdGYXZpY29uJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIGNvc3RzOiBbMjAwMF1cbiAgfSxcbiAgJ0Jlc3QgRmF2aWNvbic6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmV0dGVyIFBhZ2UgVGl0bGUnOiAwLCAnRmF2aWNvbic6IDB9LFxuICAgIGNvc3RzOiBbMTAwMDAwXVxuICB9LFxuICAnU3ludGF4IEhpZ2hsaWdodGluZyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnUHJlZm9ybWF0dGluZyc6IDB9LFxuICAgIGNvc3RzOiBbNTAwMDBdXG4gIH0sXG4gICdTYXZlJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgY29zdHM6IFszMDAsIDUwMDAsIDIwMDAwLCAxNTAwMDBdXG4gIH0sXG4gICdBZHZhbmNlZCBUaW1lcic6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBUaW1lcic6IDN9LFxuICAgIGNvc3RzOiBbMjAwMDAwLCA3NTAwMDAsIDE1MDAwMDBdXG4gIH0sXG4gICdCZXN0IFRhYmxlJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMX0sXG4gICAgY29zdHM6IFsyNTAwMDBdXG4gIH1cbn07Il19
