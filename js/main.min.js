(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/js/main.js":[function(require,module,exports){
'use strict';

var upgrades = require('./upgrades');
var gameState = require('./gamestate');
var gameTimer = require('./gametimer');
var gainCalculator = require('./gaincalculator');
var functionBuilder = require('./functionbuilder');
var animatedFlyTip = require('./animatedflytip');
var favico = require('./favico');

angular.module('c', ['ui.bootstrap', 'hljs', 'LocalStorageModule', 'ngTable']).constant('Upgrades', upgrades).constant('Version', '0.0.1').constant('DumpState', { 'Basic Layout': 2, Scoreboard: 1, Function: 1, 'Basic Timer': 2, 'Basic Iteration': 3, 'Basic Boost': 3, Preformatting: 1, 'Visual Countdown': 1, 'Page Title': 1, 'Better Page Title': 1, 'Better Layout': 2, 'Basic Style': 1, 'Number Formatting': 1 }).service('favico', favico).service('AnimatedFlyTip', animatedFlyTip).service('GameState', gameState).service('GameTimer', gameTimer).service('GainCalculator', gainCalculator).service('FunctionBuilder', functionBuilder).controller('Game', ['$scope', '$window', '$interval', '$filter', 'GameState', 'GameTimer', 'FunctionBuilder', 'Upgrades', 'favico', 'ngTableParams', function ($scope, $window, $interval, $filter, GameState, GameTimer, FunctionBuilder, UPGRADES, favico, NgTableParams) {

  $scope._visibleUpgrades = [];

  $scope.tableParams = new NgTableParams({
    page: 1,
    count: 1000
  }, {
    groupBy: 'category',
    total: $scope._visibleUpgrades.length,
    getData: function getData($defer, params) {

      var data = $scope._visibleUpgrades;

      var orderedData = params.sorting() ? $filter('orderBy')(data, $scope.tableParams.orderBy()) : data;

      var filteredData = params.filter() ? $filter('filter')(orderedData, params.filter()) : orderedData;

      params.total($scope._visibleUpgrades.length);

      $defer.resolve(filteredData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
    }
  });

  $scope.hasUpgrade = function (key) {
    var level = arguments[1] === undefined ? 0 : arguments[1];

    return GameState.upgrade.has(key, level);
  };

  $scope.hasUnits = function (amt) {
    return GameState.unit.has(amt);
  };

  $scope.visibleUpgrades = function () {

    var current = $scope._units;
    var allRet = [];

    _.each(UPGRADES, function (item, itemName) {

      var ret = [];

      var meetsAllReqs = true;

      _.each(item.requirements, function (req, key) {
        if (!$scope.hasUpgrade(key, req)) {
          meetsAllReqs = false;
        }
      });

      if (!meetsAllReqs) {
        return;
      }

      _.each(item.costs, function (cost, i) {
        var visLevel = GameState.upgrade.getKey('Upgrade Visibility');
        var visibilityBoost = 1 + (_.isUndefined(visLevel) ? 0 : 0.15 * visLevel);

        var prevItem = ret[ret.length - 1];
        var totalCost = cost + (prevItem ? prevItem.cost : 0);

        if ($scope.hasUpgrade(itemName, i) || totalCost / visibilityBoost > current) {
          return;
        }

        ret.push({
          name: itemName,
          level: i,
          cost: totalCost,
          buyLevels: 1 + (prevItem ? prevItem.buyLevels : 0),
          category: item.category
        });
      });

      allRet.push.apply(allRet, ret);
    });

    if ($scope.hasUpgrade('Alphabetized Upgrades')) {
      allRet = _.sortByOrder(allRet, ['name', 'level'], [true, true]);
    }

    if ($scope.hasUpgrade('Best Favicon')) {
      var buyableUpgrades = _.filter(allRet, function (item) {
        return item.cost < $scope._units;
      }).length;
      if (buyableUpgrades > 0) {
        favico.badge(buyableUpgrades);
      } else {
        favico.reset();
      }
    }

    return allRet;
  };

  $scope.buyUpgrade = function (upgName) {
    var levels = arguments[1] === undefined ? 1 : arguments[1];

    do {
      GameState.upgrade.inc(upgName);
    } while (--levels > 0);
  };

  $scope.gainUnits = function () {
    $window.increaseUnits();
  };

  $scope.save = function () {
    GameState.save();
  };

  $scope.refresh = function () {
    $scope._units = GameState.unit.get();
    $scope._visibleUpgrades = $scope.visibleUpgrades();
    $scope._function = FunctionBuilder.build();

    $scope.tableParams.reload();
  };

  $scope.refresh();
  $scope._timer = 0;
  $scope._timermax = 0;
  var timerInterval;

  GameState.unit.watch().then(null, null, $scope.refresh);
  GameState.upgrade.watch().then(null, null, $scope.refresh);

  GameTimer.watch().then(null, null, function (newTimerValue) {
    $scope._timer = $scope._timerMax = newTimerValue;
    if (timerInterval) {
      $interval.cancel(timerInterval);
    }
    timerInterval = $interval(function () {
      $scope._timer -= 100;
    }, 100);
  });

  $window.dumpState = function () {
    return GameState.upgrade.get();
  };

  $window.dumpDebugInfo = function () {
    return JSON.stringify(GameState.buildSaveObject(), null, 4);
  };
}]);

},{"./animatedflytip":"/home/seiyria/projects/c/src/js/animatedflytip.js","./favico":"/home/seiyria/projects/c/src/js/favico.js","./functionbuilder":"/home/seiyria/projects/c/src/js/functionbuilder.js","./gaincalculator":"/home/seiyria/projects/c/src/js/gaincalculator.js","./gamestate":"/home/seiyria/projects/c/src/js/gamestate.js","./gametimer":"/home/seiyria/projects/c/src/js/gametimer.js","./upgrades":"/home/seiyria/projects/c/src/js/upgrades.js"}],"/home/seiyria/projects/c/src/js/animatedflytip.js":[function(require,module,exports){
'use strict';

var animatedFlyTip = function animatedFlyTip($filter) {
  return {
    fly: function fly(num) {
      var useSeparator = arguments[1] === undefined ? false : arguments[1];

      var $element = $('<div />');

      var numString = num;
      if (useSeparator) {
        numString = $filter('number')(numString, 0);
      }

      if (num < 0) {
        $element.addClass('text-danger');
        $element.html(numString);
      } else if (num > 0) {
        $element.addClass('text-success');
        $element.html('+' + numString);
      }

      $element.css('position', 'absolute');
      $('body').append($element);

      var $base = $('#navbar-unit');
      $element.offset({ left: $base.offset().left, top: $base.offset().top });

      $element.animate({ top: '60px' });
      $element.animate({ opacity: 0, top: '60px' }, 500, 'swing', function () {
        $(this).remove();
      });
    }
  };
};

animatedFlyTip.$inject = ['$filter'];

module.exports = animatedFlyTip;

},{}],"/home/seiyria/projects/c/src/js/favico.js":[function(require,module,exports){
'use strict';

var favico = function favico() {
  var favico = new Favico({
    animation: 'fade'
  });

  var currentNum = 0;

  var badge = function badge(num) {
    if (num === currentNum) {
      return;
    }
    currentNum = num;
    favico.badge(num);
  };
  var reset = function reset() {
    favico.reset();
  };

  return {
    badge: badge,
    reset: reset
  };
};

module.exports = favico;

},{}],"/home/seiyria/projects/c/src/js/functionbuilder.js":[function(require,module,exports){
'use strict';

var functionBuilder = function functionBuilder(GameState, GainCalculator, $window) {
  return {
    build: function build() {

      var unitText = 'units';

      var functionHeader = ['', ''];
      if (GameState.upgrade.has('Function')) {
        functionHeader = ['function increaseUnits() {', '}'];
      }

      var iterationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Iteration')) {
        iterationHeader = ['for(var i = 0; i < ' + GainCalculator.iteration() + '; i++) {', '}'];
      }

      var timeout = '';
      if (GameState.upgrade.has('Basic Timer')) {
        timeout = '$interval(increaseUnits, ' + GainCalculator.timer() + ');\n';
      }

      var animationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Animation')) {
        animationHeader = ['var totalUnitsGained = 0;', 'units += totalUnitsGained;\n          animateUnitChange(totalUnitsGained);'];
        unitText = 'totalUnitsGained';
      }

      var saveHeader = ['', ''];
      if (GameState.upgrade.has('Save', 1)) {
        saveHeader = ['\nvar currentTick = 0;', '\n  if(currentTick++ % 10 === 0) {\n    currentTick = 0;\n    save();\n  }'];
      }

      if (GameState.upgrade.has('Save', 3)) {
        saveHeader = ['', '\n  save();'];
      }

      // dump it on the page. it's an "exploit"
      $window.increaseUnits = function () {
        GameState.unit.inc(GainCalculator.all());
      };

      return '' + timeout + '' + saveHeader[0] + '\n' + functionHeader[0] + '\n  ' + animationHeader[0] + '\n  ' + iterationHeader[0] + '\n    ' + unitText + ' += ' + GainCalculator.boost() + ';\n  ' + iterationHeader[1] + '\n  ' + saveHeader[1] + '\n  ' + animationHeader[1] + '\n' + functionHeader[1] + '\n';
    }
  };
};

functionBuilder.$inject = ['GameState', 'GainCalculator', '$window'];

module.exports = functionBuilder;

},{}],"/home/seiyria/projects/c/src/js/gaincalculator.js":[function(require,module,exports){
'use strict';

var gainCalculator = function gainCalculator(GameState) {

  var boost = function boost() {
    return Math.pow((GameState.upgrade.getKey('Basic Boost') || 0) + 1, 2);
  };

  var iteration = function iteration() {
    var iterLevel = GameState.upgrade.getKey('Basic Iteration');
    if (!iterLevel) {
      return 1;
    }
    return Math.pow(4, iterLevel + 1);
  };

  var timer = function timer() {
    var basicReduction = 0.05 * GameState.upgrade.getKey('Basic Timer');
    var advancedReduction = 0.15 * GameState.upgrade.getKey('Advanced Timer');
    advancedReduction = _.isNaN(advancedReduction) ? 0 : advancedReduction;
    return 30000 - 30000 * (basicReduction + advancedReduction);
  };

  return {
    boost: boost,
    iteration: iteration,
    timer: timer,
    all: function all() {
      return boost() * iteration();
    }
  };
};

gainCalculator.$inject = ['GameState'];

module.exports = gainCalculator;

},{}],"/home/seiyria/projects/c/src/js/gamestate.js":[function(require,module,exports){
'use strict';

var gameState = function gameState($q, UPGRADES, localStorage, AnimatedFlyTip, DumpState) {
  var upgrades = DumpState || {};
  var units = 100000;

  var upgradeDefer = $q.defer();
  var unitDefer = $q.defer();

  var buildSaveObject = function buildSaveObject() {
    return {
      units: units,
      upgrades: upgrades
    };
  };

  var save = function save() {
    localStorage.set('game', buildSaveObject());
  };

  var load = function load() {
    var state = localStorage.get('game');

    if (!state) {
      return;
    }

    if (state.units) {
      units = state.units;
    }

    if (state.upgrades) {
      upgrades = state.upgrades;
    }
  };

  var upgrade = {
    has: function has(key) {
      var level = arguments[1] === undefined ? 0 : arguments[1];
      return upgrades[key] > level;
    },
    get: function get() {
      return upgrades;
    },
    getKey: function getKey(key) {
      return upgrades[key];
    },
    inc: function inc(key) {

      var nextLevel = upgrades[key] || 0;
      var cost = UPGRADES[key].costs[nextLevel];
      if (units < cost) {
        return;
      }

      if (!upgrades[key]) {
        upgrades[key] = 0;
      }
      upgrades[key]++;
      unit.inc(-cost);
      upgradeDefer.notify({ key: key, level: upgrades[key], all: upgrades });
    },
    watch: function watch() {
      return upgradeDefer.promise;
    }
  };

  var tick = 0;

  var unit = {
    has: function has(amt) {
      return units > amt;
    },
    inc: function inc(amt) {
      units += amt;
      unitDefer.notify(units);

      if (upgrade.has('Basic Animation')) {
        AnimatedFlyTip.fly(amt, upgrade.has('Number Formatting'));
      }

      if (upgrade.has('Save', 1)) {
        if (tick++ % 10 === 0) {
          tick = 0;
          save();
        }
      }
    },
    get: function get() {
      return units;
    },
    watch: function watch() {
      return unitDefer.promise;
    }
  };

  load();

  return {
    upgrade: upgrade,
    unit: unit,
    save: save,
    buildSaveObject: buildSaveObject
  };
};

gameState.$inject = ['$q', 'Upgrades', 'localStorageService', 'AnimatedFlyTip', 'DumpState'];

module.exports = gameState;

},{}],"/home/seiyria/projects/c/src/js/gametimer.js":[function(require,module,exports){
'use strict';

var gameTimer = function gameTimer($q, $interval, $timeout, $window, GameState, GainCalculator) {

  var interval = null;
  var timerDefer = $q.defer();

  var startTimer = function startTimer() {
    var upgradeData = arguments[0] === undefined ? { key: 'Timer' } : arguments[0];

    if (!GameState.upgrade.has('Basic Timer')) {
      return;
    }
    if (!_.contains(upgradeData.key, 'Timer')) {
      return;
    }

    if (interval) {
      $interval.cancel(interval);
    }

    interval = $interval(function () {
      $window.increaseUnits();
      timerDefer.notify(GainCalculator.timer());
    }, GainCalculator.timer());

    timerDefer.notify(GainCalculator.timer());
  };

  if (GameState.upgrade.has('Basic Timer')) {
    $timeout(startTimer, 0);
  }

  GameState.upgrade.watch().then(null, null, startTimer);

  return {
    watch: function watch() {
      return timerDefer.promise;
    }
  };
};

gameTimer.$inject = ['$q', '$interval', '$timeout', '$window', 'GameState', 'GainCalculator'];

module.exports = gameTimer;

},{}],"/home/seiyria/projects/c/src/js/upgrades.js":[function(require,module,exports){
'use strict';

module.exports = {
  Scoreboard: {
    category: 'Visual',
    costs: [10]
  },
  'Basic Layout': {
    category: 'Visual',
    costs: [15, 200]
  },
  'Better Layout': {
    category: 'Visual',
    requirements: { 'Basic Layout': 1 },
    costs: [200, 2000]
  },
  Function: {
    category: 'Tech',
    costs: [20]
  },
  'Basic Iteration': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [50, 300, 2000, 15000]
  },
  'Basic Timer': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [50, 600, 20000, 100000]
  },
  'Basic Boost': {
    category: 'Tech',
    requirements: { Function: 0 },
    costs: [10, 100, 2500, 10000]
  },
  Capitalization: {
    category: 'Visual',
    costs: [100]
  },
  Preformatting: {
    category: 'Visual',
    requirements: { 'Basic Iteration': 0 },
    costs: [150]
  },
  'Visual Countdown': {
    category: 'Visual',
    requirements: { 'Basic Timer': 0 },
    costs: [1000]
  },
  'Page Title': {
    category: 'Cosmetic',
    costs: [500]
  },
  'Better Page Title': {
    category: 'Cosmetic',
    requirements: { 'Page Title': 0, Scoreboard: 0 },
    costs: [2500]
  },
  'Alphabetized Upgrades': {
    category: 'Cosmetic',
    requirements: { Capitalization: 0, 'Better Layout': 0 },
    costs: [5000]
  },
  'Upgrade Visibility': {
    category: 'Cosmetic',
    requirements: { 'Alphabetized Upgrades': 0 },
    costs: [6500, 8500, 10500]
  },
  'Progress Bar': {
    category: 'Visual',
    requirements: { 'Better Layout': 1, 'Basic Color': 0 },
    costs: [5000]
  },
  'Basic Style': {
    category: 'Visual',
    requirements: { 'Better Layout': 1 },
    costs: [10000, 20000]
  },
  'Basic Color': {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    costs: [12500]
  },
  Iconography: {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    costs: [25000]
  },
  'Number Formatting': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0 },
    costs: [20000]
  },
  'Basic Animation': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0, 'Basic Iteration': 0, 'Basic Color': 0 },
    costs: [100000]
  },
  Favicon: {
    category: 'Cosmetic',
    costs: [2000]
  },
  'Best Favicon': {
    category: 'Cosmetic',
    requirements: { 'Better Page Title': 0, Favicon: 0 },
    costs: [100000]
  },
  'Syntax Highlighting': {
    category: 'Cosmetic',
    requirements: { Preformatting: 0 },
    costs: [50000]
  },
  Save: {
    category: 'Tech',
    costs: [300, 5000, 20000, 150000]
  },
  'Advanced Timer': {
    category: 'Tech',
    requirements: { 'Basic Timer': 3 },
    costs: [200000, 750000, 1500000]
  },
  'Best Table': {
    category: 'Tech',
    requirements: { 'Basic Style': 1 },
    costs: [250000, 350000]
  }
};

},{}]},{},["./src/js/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL21haW4uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2FuaW1hdGVkZmx5dGlwLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy9mYXZpY28uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2Z1bmN0aW9uYnVpbGRlci5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FpbmNhbGN1bGF0b3IuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2dhbWVzdGF0ZS5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FtZXRpbWVyLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy91cGdyYWRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3JDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2QyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbkQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVqQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUUsb0JBQW9CLEVB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LEVBQUMsZUFBaUIsQ0FBQyxFQUFDO0FBQ2xDLFNBQUssRUFBRSxDQUFDLEtBQUssQ0FBQztHQUNmO0FBQ0QsUUFBUTtBQUNOLFlBQVEsRUFBRSxNQUFNO0FBQ2hCLFNBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQztHQUNsQztBQUNELGtCQUFnQixFQUFFO0FBQ2hCLFlBQVEsRUFBRSxNQUFNO0FBQ2hCLGdCQUFZLEVBQUUsRUFBQyxhQUFhLEVBQUUsQ0FBQyxFQUFDO0FBQ2hDLFNBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDO0dBQ2pDO0FBQ0QsY0FBWSxFQUFFO0FBQ1osWUFBUSxFQUFFLE1BQU07QUFDaEIsZ0JBQVksRUFBRSxFQUFDLGFBQWEsRUFBRSxDQUFDLEVBQUM7QUFDaEMsU0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztHQUN4QjtDQUNGLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG52YXIgdXBncmFkZXMgPSByZXF1aXJlKCcuL3VwZ3JhZGVzJyk7XG52YXIgZ2FtZVN0YXRlID0gcmVxdWlyZSgnLi9nYW1lc3RhdGUnKTtcbnZhciBnYW1lVGltZXIgPSByZXF1aXJlKCcuL2dhbWV0aW1lcicpO1xudmFyIGdhaW5DYWxjdWxhdG9yID0gcmVxdWlyZSgnLi9nYWluY2FsY3VsYXRvcicpO1xudmFyIGZ1bmN0aW9uQnVpbGRlciA9IHJlcXVpcmUoJy4vZnVuY3Rpb25idWlsZGVyJyk7XG52YXIgYW5pbWF0ZWRGbHlUaXAgPSByZXF1aXJlKCcuL2FuaW1hdGVkZmx5dGlwJyk7XG52YXIgZmF2aWNvID0gcmVxdWlyZSgnLi9mYXZpY28nKTtcblxuYW5ndWxhci5tb2R1bGUoJ2MnLCBbJ3VpLmJvb3RzdHJhcCcsICdobGpzJywgJ0xvY2FsU3RvcmFnZU1vZHVsZScsICduZ1RhYmxlJ10pXG5cbiAgLmNvbnN0YW50KCdVcGdyYWRlcycsIHVwZ3JhZGVzKVxuXG4gIC5jb25zdGFudCgnVmVyc2lvbicsICcwLjAuMScpXG5cbiAgLmNvbnN0YW50KCdEdW1wU3RhdGUnLCB7J0Jhc2ljIExheW91dCc6IDIsJ1Njb3JlYm9hcmQnOiAxLCdGdW5jdGlvbic6IDEsJ0Jhc2ljIFRpbWVyJzogMiwnQmFzaWMgSXRlcmF0aW9uJzogMywnQmFzaWMgQm9vc3QnOiAzLCdQcmVmb3JtYXR0aW5nJzogMSwnVmlzdWFsIENvdW50ZG93bic6IDEsJ1BhZ2UgVGl0bGUnOiAxLCdCZXR0ZXIgUGFnZSBUaXRsZSc6IDEsJ0JldHRlciBMYXlvdXQnOiAyLCdCYXNpYyBTdHlsZSc6IDEsJ051bWJlciBGb3JtYXR0aW5nJzogMX0pXG5cbiAgLnNlcnZpY2UoJ2ZhdmljbycsIGZhdmljbylcblxuICAuc2VydmljZSgnQW5pbWF0ZWRGbHlUaXAnLCBhbmltYXRlZEZseVRpcClcblxuICAuc2VydmljZSgnR2FtZVN0YXRlJywgZ2FtZVN0YXRlKVxuXG4gIC5zZXJ2aWNlKCdHYW1lVGltZXInLCBnYW1lVGltZXIpXG5cbiAgLnNlcnZpY2UoJ0dhaW5DYWxjdWxhdG9yJywgZ2FpbkNhbGN1bGF0b3IpXG5cbiAgLnNlcnZpY2UoJ0Z1bmN0aW9uQnVpbGRlcicsIGZ1bmN0aW9uQnVpbGRlcilcblxuICAuY29udHJvbGxlcignR2FtZScsIFtcbiAgICAnJHNjb3BlJywgJyR3aW5kb3cnLCAnJGludGVydmFsJywgJyRmaWx0ZXInLCAnR2FtZVN0YXRlJywgJ0dhbWVUaW1lcicsICdGdW5jdGlvbkJ1aWxkZXInLCAnVXBncmFkZXMnLCAnZmF2aWNvJywgJ25nVGFibGVQYXJhbXMnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdywgJGludGVydmFsLCAkZmlsdGVyLCBHYW1lU3RhdGUsIEdhbWVUaW1lciwgRnVuY3Rpb25CdWlsZGVyLCBVUEdSQURFUywgZmF2aWNvLCBOZ1RhYmxlUGFyYW1zKSB7XG5cbiAgICAgICRzY29wZS5fdmlzaWJsZVVwZ3JhZGVzID0gW107XG5cbiAgICAgICRzY29wZS50YWJsZVBhcmFtcyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgY291bnQ6IDEwMDBcbiAgICAgIH0sIHtcbiAgICAgICAgZ3JvdXBCeTogJ2NhdGVnb3J5JyxcbiAgICAgICAgdG90YWw6ICRzY29wZS5fdmlzaWJsZVVwZ3JhZGVzLmxlbmd0aCxcbiAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcblxuICAgICAgICAgIHZhciBkYXRhID0gJHNjb3BlLl92aXNpYmxlVXBncmFkZXM7XG5cbiAgICAgICAgICB2YXIgb3JkZXJlZERhdGEgPSBwYXJhbXMuc29ydGluZygpID9cbiAgICAgICAgICAgICRmaWx0ZXIoJ29yZGVyQnknKShkYXRhLCAkc2NvcGUudGFibGVQYXJhbXMub3JkZXJCeSgpKSA6XG4gICAgICAgICAgICBkYXRhO1xuXG4gICAgICAgICAgdmFyIGZpbHRlcmVkRGF0YSA9IHBhcmFtcy5maWx0ZXIoKSA/XG4gICAgICAgICAgICAkZmlsdGVyKCdmaWx0ZXInKShvcmRlcmVkRGF0YSwgcGFyYW1zLmZpbHRlcigpKSA6XG4gICAgICAgICAgICBvcmRlcmVkRGF0YTtcblxuICAgICAgICAgIHBhcmFtcy50b3RhbCgkc2NvcGUuX3Zpc2libGVVcGdyYWRlcy5sZW5ndGgpO1xuXG4gICAgICAgICAgJGRlZmVyLnJlc29sdmUoZmlsdGVyZWREYXRhLnNsaWNlKChwYXJhbXMucGFnZSgpIC0gMSkgKiBwYXJhbXMuY291bnQoKSwgcGFyYW1zLnBhZ2UoKSAqIHBhcmFtcy5jb3VudCgpKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuaGFzVXBncmFkZSA9IGZ1bmN0aW9uKGtleSwgbGV2ZWwgPSAwKSB7XG4gICAgICAgIHJldHVybiBHYW1lU3RhdGUudXBncmFkZS5oYXMoa2V5LCBsZXZlbCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuaGFzVW5pdHMgPSBmdW5jdGlvbihhbXQpIHtcbiAgICAgICAgcmV0dXJuIEdhbWVTdGF0ZS51bml0LmhhcyhhbXQpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnZpc2libGVVcGdyYWRlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBjdXJyZW50ID0gJHNjb3BlLl91bml0cztcbiAgICAgICAgdmFyIGFsbFJldCA9IFtdO1xuXG4gICAgICAgIF8uZWFjaChVUEdSQURFUywgKGl0ZW0sIGl0ZW1OYW1lKSA9PiB7XG5cbiAgICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgICB2YXIgbWVldHNBbGxSZXFzID0gdHJ1ZTtcblxuICAgICAgICAgIF8uZWFjaChpdGVtLnJlcXVpcmVtZW50cywgKHJlcSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZighJHNjb3BlLmhhc1VwZ3JhZGUoa2V5LCByZXEpKSB7IG1lZXRzQWxsUmVxcyA9IGZhbHNlOyB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZighbWVldHNBbGxSZXFzKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgXy5lYWNoKGl0ZW0uY29zdHMsIChjb3N0LCBpKSA9PiB7XG4gICAgICAgICAgICB2YXIgdmlzTGV2ZWwgPSBHYW1lU3RhdGUudXBncmFkZS5nZXRLZXkoJ1VwZ3JhZGUgVmlzaWJpbGl0eScpO1xuICAgICAgICAgICAgdmFyIHZpc2liaWxpdHlCb29zdCA9IDEgKyAoXy5pc1VuZGVmaW5lZCh2aXNMZXZlbCkgPyAwIDogMC4xNSp2aXNMZXZlbCk7XG5cblxuICAgICAgICAgICAgdmFyIHByZXZJdGVtID0gcmV0W3JldC5sZW5ndGgtMV07XG4gICAgICAgICAgICB2YXIgdG90YWxDb3N0ID0gY29zdCArIChwcmV2SXRlbSA/IHByZXZJdGVtLmNvc3QgOiAwKTtcblxuICAgICAgICAgICAgaWYoJHNjb3BlLmhhc1VwZ3JhZGUoaXRlbU5hbWUsIGkpIHx8IHRvdGFsQ29zdC92aXNpYmlsaXR5Qm9vc3QgPiBjdXJyZW50KSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IGl0ZW1OYW1lLFxuICAgICAgICAgICAgICBsZXZlbDogaSxcbiAgICAgICAgICAgICAgY29zdDogdG90YWxDb3N0LFxuICAgICAgICAgICAgICBidXlMZXZlbHM6IDEgKyAocHJldkl0ZW0gPyBwcmV2SXRlbS5idXlMZXZlbHMgOiAwKSxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IGl0ZW0uY2F0ZWdvcnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYWxsUmV0LnB1c2goLi4ucmV0KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBpZigkc2NvcGUuaGFzVXBncmFkZSgnQWxwaGFiZXRpemVkIFVwZ3JhZGVzJykpIHtcbiAgICAgICAgICBhbGxSZXQgPSBfLnNvcnRCeU9yZGVyKGFsbFJldCwgWyduYW1lJywgJ2xldmVsJ10sIFt0cnVlLCB0cnVlXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZigkc2NvcGUuaGFzVXBncmFkZSgnQmVzdCBGYXZpY29uJykpIHtcbiAgICAgICAgICB2YXIgYnV5YWJsZVVwZ3JhZGVzID0gXy5maWx0ZXIoYWxsUmV0LCBpdGVtID0+IGl0ZW0uY29zdCA8ICRzY29wZS5fdW5pdHMpLmxlbmd0aDtcbiAgICAgICAgICBpZihidXlhYmxlVXBncmFkZXMgPiAwKSB7XG4gICAgICAgICAgICBmYXZpY28uYmFkZ2UoYnV5YWJsZVVwZ3JhZGVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmF2aWNvLnJlc2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFsbFJldDtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5idXlVcGdyYWRlID0gZnVuY3Rpb24odXBnTmFtZSwgbGV2ZWxzID0gMSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgR2FtZVN0YXRlLnVwZ3JhZGUuaW5jKHVwZ05hbWUpO1xuICAgICAgICB9IHdoaWxlKC0tbGV2ZWxzID4gMCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuZ2FpblVuaXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICR3aW5kb3cuaW5jcmVhc2VVbml0cygpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgR2FtZVN0YXRlLnNhdmUoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5fdW5pdHMgPSBHYW1lU3RhdGUudW5pdC5nZXQoKTtcbiAgICAgICAgJHNjb3BlLl92aXNpYmxlVXBncmFkZXMgPSAkc2NvcGUudmlzaWJsZVVwZ3JhZGVzKCk7XG4gICAgICAgICRzY29wZS5fZnVuY3Rpb24gPSBGdW5jdGlvbkJ1aWxkZXIuYnVpbGQoKTtcblxuICAgICAgICAkc2NvcGUudGFibGVQYXJhbXMucmVsb2FkKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmVmcmVzaCgpO1xuICAgICAgJHNjb3BlLl90aW1lciA9IDA7XG4gICAgICAkc2NvcGUuX3RpbWVybWF4ID0gMDtcbiAgICAgIHZhciB0aW1lckludGVydmFsO1xuXG4gICAgICBHYW1lU3RhdGUudW5pdC53YXRjaCgpLnRoZW4obnVsbCwgbnVsbCwgJHNjb3BlLnJlZnJlc2gpO1xuICAgICAgR2FtZVN0YXRlLnVwZ3JhZGUud2F0Y2goKS50aGVuKG51bGwsIG51bGwsICRzY29wZS5yZWZyZXNoKTtcblxuICAgICAgR2FtZVRpbWVyLndhdGNoKCkudGhlbihudWxsLCBudWxsLCBmdW5jdGlvbihuZXdUaW1lclZhbHVlKSB7XG4gICAgICAgICRzY29wZS5fdGltZXIgPSAkc2NvcGUuX3RpbWVyTWF4ID0gbmV3VGltZXJWYWx1ZTtcbiAgICAgICAgaWYodGltZXJJbnRlcnZhbCkge1xuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwodGltZXJJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZXJJbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuX3RpbWVyIC09IDEwMDtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0pO1xuXG4gICAgICAkd2luZG93LmR1bXBTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0KCk7XG4gICAgICB9O1xuXG4gICAgICAkd2luZG93LmR1bXBEZWJ1Z0luZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEdhbWVTdGF0ZS5idWlsZFNhdmVPYmplY3QoKSwgbnVsbCwgNCk7XG4gICAgICB9O1xuXG4gICAgfVxuICBdKTsiLCJ2YXIgYW5pbWF0ZWRGbHlUaXAgPSBmdW5jdGlvbigkZmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgZmx5OiBmdW5jdGlvbihudW0sIHVzZVNlcGFyYXRvciA9IGZhbHNlKSB7XG4gICAgICB2YXIgJGVsZW1lbnQgPSAkKCc8ZGl2IC8+Jyk7XG5cbiAgICAgIHZhciBudW1TdHJpbmcgPSBudW07XG4gICAgICBpZih1c2VTZXBhcmF0b3IpIHtcbiAgICAgICAgbnVtU3RyaW5nID0gJGZpbHRlcignbnVtYmVyJykobnVtU3RyaW5nLCAwKTtcbiAgICAgIH1cblxuICAgICAgaWYobnVtIDwgMCkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygndGV4dC1kYW5nZXInKTtcbiAgICAgICAgJGVsZW1lbnQuaHRtbChudW1TdHJpbmcpO1xuICAgICAgfSBlbHNlIGlmKG51bSA+IDApIHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3RleHQtc3VjY2VzcycpO1xuICAgICAgICAkZWxlbWVudC5odG1sKGArJHtudW1TdHJpbmd9YCk7XG4gICAgICB9XG5cbiAgICAgICRlbGVtZW50LmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGVsZW1lbnQpO1xuXG4gICAgICB2YXIgJGJhc2UgPSAkKCcjbmF2YmFyLXVuaXQnKTtcbiAgICAgICRlbGVtZW50Lm9mZnNldCh7bGVmdDogJGJhc2Uub2Zmc2V0KCkubGVmdCwgdG9wOiAkYmFzZS5vZmZzZXQoKS50b3B9KTtcblxuICAgICAgJGVsZW1lbnQuYW5pbWF0ZSh7dG9wOiAnNjBweCd9KTtcbiAgICAgICRlbGVtZW50LmFuaW1hdGUoe29wYWNpdHk6IDAsIHRvcDogJzYwcHgnfSwgNTAwLCAnc3dpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9O1xufTtcblxuYW5pbWF0ZWRGbHlUaXAuJGluamVjdCA9IFsnJGZpbHRlciddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFuaW1hdGVkRmx5VGlwOyIsIlxudmFyIGZhdmljbyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZmF2aWNvID0gbmV3IEZhdmljbyh7XG4gICAgYW5pbWF0aW9uIDogJ2ZhZGUnXG4gIH0pO1xuXG4gIHZhciBjdXJyZW50TnVtID0gMDtcblxuICB2YXIgYmFkZ2UgPSBmdW5jdGlvbihudW0pIHtcbiAgICBpZihudW0gPT09IGN1cnJlbnROdW0pIHsgcmV0dXJuOyB9XG4gICAgY3VycmVudE51bSA9IG51bTtcbiAgICBmYXZpY28uYmFkZ2UobnVtKTtcbiAgfTtcbiAgdmFyIHJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgZmF2aWNvLnJlc2V0KCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBiYWRnZSA6IGJhZGdlLFxuICAgIHJlc2V0IDogcmVzZXRcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZmF2aWNvOyIsInZhciBmdW5jdGlvbkJ1aWxkZXIgPSBmdW5jdGlvbihHYW1lU3RhdGUsIEdhaW5DYWxjdWxhdG9yLCAkd2luZG93KSB7XG4gIHJldHVybiB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdW5pdFRleHQgPSAndW5pdHMnO1xuXG4gICAgICB2YXIgZnVuY3Rpb25IZWFkZXIgPSBbJycsJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdGdW5jdGlvbicpKSB7XG4gICAgICAgIGZ1bmN0aW9uSGVhZGVyID0gW2BmdW5jdGlvbiBpbmNyZWFzZVVuaXRzKCkge2AsIGB9YF07XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRpb25IZWFkZXIgPSBbJycsJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBJdGVyYXRpb24nKSkge1xuICAgICAgICBpdGVyYXRpb25IZWFkZXIgPSBbYGZvcih2YXIgaSA9IDA7IGkgPCAke0dhaW5DYWxjdWxhdG9yLml0ZXJhdGlvbigpfTsgaSsrKSB7YCwgYH1gXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRpbWVvdXQgPSBgYDtcbiAgICAgIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnQmFzaWMgVGltZXInKSkge1xuICAgICAgICB0aW1lb3V0ID0gYCRpbnRlcnZhbChpbmNyZWFzZVVuaXRzLCAke0dhaW5DYWxjdWxhdG9yLnRpbWVyKCl9KTtcXG5gO1xuICAgICAgfVxuXG4gICAgICB2YXIgYW5pbWF0aW9uSGVhZGVyID0gWycnLCcnXTtcbiAgICAgIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnQmFzaWMgQW5pbWF0aW9uJykpIHtcbiAgICAgICAgYW5pbWF0aW9uSGVhZGVyID0gW1xuICAgICAgICAgIGB2YXIgdG90YWxVbml0c0dhaW5lZCA9IDA7YCxcbiAgICAgICAgICBgdW5pdHMgKz0gdG90YWxVbml0c0dhaW5lZDtcbiAgICAgICAgICBhbmltYXRlVW5pdENoYW5nZSh0b3RhbFVuaXRzR2FpbmVkKTtgXTtcbiAgICAgICAgdW5pdFRleHQgPSAndG90YWxVbml0c0dhaW5lZCc7XG4gICAgICB9XG5cbiAgICAgIHZhciBzYXZlSGVhZGVyID0gWycnLCAnJ107XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ1NhdmUnLCAxKSkge1xuICAgICAgICBzYXZlSGVhZGVyID0gW2BcXG52YXIgY3VycmVudFRpY2sgPSAwO2AsIGBcbiAgaWYoY3VycmVudFRpY2srKyAlIDEwID09PSAwKSB7XG4gICAgY3VycmVudFRpY2sgPSAwO1xuICAgIHNhdmUoKTtcbiAgfWBdO1xuICAgICAgfVxuXG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ1NhdmUnLCAzKSkge1xuICAgICAgICBzYXZlSGVhZGVyID0gWycnLCBgXG4gIHNhdmUoKTtgXTtcbiAgICAgIH1cblxuICAgICAgLy8gZHVtcCBpdCBvbiB0aGUgcGFnZS4gaXQncyBhbiBcImV4cGxvaXRcIlxuICAgICAgJHdpbmRvdy5pbmNyZWFzZVVuaXRzID0gZnVuY3Rpb24oKSB7IEdhbWVTdGF0ZS51bml0LmluYyhHYWluQ2FsY3VsYXRvci5hbGwoKSk7IH07XG5cbiAgICAgIHJldHVybiBgJHt0aW1lb3V0fSR7c2F2ZUhlYWRlclswXX1cbiR7ZnVuY3Rpb25IZWFkZXJbMF19XG4gICR7YW5pbWF0aW9uSGVhZGVyWzBdfVxuICAke2l0ZXJhdGlvbkhlYWRlclswXX1cbiAgICAke3VuaXRUZXh0fSArPSAke0dhaW5DYWxjdWxhdG9yLmJvb3N0KCl9O1xuICAke2l0ZXJhdGlvbkhlYWRlclsxXX1cbiAgJHtzYXZlSGVhZGVyWzFdfVxuICAke2FuaW1hdGlvbkhlYWRlclsxXX1cbiR7ZnVuY3Rpb25IZWFkZXJbMV19XG5gO1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uQnVpbGRlci4kaW5qZWN0ID0gWydHYW1lU3RhdGUnLCAnR2FpbkNhbGN1bGF0b3InLCAnJHdpbmRvdyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uQnVpbGRlcjsiLCJ2YXIgZ2FpbkNhbGN1bGF0b3IgPSBmdW5jdGlvbihHYW1lU3RhdGUpIHtcblxuICB2YXIgYm9vc3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coKEdhbWVTdGF0ZS51cGdyYWRlLmdldEtleSgnQmFzaWMgQm9vc3QnKSB8fCAwKSsxLCAyKTtcbiAgfTtcblxuICB2YXIgaXRlcmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZXJMZXZlbCA9IEdhbWVTdGF0ZS51cGdyYWRlLmdldEtleSgnQmFzaWMgSXRlcmF0aW9uJyk7XG4gICAgaWYoIWl0ZXJMZXZlbCkgeyByZXR1cm4gMTsgfVxuICAgIHJldHVybiBNYXRoLnBvdyg0LCBpdGVyTGV2ZWwrMSk7XG4gIH07XG5cbiAgdmFyIHRpbWVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJhc2ljUmVkdWN0aW9uID0gMC4wNSAqIEdhbWVTdGF0ZS51cGdyYWRlLmdldEtleSgnQmFzaWMgVGltZXInKTtcbiAgICB2YXIgYWR2YW5jZWRSZWR1Y3Rpb24gPSAwLjE1ICogR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0S2V5KCdBZHZhbmNlZCBUaW1lcicpO1xuICAgIGFkdmFuY2VkUmVkdWN0aW9uID0gXy5pc05hTihhZHZhbmNlZFJlZHVjdGlvbikgPyAwIDogYWR2YW5jZWRSZWR1Y3Rpb247XG4gICAgcmV0dXJuIDMwMDAwIC0gKDMwMDAwICogKGJhc2ljUmVkdWN0aW9uICsgYWR2YW5jZWRSZWR1Y3Rpb24pKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGJvb3N0OiBib29zdCxcbiAgICBpdGVyYXRpb246IGl0ZXJhdGlvbixcbiAgICB0aW1lcjogdGltZXIsXG4gICAgYWxsOiBmdW5jdGlvbigpIHsgcmV0dXJuIGJvb3N0KCkgKiBpdGVyYXRpb24oKTsgfVxuICB9O1xufTtcblxuZ2FpbkNhbGN1bGF0b3IuJGluamVjdCA9IFsnR2FtZVN0YXRlJ107XG5cbm1vZHVsZS5leHBvcnRzID0gZ2FpbkNhbGN1bGF0b3I7IiwidmFyIGdhbWVTdGF0ZSA9IGZ1bmN0aW9uKCRxLCBVUEdSQURFUywgbG9jYWxTdG9yYWdlLCBBbmltYXRlZEZseVRpcCwgRHVtcFN0YXRlKSB7XG4gIHZhciB1cGdyYWRlcyA9IER1bXBTdGF0ZSB8fCB7fTtcbiAgdmFyIHVuaXRzID0gMTAwMDAwO1xuXG4gIHZhciB1cGdyYWRlRGVmZXIgPSAkcS5kZWZlcigpO1xuICB2YXIgdW5pdERlZmVyID0gJHEuZGVmZXIoKTtcblxuICB2YXIgYnVpbGRTYXZlT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuaXRzOiB1bml0cyxcbiAgICAgIHVwZ3JhZGVzOiB1cGdyYWRlc1xuICAgIH07XG4gIH07XG5cbiAgdmFyIHNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdnYW1lJywgYnVpbGRTYXZlT2JqZWN0KCkpO1xuICB9O1xuXG4gIHZhciBsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gbG9jYWxTdG9yYWdlLmdldCgnZ2FtZScpO1xuXG4gICAgaWYoIXN0YXRlKSB7IHJldHVybjsgfVxuXG4gICAgaWYoc3RhdGUudW5pdHMpIHtcbiAgICAgIHVuaXRzID0gc3RhdGUudW5pdHM7XG4gICAgfVxuXG4gICAgaWYoc3RhdGUudXBncmFkZXMpIHtcbiAgICAgIHVwZ3JhZGVzID0gc3RhdGUudXBncmFkZXM7XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGdyYWRlID0ge1xuICAgIGhhczogZnVuY3Rpb24oa2V5LCBsZXZlbCA9IDApIHsgcmV0dXJuIHVwZ3JhZGVzW2tleV0gPiBsZXZlbDsgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdXBncmFkZXM7IH0sXG4gICAgZ2V0S2V5OiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHVwZ3JhZGVzW2tleV07IH0sXG4gICAgaW5jOiBmdW5jdGlvbihrZXkpIHtcblxuICAgICAgdmFyIG5leHRMZXZlbCA9IHVwZ3JhZGVzW2tleV0gfHwgMDtcbiAgICAgIHZhciBjb3N0ID0gVVBHUkFERVNba2V5XS5jb3N0c1tuZXh0TGV2ZWxdO1xuICAgICAgaWYodW5pdHMgPCBjb3N0KSB7IHJldHVybjsgfVxuXG4gICAgICBpZighdXBncmFkZXNba2V5XSkgeyB1cGdyYWRlc1trZXldID0gMDsgfVxuICAgICAgdXBncmFkZXNba2V5XSsrO1xuICAgICAgdW5pdC5pbmMoLWNvc3QpO1xuICAgICAgdXBncmFkZURlZmVyLm5vdGlmeSh7a2V5OiBrZXksIGxldmVsOiB1cGdyYWRlc1trZXldLCBhbGw6IHVwZ3JhZGVzfSk7XG4gICAgfSxcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7IHJldHVybiB1cGdyYWRlRGVmZXIucHJvbWlzZTsgfVxuICB9O1xuXG4gIHZhciB0aWNrID0gMDtcblxuICB2YXIgdW5pdCA9IHtcbiAgICBoYXM6IGZ1bmN0aW9uKGFtdCkgeyByZXR1cm4gdW5pdHMgPiBhbXQ7IH0sXG4gICAgaW5jOiBmdW5jdGlvbihhbXQpIHtcbiAgICAgIHVuaXRzICs9IGFtdDtcbiAgICAgIHVuaXREZWZlci5ub3RpZnkodW5pdHMpO1xuXG4gICAgICBpZih1cGdyYWRlLmhhcygnQmFzaWMgQW5pbWF0aW9uJykpIHtcbiAgICAgICAgQW5pbWF0ZWRGbHlUaXAuZmx5KGFtdCwgdXBncmFkZS5oYXMoJ051bWJlciBGb3JtYXR0aW5nJykpO1xuICAgICAgfVxuXG4gICAgICBpZih1cGdyYWRlLmhhcygnU2F2ZScsIDEpKSB7XG4gICAgICAgIGlmKHRpY2srKyAlIDEwID09PSAwKSB7XG4gICAgICAgICAgdGljayA9IDA7XG4gICAgICAgICAgc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0czsgfSxcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0RGVmZXIucHJvbWlzZTsgfVxuICB9O1xuXG4gIGxvYWQoKTtcblxuICByZXR1cm4ge1xuICAgIHVwZ3JhZGU6IHVwZ3JhZGUsXG4gICAgdW5pdDogdW5pdCxcbiAgICBzYXZlOiBzYXZlLFxuICAgIGJ1aWxkU2F2ZU9iamVjdDogYnVpbGRTYXZlT2JqZWN0XG4gIH07XG59O1xuXG5nYW1lU3RhdGUuJGluamVjdCA9IFsnJHEnLCAnVXBncmFkZXMnLCAnbG9jYWxTdG9yYWdlU2VydmljZScsICdBbmltYXRlZEZseVRpcCcsICdEdW1wU3RhdGUnXTtcblxubW9kdWxlLmV4cG9ydHMgPSBnYW1lU3RhdGU7IiwidmFyIGdhbWVUaW1lciA9IGZ1bmN0aW9uKCRxLCAkaW50ZXJ2YWwsICR0aW1lb3V0LCAkd2luZG93LCBHYW1lU3RhdGUsIEdhaW5DYWxjdWxhdG9yKSB7XG5cbiAgdmFyIGludGVydmFsID0gbnVsbDtcbiAgdmFyIHRpbWVyRGVmZXIgPSAkcS5kZWZlcigpO1xuXG4gIHZhciBzdGFydFRpbWVyID0gZnVuY3Rpb24odXBncmFkZURhdGEgPSB7a2V5OiAnVGltZXInfSkge1xuXG4gICAgaWYoIUdhbWVTdGF0ZS51cGdyYWRlLmhhcygnQmFzaWMgVGltZXInKSkgeyByZXR1cm47IH1cbiAgICBpZighXy5jb250YWlucyh1cGdyYWRlRGF0YS5rZXksICdUaW1lcicpKSB7IHJldHVybjsgfVxuXG4gICAgaWYoaW50ZXJ2YWwpIHtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGludGVydmFsID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgJHdpbmRvdy5pbmNyZWFzZVVuaXRzKCk7XG4gICAgICB0aW1lckRlZmVyLm5vdGlmeShHYWluQ2FsY3VsYXRvci50aW1lcigpKTtcbiAgICB9LCBHYWluQ2FsY3VsYXRvci50aW1lcigpKTtcblxuICAgIHRpbWVyRGVmZXIubm90aWZ5KEdhaW5DYWxjdWxhdG9yLnRpbWVyKCkpO1xuICB9O1xuXG4gIGlmKEdhbWVTdGF0ZS51cGdyYWRlLmhhcygnQmFzaWMgVGltZXInKSkge1xuICAgICR0aW1lb3V0KHN0YXJ0VGltZXIsIDApO1xuICB9XG5cbiAgR2FtZVN0YXRlLnVwZ3JhZGUud2F0Y2goKS50aGVuKG51bGwsIG51bGwsIHN0YXJ0VGltZXIpO1xuXG4gIHJldHVybiB7XG4gICAgd2F0Y2g6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRpbWVyRGVmZXIucHJvbWlzZTtcbiAgICB9XG4gIH07XG5cbn07XG5cbmdhbWVUaW1lci4kaW5qZWN0ID0gWyckcScsICckaW50ZXJ2YWwnLCAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICdHYW1lU3RhdGUnLCAnR2FpbkNhbGN1bGF0b3InXTtcblxubW9kdWxlLmV4cG9ydHMgPSBnYW1lVGltZXI7IiwiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgU2NvcmVib2FyZDoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICBjb3N0czogWzEwXVxuICB9LFxuICAnQmFzaWMgTGF5b3V0Jzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICBjb3N0czogWzE1LCAyMDBdXG4gIH0sXG4gICdCZXR0ZXIgTGF5b3V0Jzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgTGF5b3V0JzogMX0sXG4gICAgY29zdHM6IFsyMDAsIDIwMDBdXG4gIH0sXG4gIEZ1bmN0aW9uOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICBjb3N0czogWzIwXVxuICB9LFxuICAnQmFzaWMgSXRlcmF0aW9uJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7RnVuY3Rpb246IDB9LFxuICAgIGNvc3RzOiBbNTAsIDMwMCwgMjAwMCwgMTUwMDBdXG4gIH0sXG4gICdCYXNpYyBUaW1lcic6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czoge0Z1bmN0aW9uOiAwfSxcbiAgICBjb3N0czogWzUwLCA2MDAsIDIwMDAwLCAxMDAwMDBdXG4gIH0sXG4gICdCYXNpYyBCb29zdCc6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czoge0Z1bmN0aW9uOiAwfSxcbiAgICBjb3N0czogWzEwLCAxMDAsIDI1MDAsIDEwMDAwXVxuICB9LFxuICBDYXBpdGFsaXphdGlvbjoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICBjb3N0czogWzEwMF1cbiAgfSxcbiAgUHJlZm9ybWF0dGluZzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgSXRlcmF0aW9uJzogMH0sXG4gICAgY29zdHM6IFsxNTBdXG4gIH0sXG4gICdWaXN1YWwgQ291bnRkb3duJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgVGltZXInOiAwfSxcbiAgICBjb3N0czogWzEwMDBdXG4gIH0sXG4gICdQYWdlIFRpdGxlJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIGNvc3RzOiBbNTAwXVxuICB9LFxuICAnQmV0dGVyIFBhZ2UgVGl0bGUnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J1BhZ2UgVGl0bGUnOiAwLCAnU2NvcmVib2FyZCc6IDB9LFxuICAgIGNvc3RzOiBbMjUwMF1cbiAgfSxcbiAgJ0FscGhhYmV0aXplZCBVcGdyYWRlcyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQ2FwaXRhbGl6YXRpb24nOiAwLCAnQmV0dGVyIExheW91dCc6IDB9LFxuICAgIGNvc3RzOiBbNTAwMF1cbiAgfSxcbiAgJ1VwZ3JhZGUgVmlzaWJpbGl0eSc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQWxwaGFiZXRpemVkIFVwZ3JhZGVzJzogMH0sXG4gICAgY29zdHM6IFs2NTAwLCA4NTAwLCAxMDUwMF1cbiAgfSxcbiAgJ1Byb2dyZXNzIEJhcic6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxLCAnQmFzaWMgQ29sb3InOiAwfSxcbiAgICBjb3N0czogWzUwMDBdXG4gIH0sXG4gICdCYXNpYyBTdHlsZSc6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxfSxcbiAgICBjb3N0czogWzEwMDAwLCAyMDAwMF1cbiAgfSxcbiAgJ0Jhc2ljIENvbG9yJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBjb3N0czogWzEyNTAwXVxuICB9LFxuICBJY29ub2dyYXBoeToge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBjb3N0czogWzI1MDAwXVxuICB9LFxuICAnTnVtYmVyIEZvcm1hdHRpbmcnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMH0sXG4gICAgY29zdHM6IFsyMDAwMF1cbiAgfSxcbiAgJ0Jhc2ljIEFuaW1hdGlvbic6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwLCAnQmFzaWMgSXRlcmF0aW9uJzogMCwgJ0Jhc2ljIENvbG9yJzogMH0sXG4gICAgY29zdHM6IFsxMDAwMDBdXG4gIH0sXG4gICdGYXZpY29uJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIGNvc3RzOiBbMjAwMF1cbiAgfSxcbiAgJ0Jlc3QgRmF2aWNvbic6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmV0dGVyIFBhZ2UgVGl0bGUnOiAwLCAnRmF2aWNvbic6IDB9LFxuICAgIGNvc3RzOiBbMTAwMDAwXVxuICB9LFxuICAnU3ludGF4IEhpZ2hsaWdodGluZyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnUHJlZm9ybWF0dGluZyc6IDB9LFxuICAgIGNvc3RzOiBbNTAwMDBdXG4gIH0sXG4gICdTYXZlJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgY29zdHM6IFszMDAsIDUwMDAsIDIwMDAwLCAxNTAwMDBdXG4gIH0sXG4gICdBZHZhbmNlZCBUaW1lcic6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBUaW1lcic6IDN9LFxuICAgIGNvc3RzOiBbMjAwMDAwLCA3NTAwMDAsIDE1MDAwMDBdXG4gIH0sXG4gICdCZXN0IFRhYmxlJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMX0sXG4gICAgY29zdHM6IFsyNTAwMDAsIDM1MDAwMF1cbiAgfVxufTsiXX0=
