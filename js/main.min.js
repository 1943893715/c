(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/js/main.js":[function(require,module,exports){
'use strict';

var upgrades = require('./upgrades');
var gameState = require('./gamestate');
var gameTimer = require('./gametimer');
var gainCalculator = require('./gaincalculator');
var functionBuilder = require('./functionbuilder');
var animatedFlyTip = require('./animatedflytip');
var favico = require('./favico');
var gameController = require('./gamecontroller');
var visibleUpgrades = require('./visibleupgrades');

angular.module('c', ['ui.bootstrap', 'hljs', 'LocalStorageModule', 'ngTable', 'angularMoment']).constant('Upgrades', upgrades).constant('Version', '0.0.1').service('favico', favico).service('AnimatedFlyTip', animatedFlyTip).service('GameState', gameState).service('GameTimer', gameTimer).service('VisibleUpgrades', visibleUpgrades).service('GainCalculator', gainCalculator).service('FunctionBuilder', functionBuilder).controller('Game', gameController);

},{"./animatedflytip":"/home/seiyria/projects/c/src/js/animatedflytip.js","./favico":"/home/seiyria/projects/c/src/js/favico.js","./functionbuilder":"/home/seiyria/projects/c/src/js/functionbuilder.js","./gaincalculator":"/home/seiyria/projects/c/src/js/gaincalculator.js","./gamecontroller":"/home/seiyria/projects/c/src/js/gamecontroller.js","./gamestate":"/home/seiyria/projects/c/src/js/gamestate.js","./gametimer":"/home/seiyria/projects/c/src/js/gametimer.js","./upgrades":"/home/seiyria/projects/c/src/js/upgrades.js","./visibleupgrades":"/home/seiyria/projects/c/src/js/visibleupgrades.js"}],"/home/seiyria/projects/c/src/js/animatedflytip.js":[function(require,module,exports){
'use strict';

var animatedFlyTip = function animatedFlyTip($filter) {
  return {
    fly: function fly(num) {
      var useSeparator = arguments[1] === undefined ? false : arguments[1];

      var $element = $('<div />');

      var numString = num;
      if (useSeparator) {
        numString = $filter('number')(numString, 0);
      }

      if (num < 0) {
        $element.addClass('text-danger');
        $element.html(numString);
      } else if (num > 0) {
        $element.addClass('text-success');
        $element.html('+' + numString);
      }

      $element.css('position', 'absolute');
      $('body').append($element);

      var $base = $('#navbar-unit');
      $element.offset({ left: $base.offset().left, top: $base.offset().top });

      $element.animate({ top: '60px' });
      $element.animate({ opacity: 0, top: '60px' }, 500, 'swing', function () {
        $(this).remove();
      });
    }
  };
};

animatedFlyTip.$inject = ['$filter'];

module.exports = animatedFlyTip;

},{}],"/home/seiyria/projects/c/src/js/favico.js":[function(require,module,exports){
'use strict';

var favico = function favico() {
  var favico = new Favico({
    animation: 'fade'
  });

  var currentNum = 0;

  var badge = function badge(num) {
    if (num === currentNum) {
      return;
    }
    currentNum = num;
    favico.badge(num);
  };
  var reset = function reset() {
    favico.reset();
  };

  return {
    badge: badge,
    reset: reset
  };
};

module.exports = favico;

},{}],"/home/seiyria/projects/c/src/js/functionbuilder.js":[function(require,module,exports){
'use strict';

var functionBuilder = function functionBuilder(GameState, GainCalculator, $window) {
  return {
    build: function build() {

      var upgrade = GameState.upgrade;

      var unitText = 'units';

      var functionHeader = ['', ''];
      if (GameState.upgrade.has('Function')) {
        functionHeader = ['function increaseUnits() {', '}'];
      }

      var iterationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Iteration')) {
        iterationHeader = ['for(var i = 0; i < ' + GainCalculator.iteration(upgrade) + '; i++) {', '}'];
      }

      var timeout = '';
      if (GameState.upgrade.has('Basic Timer')) {
        timeout = '$interval(increaseUnits, ' + GainCalculator.timer(upgrade) + ');\n';
      }

      var animationHeader = ['', ''];
      if (GameState.upgrade.has('Basic Animation')) {
        animationHeader = ['var totalUnitsGained = 0;', 'units += totalUnitsGained;\n  animateUnitChange(totalUnitsGained);'];
        unitText = 'totalUnitsGained';
      }

      var saveHeader = ['', ''];
      if (GameState.upgrade.has('Save', 1)) {
        saveHeader = ['\nvar currentTick = 0;', '\n  if(++currentTick % 10 === 0) {\n    currentTick = 0;\n    save();\n  }'];
      }

      if (GameState.upgrade.has('Save', 3)) {
        saveHeader = ['', '\n  save();'];
      }

      // dump it on the page. it's an "exploit"
      $window.increaseUnits = function () {
        GameState.unit.inc(GainCalculator.all(upgrade));
      };

      return '' + timeout + '' + saveHeader[0] + '\n' + functionHeader[0] + '\n  ' + animationHeader[0] + '\n  ' + iterationHeader[0] + '\n    ' + unitText + ' += ' + GainCalculator.boost(upgrade) + ';\n  ' + iterationHeader[1] + '\n  ' + saveHeader[1] + '\n  ' + animationHeader[1] + '\n' + functionHeader[1] + '\n';
    }
  };
};

functionBuilder.$inject = ['GameState', 'GainCalculator', '$window'];

module.exports = functionBuilder;

},{}],"/home/seiyria/projects/c/src/js/gaincalculator.js":[function(require,module,exports){
'use strict';

var gainCalculator = function gainCalculator() {

  var boost = function boost(upgrade) {
    return Math.pow((upgrade.getKey('Basic Boost') || 0) + 1, 2);
  };

  var iteration = function iteration(upgrade) {
    var iterLevel = upgrade.getKey('Basic Iteration');
    if (!iterLevel) {
      return 1;
    }
    return Math.pow(2, iterLevel + 1);
  };

  var timer = function timer(upgrade) {
    var basicReduction = 0.05 * upgrade.getKey('Basic Timer');
    var advancedReduction = 0.15 * upgrade.getKey('Advanced Timer');
    advancedReduction = _.isNaN(advancedReduction) ? 0 : advancedReduction;
    return 30000 - Math.round(30000 * (basicReduction + advancedReduction));
  };

  return {
    boost: boost,
    iteration: iteration,
    timer: timer,
    all: function all(upgrade) {
      return boost(upgrade) * iteration(upgrade);
    }
  };
};

module.exports = gainCalculator;

},{}],"/home/seiyria/projects/c/src/js/gamecontroller.js":[function(require,module,exports){
'use strict';

var gameController = function gameController($scope, $window, $interval, $filter, $modal, GameState, GameTimer, VisibleUpgrades, FunctionBuilder, NgTableParams) {
  $scope._visibleUpgrades = [];

  $scope.tableParams = new NgTableParams({
    page: 1,
    count: 1000
  }, {
    groupBy: 'category',
    total: $scope._visibleUpgrades.length,
    getData: function getData($defer, params) {
      var data = $scope._visibleUpgrades;

      var orderedData = params.sorting() ? $filter('orderBy')(data, params.orderBy()) : data;

      var filteredData = params.filter() ? $filter('filter')(orderedData, params.filter()) : orderedData;

      params.total($scope._visibleUpgrades.length);

      $defer.resolve(filteredData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
    }
  });

  $scope.hasUpgrade = function (key) {
    var level = arguments[1] === undefined ? 0 : arguments[1];

    return GameState.upgrade.has(key, level);
  };

  $scope.hasUnits = function (amt) {
    return GameState.unit.has(amt);
  };

  $scope.buyUpgrade = function (upgName) {
    var levels = arguments[1] === undefined ? 1 : arguments[1];

    do {
      GameState.upgrade.inc(upgName);
    } while (--levels > 0);
  };

  $scope.gainUnits = function () {
    $window.increaseUnits();
  };

  $scope.save = function () {
    GameState.save();
  };

  $scope.refresh = function () {
    $scope._units = GameState.unit.get();
    $scope._visibleUpgrades = VisibleUpgrades.calc();
    $scope._function = FunctionBuilder.build();
    $scope.tableParams.reload();
  };

  $scope.openModal = function (modal) {
    $modal.open({
      templateUrl: 'modal-' + modal,
      scope: $scope
    });
  };

  $scope.refresh();
  $scope._timer = 0;
  $scope._timermax = 0;
  var timerInterval;

  GameState.unit.watch().then(null, null, $scope.refresh);
  GameState.upgrade.watch().then(null, null, $scope.refresh);

  GameTimer.watch().then(null, null, function (newTimerValue) {
    $scope._timer = $scope._timerMax = newTimerValue;
    if (timerInterval) {
      $interval.cancel(timerInterval);
    }
    timerInterval = $interval(function () {
      $scope._timer -= 100;
    }, 100);
  });

  $scope.saveObject = function () {
    return GameState.buildSaveObject();
  };

  $scope.debugInfo = $window.dumpDebugInfo = function () {
    return JSON.stringify($scope.saveObject(), null, 4);
  };

  $scope.resetGame = function () {
    var callback = arguments[0] === undefined ? function () {} : arguments[0];

    var finalCallback = function finalCallback() {
      GameState.hardReset();
      $scope.refresh();
      callback();
    };

    if ($scope.hasUpgrade('Confirmation Dialogs')) {
      bootbox.confirm('Are you sure you want to hard reset? Nothing will be saved.', function (result) {
        if (!result) {
          return;
        }
        finalCallback();
      });
    } else {
      finalCallback();
    }
  };
};

gameController.$inject = ['$scope', '$window', '$interval', '$filter', '$modal', 'GameState', 'GameTimer', 'VisibleUpgrades', 'FunctionBuilder', 'ngTableParams'];

module.exports = gameController;

},{}],"/home/seiyria/projects/c/src/js/gamestate.js":[function(require,module,exports){
'use strict';

var gameState = function gameState($q, UPGRADES, GainCalculator, localStorage, AnimatedFlyTip) {
  var upgrades = {};
  var units = 0;
  var start = Date.now();
  var lastSave = Date.now();

  var upgradeDefer = $q.defer();
  var unitDefer = $q.defer();

  var buildSaveObject = function buildSaveObject() {
    return {
      units: units,
      upgrades: upgrades,
      start: start,
      lastSave: lastSave
    };
  };

  var save = function save() {
    lastSave = Date.now();
    localStorage.set('game', buildSaveObject());
  };

  var hardReset = function hardReset() {
    start = Date.now();
    units = 0;
    upgrades = {};
    save();
  };

  var load = function load() {
    var state = localStorage.get('game');

    if (!state) {
      return;
    }

    if (state.units) {
      units = state.units;
    }

    if (state.upgrades) {
      upgrades = state.upgrades;
    }

    if (state.start) {
      start = state.start;
    }

    if (state.lastSave) {
      lastSave = state.lastSave;

      if (upgrade.has('Offline Progress')) {
        var diff = Date.now() - state.lastSave;
        var multiplier = 0.25 + 0.25 * upgrade.getKey('Offline Progress');
        var timersElapsed = Math.floor(diff / GainCalculator.timer(upgrade));
        var gain = timersElapsed * multiplier * GainCalculator.all(upgrade);
        unit.inc(gain);
        save();
      }
    }
  };

  var upgrade = {
    has: function has(key) {
      var level = arguments[1] === undefined ? 0 : arguments[1];
      return upgrades[key] > level;
    },
    get: function get() {
      return upgrades;
    },
    getKey: function getKey(key) {
      return upgrades[key];
    },
    inc: function inc(key) {

      var nextLevel = upgrades[key] || 0;

      var cost = _.isFunction(UPGRADES[key].levels) ? UPGRADES[key].levels(nextLevel).cost : UPGRADES[key].levels[nextLevel].cost;
      if (units < cost) {
        return;
      }

      if (!upgrades[key]) {
        upgrades[key] = 0;
      }
      upgrades[key]++;
      unit.inc(-cost);
      upgradeDefer.notify({ key: key, level: upgrades[key], all: upgrades });
    },
    watch: function watch() {
      return upgradeDefer.promise;
    }
  };

  var tick = 0;

  var unit = {
    has: function has(amt) {
      return units > amt;
    },
    inc: function inc(amt) {
      units += amt;
      unitDefer.notify(units);

      if (upgrade.has('Basic Animation')) {
        AnimatedFlyTip.fly(amt, upgrade.has('Number Formatting'));
      }

      if (upgrade.has('Save', 1) && !upgrade.has('Save', 3)) {
        if (++tick % 10 === 0) {
          tick = 0;
          save();
        }
      }

      if (upgrade.has('Save', 3)) {
        save();
      }
    },
    get: function get() {
      return units;
    },
    watch: function watch() {
      return unitDefer.promise;
    }
  };

  load();

  return {
    upgrade: upgrade,
    unit: unit,
    save: save,
    buildSaveObject: buildSaveObject,
    hardReset: hardReset
  };
};

gameState.$inject = ['$q', 'Upgrades', 'GainCalculator', 'localStorageService', 'AnimatedFlyTip'];

module.exports = gameState;

},{}],"/home/seiyria/projects/c/src/js/gametimer.js":[function(require,module,exports){
'use strict';

var gameTimer = function gameTimer($q, $interval, $timeout, $window, GameState, GainCalculator) {

  var interval = null;
  var timerDefer = $q.defer();

  var startTimer = function startTimer() {
    var upgradeData = arguments[0] === undefined ? { key: 'Timer' } : arguments[0];

    if (!GameState.upgrade.has('Basic Timer')) {
      return;
    }
    if (!_.contains(upgradeData.key, 'Timer')) {
      return;
    }

    if (interval) {
      $interval.cancel(interval);
    }

    interval = $interval(function () {
      $window.increaseUnits();
      timerDefer.notify(GainCalculator.timer(GameState.upgrade));
    }, GainCalculator.timer(GameState.upgrade));

    timerDefer.notify(GainCalculator.timer(GameState.upgrade));
  };

  if (GameState.upgrade.has('Basic Timer')) {
    $timeout(startTimer, 0);
  }

  GameState.upgrade.watch().then(null, null, startTimer);

  return {
    watch: function watch() {
      return timerDefer.promise;
    }
  };
};

gameTimer.$inject = ['$q', '$interval', '$timeout', '$window', 'GameState', 'GainCalculator'];

module.exports = gameTimer;

},{}],"/home/seiyria/projects/c/src/js/upgrades.js":[function(require,module,exports){
'use strict';

module.exports = {
  Scoreboard: {
    category: 'Visual',
    levels: [{ cost: 10, description: 'Visualize your score!' }]
  },
  'Basic Layout': {
    category: 'Visual',
    levels: [{ cost: 15, description: 'A slightly better layout.' }, { cost: 200, description: 'Another slightly better layout.' }]
  },
  'Better Layout': {
    category: 'Visual',
    requirements: { 'Basic Layout': 1 },
    levels: [{ cost: 200, description: 'One of the better layouts you get to see.' }, { cost: 2000, description: 'Probably the best layout in the game.' }]
  },
  Function: {
    category: 'Tech',
    levels: [{ cost: 20, description: 'Access to a function is necessary to gain more power.' }]
  },
  'Basic Iteration': {
    category: 'Tech',
    requirements: { Function: 0 },
    levels: [{ cost: 50, description: 'More iterations means faster production.' }, { cost: 300, description: 'Even more iterations means even faster production.' }, { cost: 20000, description: 'Yet more iterations means yet faster production.' }, { cost: 150000, description: 'Many iterations means much faster production.' }]
  },
  'Basic Timer': {
    category: 'Tech',
    requirements: { Function: 0 },
    levels: [{ cost: 50, description: 'A timer runs and automatically produces for you every so often.' }, { cost: 600, description: 'The timing of the timer is slightly faster.' }, { cost: 20000, description: 'The timer runs even faster now.' }, { cost: 100000, description: 'The timer goes zoom zoom!' }]
  },
  'Basic Boost': {
    category: 'Tech',
    requirements: { Function: 0 },
    levels: [{ cost: 10, description: 'Bigger boost means more production happening at once.' }, { cost: 1000, description: 'Even bigger boost means even more production.' }, { cost: 25000, description: 'Yet a bigger boost means a higher production yield.' }, { cost: 200000, description: 'The biggest boost means the best production.' }]
  },
  Capitalization: {
    category: 'Visual',
    levels: [{ cost: 100, description: 'Sometimes good punctuation just looks nice.' }]
  },
  Preformatting: {
    category: 'Visual',
    requirements: { 'Basic Iteration': 0 },
    levels: [{ cost: 1500, description: 'Better code formatting for readability' }]
  },
  'Visual Countdown': {
    category: 'Visual',
    requirements: { 'Basic Timer': 0 },
    levels: [{ cost: 1000, description: 'It might help to see the countdown for the timer run.' }]
  },
  'Page Title': {
    category: 'Cosmetic',
    requirements: { 'Basic Layout': 0 },
    levels: [{ cost: 500, description: 'A nicer looking page title. So revealing!' }]
  },
  'Better Page Title': {
    category: 'Cosmetic',
    requirements: { 'Page Title': 0, Scoreboard: 0 },
    levels: [{ cost: 2500, description: 'Just when you thought the page title looked good, it gets better!' }]
  },
  'Alphabetized Upgrades': {
    category: 'Cosmetic',
    requirements: { Capitalization: 0, 'Better Layout': 0 },
    levels: [{ cost: 5000, description: 'Putting the upgrades in some kind of order makes them much easier to navigate.' }]
  },
  'Upgrade Visibility': {
    category: 'Cosmetic',
    requirements: { 'Alphabetized Upgrades': 0 },
    levels: [{ cost: 6500, description: 'Upgrades will appear slightly before you can buy them.' }, { cost: 8500, description: 'Upgrades will appear a while before you can buy them.' }, { cost: 10500, description: 'Upgrades will show up quite a ways before you can buy them.' }]
  },
  'Progress Bar': {
    category: 'Visual',
    requirements: { 'Better Layout': 1, 'Basic Color': 0, 'Visual Countdown': 0 },
    levels: [{ cost: 5000, description: 'Transform your countdown into a progress bar instead!' }]
  },
  'Basic Style': {
    category: 'Visual',
    requirements: { 'Better Layout': 1 },
    levels: [{ cost: 10000, description: 'Yes, it does get better! This upgrade makes the table look nicer.' }, { cost: 20000, description: 'This upgrade fixes some slight alignment issues introduced by the previous upgrade.' }]
  },
  'Basic Color': {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    levels: [{ cost: 12500, description: 'Add some color to the page.' }]
  },
  Iconography: {
    category: 'Visual',
    requirements: { 'Basic Style': 0 },
    levels: [{ cost: 25000, description: 'Get some icons on the page.' }]
  },
  'Number Formatting': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0 },
    levels: [{ cost: 20000, description: 'Format the numbers more nicely!' }]
  },
  'Basic Animation': {
    category: 'Cosmetic',
    requirements: { 'Basic Style': 0, 'Basic Iteration': 0, 'Basic Color': 0, 'Better Layout': 1 },
    levels: [{ cost: 100000, description: 'Sprinkle some animations onto the page.' }]
  },
  Favicon: {
    category: 'Cosmetic',
    requirements: { 'Better Layout': 1 },
    levels: [{ cost: 2000, description: 'Add the favicon to the header bar.' }]
  },
  'Best Favicon': {
    category: 'Cosmetic',
    requirements: { 'Better Page Title': 0, Favicon: 0 },
    levels: [{ cost: 100000, description: 'Get notified via favicon whenever you have a new upgrade to purchase.' }]
  },
  'Syntax Highlighting': {
    category: 'Cosmetic',
    requirements: { Preformatting: 0 },
    levels: [{ cost: 50000, description: 'Make every code portion look even better!' }]
  },
  Save: {
    category: 'Tech',
    requirements: { 'Basic Layout': 0 },
    levels: [{ cost: 300, description: 'Introduce a save button that allows you to save your progress.' }, { cost: 5000, description: 'Introduce a mechanic that saves occasionally.' }, { cost: 20000, description: 'Introduce a debug menu where you can see your save data.' }, { cost: 150000, description: 'Make the game save automatically after production or purchases.' }]
  },
  'Advanced Timer': {
    category: 'Tech',
    requirements: { 'Basic Timer': 3 },
    levels: [{ cost: 200000, description: 'The timer is back and faster than ever.' }, { cost: 750000, description: 'Just when you thought the timer was out of tricks, it gets faster!' }, { cost: 1500000, description: 'The fastest timer yet!' }]
  },
  'Best Table': {
    category: 'Tech',
    requirements: { 'Basic Style': 1, 'Alphabetized Upgrades': 0 },
    levels: [{ cost: 250000, description: 'This gives you the best upgrade table possible!' }]
  },
  Menu: {
    category: 'Tech',
    requirements: { 'Basic Layout': 0 },
    levels: [{ cost: 2500, description: 'Buy a dropdown menu. Things end up here.' }]
  },
  'Help Menu': {
    category: 'Tech',
    requirements: { Menu: 0 },
    levels: [{ cost: 2, description: 'The cheapest upgrade in the game. I bet you have no idea what it does.' }]
  },
  Tooltips: {
    category: 'Tech',
    requirements: { 'Help Menu': 0 },
    levels: [{ cost: 17500, description: 'Well, this sure is self-referential.' }]
  },
  'Options Menu': {
    category: 'Tech',
    requirements: { Menu: 0 },
    levels: [{ cost: 5000, description: 'All of the stange options go here. Also, you can reset your game.' }]
  },
  'Offline Progress': {
    category: 'Tech',
    requirements: { 'Basic Timer': 0 },
    levels: [{ cost: 10000, description: 'You will gain progress slowly, even while the game is not open.' }, { cost: 100000, description: 'You will gain progress slightly faster, even while the game is not open.' }, { cost: 1000000, description: 'You will gain progress normally, even while the game is not open.' }]
  },
  'Confirmation Dialogs': {
    category: 'Tech',
    requirements: { 'Help Menu': 0 },
    levels: [{ cost: 100000, description: 'You get notified of potentially dangerous actions. Beware!' }]
  }
};

},{}],"/home/seiyria/projects/c/src/js/visibleupgrades.js":[function(require,module,exports){
'use strict';

var visibleUpgrades = function visibleUpgrades(GameState, UPGRADES, favico) {

  var hasUpgrade = function hasUpgrade(key) {
    var level = arguments[1] === undefined ? 0 : arguments[1];

    return GameState.upgrade.has(key, level);
  };

  return {
    calc: function calc() {

      var current = GameState.unit.get();
      var allRet = [];

      _.each(UPGRADES, function (item, itemName) {

        var ret = [];

        var meetsAllReqs = true;

        _.each(item.requirements, function (req, key) {
          if (!hasUpgrade(key, req)) {
            meetsAllReqs = false;
          }
        });

        if (!meetsAllReqs) {
          return;
        }

        var levels = item.levels;
        if (_.isFunction(item.levels)) {
          var nextLevel = GameState.upgrade.getKey(itemName) || 0;
          levels = {};
          levels[nextLevel] = item.levels(nextLevel);
        }

        _.each(levels, function (level, i) {
          var visLevel = GameState.upgrade.getKey('Upgrade Visibility');
          var visibilityBoost = 1 + (_.isUndefined(visLevel) ? 0 : 0.15 * visLevel);
          var prevItem = ret[ret.length - 1];
          var totalCost = level.cost + (prevItem ? prevItem.cost : 0);

          if (hasUpgrade(itemName, i) || totalCost / visibilityBoost > current) {
            return;
          }

          ret.push({
            name: itemName,
            level: i,
            cost: totalCost,
            description: level.description,
            buyLevels: 1 + (prevItem ? prevItem.buyLevels : 0),
            category: item.category
          });
        });

        allRet.push.apply(allRet, ret);
      });

      if (hasUpgrade('Alphabetized Upgrades')) {
        allRet = _.sortByOrder(allRet, ['name', 'level'], [true, true]);
      }

      if (hasUpgrade('Best Favicon')) {
        var buyableUpgrades = _.filter(allRet, function (item) {
          return item.cost < current;
        }).length;
        if (buyableUpgrades > 0) {
          favico.badge(buyableUpgrades);
        } else {
          favico.reset();
        }
      }

      return allRet;
    }
  };
};

visibleUpgrades.$inject = ['GameState', 'Upgrades', 'favico'];

module.exports = visibleUpgrades;

},{}]},{},["./src/js/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL21haW4uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2FuaW1hdGVkZmx5dGlwLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy9mYXZpY28uanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2Z1bmN0aW9uYnVpbGRlci5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvZ2FpbmNhbGN1bGF0b3IuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2dhbWVjb250cm9sbGVyLmpzIiwiL2hvbWUvc2VpeXJpYS9wcm9qZWN0cy9jL3NyYy9qcy9nYW1lc3RhdGUuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL2dhbWV0aW1lci5qcyIsIi9ob21lL3NlaXlyaWEvcHJvamVjdHMvYy9zcmMvanMvdXBncmFkZXMuanMiLCIvaG9tZS9zZWl5cmlhL3Byb2plY3RzL2Mvc3JjL2pzL3Zpc2libGV1cGdyYWRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3JDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2QyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbkQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDakQsSUFBSSxN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Q0FBQzs7QUFFSCxjQUFNLENBQUMsSUFBSSxNQUFBLENBQVgsTUFBTSxFQUFTLEdBQUcsQ0FBQyxDQUFDO09BRXJCLENBQUMsQ0FBQzs7QUFFSCxVQUFHLFVBQVUsQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO0FBQ3RDLGNBQU0sR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO09BQ2pFOztBQUVELFVBQUcsVUFBVSxDQUFDLGNBQWMsQ0FBQyxFQUFFO0FBQzdCLFlBQUksZUFBZSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLFVBQUEsSUFBSTtpQkFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU87U0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQzNFLFlBQUcsZUFBZSxHQUFHLENBQUMsRUFBRTtBQUN0QixnQkFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUMvQixNQUFNO0FBQ0wsZ0JBQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNoQjtPQUNGOztBQUVELGFBQU8sTUFBTSxDQUFDO0tBQ2Y7R0FDRixDQUFDO0NBQ0gsQ0FBQzs7QUFFRixlQUFlLENBQUMsT0FBTyxHQUFHLENBQUMsV0FBVyxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQzs7QUFFOUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXG52YXIgdXBncmFkZXMgPSByZXF1aXJlKCcuL3VwZ3JhZGVzJyk7XG52YXIgZ2FtZVN0YXRlID0gcmVxdWlyZSgnLi9nYW1lc3RhdGUnKTtcbnZhciBnYW1lVGltZXIgPSByZXF1aXJlKCcuL2dhbWV0aW1lcicpO1xudmFyIGdhaW5DYWxjdWxhdG9yID0gcmVxdWlyZSgnLi9nYWluY2FsY3VsYXRvcicpO1xudmFyIGZ1bmN0aW9uQnVpbGRlciA9IHJlcXVpcmUoJy4vZnVuY3Rpb25idWlsZGVyJyk7XG52YXIgYW5pbWF0ZWRGbHlUaXAgPSByZXF1aXJlKCcuL2FuaW1hdGVkZmx5dGlwJyk7XG52YXIgZmF2aWNvID0gcmVxdWlyZSgnLi9mYXZpY28nKTtcbnZhciBnYW1lQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vZ2FtZWNvbnRyb2xsZXInKTtcbnZhciB2aXNpYmxlVXBncmFkZXMgPSByZXF1aXJlKCcuL3Zpc2libGV1cGdyYWRlcycpO1xuXG5hbmd1bGFyLm1vZHVsZSgnYycsIFsndWkuYm9vdHN0cmFwJywgJ2hsanMnLCAnTG9jYWxTdG9yYWdlTW9kdWxlJywgJ25nVGFibGUnLCAnYW5ndWxhck1vbWVudCddKVxuXG4gIC5jb25zdGFudCgnVXBncmFkZXMnLCB1cGdyYWRlcylcblxuICAuY29uc3RhbnQoJ1ZlcnNpb24nLCAnMC4wLjEnKVxuXG4gIC5zZXJ2aWNlKCdmYXZpY28nLCBmYXZpY28pXG5cbiAgLnNlcnZpY2UoJ0FuaW1hdGVkRmx5VGlwJywgYW5pbWF0ZWRGbHlUaXApXG5cbiAgLnNlcnZpY2UoJ0dhbWVTdGF0ZScsIGdhbWVTdGF0ZSlcblxuICAuc2VydmljZSgnR2FtZVRpbWVyJywgZ2FtZVRpbWVyKVxuXG4gIC5zZXJ2aWNlKCdWaXNpYmxlVXBncmFkZXMnLCB2aXNpYmxlVXBncmFkZXMpXG5cbiAgLnNlcnZpY2UoJ0dhaW5DYWxjdWxhdG9yJywgZ2FpbkNhbGN1bGF0b3IpXG5cbiAgLnNlcnZpY2UoJ0Z1bmN0aW9uQnVpbGRlcicsIGZ1bmN0aW9uQnVpbGRlcilcblxuICAuY29udHJvbGxlcignR2FtZScsIGdhbWVDb250cm9sbGVyKTsiLCJ2YXIgYW5pbWF0ZWRGbHlUaXAgPSBmdW5jdGlvbigkZmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgZmx5OiBmdW5jdGlvbihudW0sIHVzZVNlcGFyYXRvciA9IGZhbHNlKSB7XG4gICAgICB2YXIgJGVsZW1lbnQgPSAkKCc8ZGl2IC8+Jyk7XG5cbiAgICAgIHZhciBudW1TdHJpbmcgPSBudW07XG4gICAgICBpZih1c2VTZXBhcmF0b3IpIHtcbiAgICAgICAgbnVtU3RyaW5nID0gJGZpbHRlcignbnVtYmVyJykobnVtU3RyaW5nLCAwKTtcbiAgICAgIH1cblxuICAgICAgaWYobnVtIDwgMCkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygndGV4dC1kYW5nZXInKTtcbiAgICAgICAgJGVsZW1lbnQuaHRtbChudW1TdHJpbmcpO1xuICAgICAgfSBlbHNlIGlmKG51bSA+IDApIHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3RleHQtc3VjY2VzcycpO1xuICAgICAgICAkZWxlbWVudC5odG1sKGArJHtudW1TdHJpbmd9YCk7XG4gICAgICB9XG5cbiAgICAgICRlbGVtZW50LmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGVsZW1lbnQpO1xuXG4gICAgICB2YXIgJGJhc2UgPSAkKCcjbmF2YmFyLXVuaXQnKTtcbiAgICAgICRlbGVtZW50Lm9mZnNldCh7bGVmdDogJGJhc2Uub2Zmc2V0KCkubGVmdCwgdG9wOiAkYmFzZS5vZmZzZXQoKS50b3B9KTtcblxuICAgICAgJGVsZW1lbnQuYW5pbWF0ZSh7dG9wOiAnNjBweCd9KTtcbiAgICAgICRlbGVtZW50LmFuaW1hdGUoe29wYWNpdHk6IDAsIHRvcDogJzYwcHgnfSwgNTAwLCAnc3dpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9O1xufTtcblxuYW5pbWF0ZWRGbHlUaXAuJGluamVjdCA9IFsnJGZpbHRlciddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFuaW1hdGVkRmx5VGlwOyIsIlxudmFyIGZhdmljbyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZmF2aWNvID0gbmV3IEZhdmljbyh7XG4gICAgYW5pbWF0aW9uIDogJ2ZhZGUnXG4gIH0pO1xuXG4gIHZhciBjdXJyZW50TnVtID0gMDtcblxuICB2YXIgYmFkZ2UgPSBmdW5jdGlvbihudW0pIHtcbiAgICBpZihudW0gPT09IGN1cnJlbnROdW0pIHsgcmV0dXJuOyB9XG4gICAgY3VycmVudE51bSA9IG51bTtcbiAgICBmYXZpY28uYmFkZ2UobnVtKTtcbiAgfTtcbiAgdmFyIHJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgZmF2aWNvLnJlc2V0KCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBiYWRnZSA6IGJhZGdlLFxuICAgIHJlc2V0IDogcmVzZXRcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZmF2aWNvOyIsInZhciBmdW5jdGlvbkJ1aWxkZXIgPSBmdW5jdGlvbihHYW1lU3RhdGUsIEdhaW5DYWxjdWxhdG9yLCAkd2luZG93KSB7XG4gIHJldHVybiB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdXBncmFkZSA9IEdhbWVTdGF0ZS51cGdyYWRlO1xuXG4gICAgICB2YXIgdW5pdFRleHQgPSAndW5pdHMnO1xuXG4gICAgICB2YXIgZnVuY3Rpb25IZWFkZXIgPSBbJycsJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdGdW5jdGlvbicpKSB7XG4gICAgICAgIGZ1bmN0aW9uSGVhZGVyID0gW2BmdW5jdGlvbiBpbmNyZWFzZVVuaXRzKCkge2AsIGB9YF07XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRpb25IZWFkZXIgPSBbJycsJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBJdGVyYXRpb24nKSkge1xuICAgICAgICBpdGVyYXRpb25IZWFkZXIgPSBbYGZvcih2YXIgaSA9IDA7IGkgPCAke0dhaW5DYWxjdWxhdG9yLml0ZXJhdGlvbih1cGdyYWRlKX07IGkrKykge2AsIGB9YF07XG4gICAgICB9XG5cbiAgICAgIHZhciB0aW1lb3V0ID0gYGA7XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ0Jhc2ljIFRpbWVyJykpIHtcbiAgICAgICAgdGltZW91dCA9IGAkaW50ZXJ2YWwoaW5jcmVhc2VVbml0cywgJHtHYWluQ2FsY3VsYXRvci50aW1lcih1cGdyYWRlKX0pO1xcbmA7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbmltYXRpb25IZWFkZXIgPSBbJycsJyddO1xuICAgICAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBBbmltYXRpb24nKSkge1xuICAgICAgICBhbmltYXRpb25IZWFkZXIgPSBbXG4gICAgICAgICAgYHZhciB0b3RhbFVuaXRzR2FpbmVkID0gMDtgLFxuICAgICAgICAgIGB1bml0cyArPSB0b3RhbFVuaXRzR2FpbmVkO1xuICBhbmltYXRlVW5pdENoYW5nZSh0b3RhbFVuaXRzR2FpbmVkKTtgXTtcbiAgICAgICAgdW5pdFRleHQgPSAndG90YWxVbml0c0dhaW5lZCc7XG4gICAgICB9XG5cbiAgICAgIHZhciBzYXZlSGVhZGVyID0gWycnLCAnJ107XG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ1NhdmUnLCAxKSkge1xuICAgICAgICBzYXZlSGVhZGVyID0gW2BcXG52YXIgY3VycmVudFRpY2sgPSAwO2AsIGBcbiAgaWYoKytjdXJyZW50VGljayAlIDEwID09PSAwKSB7XG4gICAgY3VycmVudFRpY2sgPSAwO1xuICAgIHNhdmUoKTtcbiAgfWBdO1xuICAgICAgfVxuXG4gICAgICBpZihHYW1lU3RhdGUudXBncmFkZS5oYXMoJ1NhdmUnLCAzKSkge1xuICAgICAgICBzYXZlSGVhZGVyID0gWycnLCBgXG4gIHNhdmUoKTtgXTtcbiAgICAgIH1cblxuICAgICAgLy8gZHVtcCBpdCBvbiB0aGUgcGFnZS4gaXQncyBhbiBcImV4cGxvaXRcIlxuICAgICAgJHdpbmRvdy5pbmNyZWFzZVVuaXRzID0gZnVuY3Rpb24oKSB7IEdhbWVTdGF0ZS51bml0LmluYyhHYWluQ2FsY3VsYXRvci5hbGwodXBncmFkZSkpOyB9O1xuXG4gICAgICByZXR1cm4gYCR7dGltZW91dH0ke3NhdmVIZWFkZXJbMF19XG4ke2Z1bmN0aW9uSGVhZGVyWzBdfVxuICAke2FuaW1hdGlvbkhlYWRlclswXX1cbiAgJHtpdGVyYXRpb25IZWFkZXJbMF19XG4gICAgJHt1bml0VGV4dH0gKz0gJHtHYWluQ2FsY3VsYXRvci5ib29zdCh1cGdyYWRlKX07XG4gICR7aXRlcmF0aW9uSGVhZGVyWzFdfVxuICAke3NhdmVIZWFkZXJbMV19XG4gICR7YW5pbWF0aW9uSGVhZGVyWzFdfVxuJHtmdW5jdGlvbkhlYWRlclsxXX1cbmA7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb25CdWlsZGVyLiRpbmplY3QgPSBbJ0dhbWVTdGF0ZScsICdHYWluQ2FsY3VsYXRvcicsICckd2luZG93J107XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb25CdWlsZGVyOyIsInZhciBnYWluQ2FsY3VsYXRvciA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBib29zdCA9IGZ1bmN0aW9uKHVwZ3JhZGUpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coKHVwZ3JhZGUuZ2V0S2V5KCdCYXNpYyBCb29zdCcpIHx8IDApKzEsIDIpO1xuICB9O1xuXG4gIHZhciBpdGVyYXRpb24gPSBmdW5jdGlvbih1cGdyYWRlKSB7XG4gICAgdmFyIGl0ZXJMZXZlbCA9IHVwZ3JhZGUuZ2V0S2V5KCdCYXNpYyBJdGVyYXRpb24nKTtcbiAgICBpZighaXRlckxldmVsKSB7IHJldHVybiAxOyB9XG4gICAgcmV0dXJuIE1hdGgucG93KDIsIGl0ZXJMZXZlbCsxKTtcbiAgfTtcblxuICB2YXIgdGltZXIgPSBmdW5jdGlvbih1cGdyYWRlKSB7XG4gICAgdmFyIGJhc2ljUmVkdWN0aW9uID0gMC4wNSAqIHVwZ3JhZGUuZ2V0S2V5KCdCYXNpYyBUaW1lcicpO1xuICAgIHZhciBhZHZhbmNlZFJlZHVjdGlvbiA9IDAuMTUgKiB1cGdyYWRlLmdldEtleSgnQWR2YW5jZWQgVGltZXInKTtcbiAgICBhZHZhbmNlZFJlZHVjdGlvbiA9IF8uaXNOYU4oYWR2YW5jZWRSZWR1Y3Rpb24pID8gMCA6IGFkdmFuY2VkUmVkdWN0aW9uO1xuICAgIHJldHVybiAzMDAwMCAtIE1hdGgucm91bmQoMzAwMDAgKiAoYmFzaWNSZWR1Y3Rpb24gKyBhZHZhbmNlZFJlZHVjdGlvbikpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9vc3Q6IGJvb3N0LFxuICAgIGl0ZXJhdGlvbjogaXRlcmF0aW9uLFxuICAgIHRpbWVyOiB0aW1lcixcbiAgICBhbGw6IGZ1bmN0aW9uKHVwZ3JhZGUpIHsgcmV0dXJuIGJvb3N0KHVwZ3JhZGUpICogaXRlcmF0aW9uKHVwZ3JhZGUpOyB9XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhaW5DYWxjdWxhdG9yOyIsInZhciBnYW1lQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdywgJGludGVydmFsLCAkZmlsdGVyLCAkbW9kYWwsIEdhbWVTdGF0ZSwgR2FtZVRpbWVyLCBWaXNpYmxlVXBncmFkZXMsIEZ1bmN0aW9uQnVpbGRlciwgTmdUYWJsZVBhcmFtcykge1xuICAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcyA9IFtdO1xuXG4gICRzY29wZS50YWJsZVBhcmFtcyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICBwYWdlOiAxLFxuICAgIGNvdW50OiAxMDAwXG4gIH0sIHtcbiAgICBncm91cEJ5OiAnY2F0ZWdvcnknLFxuICAgIHRvdGFsOiAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcy5sZW5ndGgsXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24oJGRlZmVyLCBwYXJhbXMpIHtcbiAgICAgIHZhciBkYXRhID0gJHNjb3BlLl92aXNpYmxlVXBncmFkZXM7XG5cbiAgICAgIHZhciBvcmRlcmVkRGF0YSA9IHBhcmFtcy5zb3J0aW5nKCkgP1xuICAgICAgICAkZmlsdGVyKCdvcmRlckJ5JykoZGF0YSwgcGFyYW1zLm9yZGVyQnkoKSkgOlxuICAgICAgICBkYXRhO1xuXG4gICAgICB2YXIgZmlsdGVyZWREYXRhID0gcGFyYW1zLmZpbHRlcigpID9cbiAgICAgICAgJGZpbHRlcignZmlsdGVyJykob3JkZXJlZERhdGEsIHBhcmFtcy5maWx0ZXIoKSkgOlxuICAgICAgICBvcmRlcmVkRGF0YTtcblxuICAgICAgcGFyYW1zLnRvdGFsKCRzY29wZS5fdmlzaWJsZVVwZ3JhZGVzLmxlbmd0aCk7XG5cbiAgICAgICRkZWZlci5yZXNvbHZlKGZpbHRlcmVkRGF0YS5zbGljZSgocGFyYW1zLnBhZ2UoKSAtIDEpICogcGFyYW1zLmNvdW50KCksIHBhcmFtcy5wYWdlKCkgKiBwYXJhbXMuY291bnQoKSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgJHNjb3BlLmhhc1VwZ3JhZGUgPSBmdW5jdGlvbihrZXksIGxldmVsID0gMCkge1xuICAgIHJldHVybiBHYW1lU3RhdGUudXBncmFkZS5oYXMoa2V5LCBsZXZlbCk7XG4gIH07XG5cbiAgJHNjb3BlLmhhc1VuaXRzID0gZnVuY3Rpb24oYW10KSB7XG4gICAgcmV0dXJuIEdhbWVTdGF0ZS51bml0LmhhcyhhbXQpO1xuICB9O1xuXG4gICRzY29wZS5idXlVcGdyYWRlID0gZnVuY3Rpb24odXBnTmFtZSwgbGV2ZWxzID0gMSkge1xuICAgIGRvIHtcbiAgICAgIEdhbWVTdGF0ZS51cGdyYWRlLmluYyh1cGdOYW1lKTtcbiAgICB9IHdoaWxlKC0tbGV2ZWxzID4gMCk7XG4gIH07XG5cbiAgJHNjb3BlLmdhaW5Vbml0cyA9IGZ1bmN0aW9uKCkge1xuICAgICR3aW5kb3cuaW5jcmVhc2VVbml0cygpO1xuICB9O1xuXG4gICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgR2FtZVN0YXRlLnNhdmUoKTtcbiAgfTtcblxuICAkc2NvcGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5fdW5pdHMgPSBHYW1lU3RhdGUudW5pdC5nZXQoKTtcbiAgICAkc2NvcGUuX3Zpc2libGVVcGdyYWRlcyA9IFZpc2libGVVcGdyYWRlcy5jYWxjKCk7XG4gICAgJHNjb3BlLl9mdW5jdGlvbiA9IEZ1bmN0aW9uQnVpbGRlci5idWlsZCgpO1xuICAgICRzY29wZS50YWJsZVBhcmFtcy5yZWxvYWQoKTtcbiAgfTtcblxuICAkc2NvcGUub3Blbk1vZGFsID0gZnVuY3Rpb24obW9kYWwpIHtcbiAgICAkbW9kYWwub3Blbih7XG4gICAgICB0ZW1wbGF0ZVVybDogYG1vZGFsLSR7bW9kYWx9YCxcbiAgICAgIHNjb3BlOiAkc2NvcGVcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVmcmVzaCgpO1xuICAkc2NvcGUuX3RpbWVyID0gMDtcbiAgJHNjb3BlLl90aW1lcm1heCA9IDA7XG4gIHZhciB0aW1lckludGVydmFsO1xuXG4gIEdhbWVTdGF0ZS51bml0LndhdGNoKCkudGhlbihudWxsLCBudWxsLCAkc2NvcGUucmVmcmVzaCk7XG4gIEdhbWVTdGF0ZS51cGdyYWRlLndhdGNoKCkudGhlbihudWxsLCBudWxsLCAkc2NvcGUucmVmcmVzaCk7XG5cbiAgR2FtZVRpbWVyLndhdGNoKCkudGhlbihudWxsLCBudWxsLCBmdW5jdGlvbihuZXdUaW1lclZhbHVlKSB7XG4gICAgJHNjb3BlLl90aW1lciA9ICRzY29wZS5fdGltZXJNYXggPSBuZXdUaW1lclZhbHVlO1xuICAgIGlmKHRpbWVySW50ZXJ2YWwpIHtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwodGltZXJJbnRlcnZhbCk7XG4gICAgfVxuICAgIHRpbWVySW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuX3RpbWVyIC09IDEwMDtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICAkc2NvcGUuc2F2ZU9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBHYW1lU3RhdGUuYnVpbGRTYXZlT2JqZWN0KCk7XG4gIH07XG5cbiAgJHNjb3BlLmRlYnVnSW5mbyA9ICR3aW5kb3cuZHVtcERlYnVnSW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSgkc2NvcGUuc2F2ZU9iamVjdCgpLCBudWxsLCA0KTtcbiAgfTtcblxuICAkc2NvcGUucmVzZXRHYW1lID0gZnVuY3Rpb24oY2FsbGJhY2sgPSBmdW5jdGlvbigpe30pIHtcblxuICAgIHZhciBmaW5hbENhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICBHYW1lU3RhdGUuaGFyZFJlc2V0KCk7XG4gICAgICAkc2NvcGUucmVmcmVzaCgpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuXG4gICAgaWYoJHNjb3BlLmhhc1VwZ3JhZGUoJ0NvbmZpcm1hdGlvbiBEaWFsb2dzJykpIHtcbiAgICAgIGJvb3Rib3guY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGhhcmQgcmVzZXQ/IE5vdGhpbmcgd2lsbCBiZSBzYXZlZC4nLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYoIXJlc3VsdCkgeyByZXR1cm47IH1cbiAgICAgICAgZmluYWxDYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsQ2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbn07XG5cbmdhbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckd2luZG93JywgJyRpbnRlcnZhbCcsICckZmlsdGVyJywgJyRtb2RhbCcsICdHYW1lU3RhdGUnLCAnR2FtZVRpbWVyJywgJ1Zpc2libGVVcGdyYWRlcycsICdGdW5jdGlvbkJ1aWxkZXInLCAnbmdUYWJsZVBhcmFtcyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVDb250cm9sbGVyOyIsInZhciBnYW1lU3RhdGUgPSBmdW5jdGlvbigkcSwgVVBHUkFERVMsIEdhaW5DYWxjdWxhdG9yLCBsb2NhbFN0b3JhZ2UsIEFuaW1hdGVkRmx5VGlwKSB7XG4gIHZhciB1cGdyYWRlcyA9IHt9O1xuICB2YXIgdW5pdHMgPSAwO1xuICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICB2YXIgbGFzdFNhdmUgPSBEYXRlLm5vdygpO1xuXG4gIHZhciB1cGdyYWRlRGVmZXIgPSAkcS5kZWZlcigpO1xuICB2YXIgdW5pdERlZmVyID0gJHEuZGVmZXIoKTtcblxuICB2YXIgYnVpbGRTYXZlT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuaXRzOiB1bml0cyxcbiAgICAgIHVwZ3JhZGVzOiB1cGdyYWRlcyxcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIGxhc3RTYXZlOiBsYXN0U2F2ZVxuICAgIH07XG4gIH07XG5cbiAgdmFyIHNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICBsYXN0U2F2ZSA9IERhdGUubm93KCk7XG4gICAgbG9jYWxTdG9yYWdlLnNldCgnZ2FtZScsIGJ1aWxkU2F2ZU9iamVjdCgpKTtcbiAgfTtcblxuICB2YXIgaGFyZFJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHVuaXRzID0gMDtcbiAgICB1cGdyYWRlcyA9IHt9O1xuICAgIHNhdmUoKTtcbiAgfTtcblxuICB2YXIgbG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXQoJ2dhbWUnKTtcblxuICAgIGlmKCFzdGF0ZSkgeyByZXR1cm47IH1cblxuICAgIGlmKHN0YXRlLnVuaXRzKSB7XG4gICAgICB1bml0cyA9IHN0YXRlLnVuaXRzO1xuICAgIH1cblxuICAgIGlmKHN0YXRlLnVwZ3JhZGVzKSB7XG4gICAgICB1cGdyYWRlcyA9IHN0YXRlLnVwZ3JhZGVzO1xuICAgIH1cblxuICAgIGlmKHN0YXRlLnN0YXJ0KSB7XG4gICAgICBzdGFydCA9IHN0YXRlLnN0YXJ0O1xuICAgIH1cblxuICAgIGlmKHN0YXRlLmxhc3RTYXZlKSB7XG4gICAgICBsYXN0U2F2ZSA9IHN0YXRlLmxhc3RTYXZlO1xuXG4gICAgICBpZih1cGdyYWRlLmhhcygnT2ZmbGluZSBQcm9ncmVzcycpKSB7XG4gICAgICAgIHZhciBkaWZmID0gRGF0ZS5ub3coKSAtIHN0YXRlLmxhc3RTYXZlO1xuICAgICAgICB2YXIgbXVsdGlwbGllciA9IDAuMjUgKyAoMC4yNSAqIHVwZ3JhZGUuZ2V0S2V5KCdPZmZsaW5lIFByb2dyZXNzJykpO1xuICAgICAgICB2YXIgdGltZXJzRWxhcHNlZCA9IE1hdGguZmxvb3IoZGlmZiAvIEdhaW5DYWxjdWxhdG9yLnRpbWVyKHVwZ3JhZGUpKTtcbiAgICAgICAgdmFyIGdhaW4gPSB0aW1lcnNFbGFwc2VkICogbXVsdGlwbGllciAqIEdhaW5DYWxjdWxhdG9yLmFsbCh1cGdyYWRlKTtcbiAgICAgICAgdW5pdC5pbmMoZ2Fpbik7XG4gICAgICAgIHNhdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZ3JhZGUgPSB7XG4gICAgaGFzOiBmdW5jdGlvbihrZXksIGxldmVsID0gMCkgeyByZXR1cm4gdXBncmFkZXNba2V5XSA+IGxldmVsOyB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1cGdyYWRlczsgfSxcbiAgICBnZXRLZXk6IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdXBncmFkZXNba2V5XTsgfSxcbiAgICBpbmM6IGZ1bmN0aW9uKGtleSkge1xuXG4gICAgICB2YXIgbmV4dExldmVsID0gdXBncmFkZXNba2V5XSB8fCAwO1xuXG4gICAgICB2YXIgY29zdCA9IF8uaXNGdW5jdGlvbihVUEdSQURFU1trZXldLmxldmVscykgP1xuICAgICAgICBVUEdSQURFU1trZXldLmxldmVscyhuZXh0TGV2ZWwpLmNvc3QgOlxuICAgICAgICBVUEdSQURFU1trZXldLmxldmVsc1tuZXh0TGV2ZWxdLmNvc3Q7XG4gICAgICBpZih1bml0cyA8IGNvc3QpIHsgcmV0dXJuOyB9XG5cbiAgICAgIGlmKCF1cGdyYWRlc1trZXldKSB7IHVwZ3JhZGVzW2tleV0gPSAwOyB9XG4gICAgICB1cGdyYWRlc1trZXldKys7XG4gICAgICB1bml0LmluYygtY29zdCk7XG4gICAgICB1cGdyYWRlRGVmZXIubm90aWZ5KHtrZXk6IGtleSwgbGV2ZWw6IHVwZ3JhZGVzW2tleV0sIGFsbDogdXBncmFkZXN9KTtcbiAgICB9LFxuICAgIHdhdGNoOiBmdW5jdGlvbigpIHsgcmV0dXJuIHVwZ3JhZGVEZWZlci5wcm9taXNlOyB9XG4gIH07XG5cbiAgdmFyIHRpY2sgPSAwO1xuXG4gIHZhciB1bml0ID0ge1xuICAgIGhhczogZnVuY3Rpb24oYW10KSB7IHJldHVybiB1bml0cyA+IGFtdDsgfSxcbiAgICBpbmM6IGZ1bmN0aW9uKGFtdCkge1xuICAgICAgdW5pdHMgKz0gYW10O1xuICAgICAgdW5pdERlZmVyLm5vdGlmeSh1bml0cyk7XG5cbiAgICAgIGlmKHVwZ3JhZGUuaGFzKCdCYXNpYyBBbmltYXRpb24nKSkge1xuICAgICAgICBBbmltYXRlZEZseVRpcC5mbHkoYW10LCB1cGdyYWRlLmhhcygnTnVtYmVyIEZvcm1hdHRpbmcnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHVwZ3JhZGUuaGFzKCdTYXZlJywgMSkgJiYgIXVwZ3JhZGUuaGFzKCdTYXZlJywgMykpIHtcbiAgICAgICAgaWYoKyt0aWNrICUgMTAgPT09IDApIHtcbiAgICAgICAgICB0aWNrID0gMDtcbiAgICAgICAgICBzYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodXBncmFkZS5oYXMoJ1NhdmUnLCAzKSkge1xuICAgICAgICBzYXZlKCk7XG4gICAgICB9XG5cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0czsgfSxcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7IHJldHVybiB1bml0RGVmZXIucHJvbWlzZTsgfVxuICB9O1xuXG4gIGxvYWQoKTtcblxuICByZXR1cm4ge1xuICAgIHVwZ3JhZGU6IHVwZ3JhZGUsXG4gICAgdW5pdDogdW5pdCxcbiAgICBzYXZlOiBzYXZlLFxuICAgIGJ1aWxkU2F2ZU9iamVjdDogYnVpbGRTYXZlT2JqZWN0LFxuICAgIGhhcmRSZXNldDogaGFyZFJlc2V0XG4gIH07XG59O1xuXG5nYW1lU3RhdGUuJGluamVjdCA9IFsnJHEnLCAnVXBncmFkZXMnLCAnR2FpbkNhbGN1bGF0b3InLCAnbG9jYWxTdG9yYWdlU2VydmljZScsICdBbmltYXRlZEZseVRpcCddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVTdGF0ZTsiLCJ2YXIgZ2FtZVRpbWVyID0gZnVuY3Rpb24oJHEsICRpbnRlcnZhbCwgJHRpbWVvdXQsICR3aW5kb3csIEdhbWVTdGF0ZSwgR2FpbkNhbGN1bGF0b3IpIHtcblxuICB2YXIgaW50ZXJ2YWwgPSBudWxsO1xuICB2YXIgdGltZXJEZWZlciA9ICRxLmRlZmVyKCk7XG5cbiAgdmFyIHN0YXJ0VGltZXIgPSBmdW5jdGlvbih1cGdyYWRlRGF0YSA9IHtrZXk6ICdUaW1lcid9KSB7XG5cbiAgICBpZighR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7IHJldHVybjsgfVxuICAgIGlmKCFfLmNvbnRhaW5zKHVwZ3JhZGVEYXRhLmtleSwgJ1RpbWVyJykpIHsgcmV0dXJuOyB9XG5cbiAgICBpZihpbnRlcnZhbCkge1xuICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAkd2luZG93LmluY3JlYXNlVW5pdHMoKTtcbiAgICAgIHRpbWVyRGVmZXIubm90aWZ5KEdhaW5DYWxjdWxhdG9yLnRpbWVyKEdhbWVTdGF0ZS51cGdyYWRlKSk7XG4gICAgfSwgR2FpbkNhbGN1bGF0b3IudGltZXIoR2FtZVN0YXRlLnVwZ3JhZGUpKTtcblxuICAgIHRpbWVyRGVmZXIubm90aWZ5KEdhaW5DYWxjdWxhdG9yLnRpbWVyKEdhbWVTdGF0ZS51cGdyYWRlKSk7XG4gIH07XG5cbiAgaWYoR2FtZVN0YXRlLnVwZ3JhZGUuaGFzKCdCYXNpYyBUaW1lcicpKSB7XG4gICAgJHRpbWVvdXQoc3RhcnRUaW1lciwgMCk7XG4gIH1cblxuICBHYW1lU3RhdGUudXBncmFkZS53YXRjaCgpLnRoZW4obnVsbCwgbnVsbCwgc3RhcnRUaW1lcik7XG5cbiAgcmV0dXJuIHtcbiAgICB3YXRjaDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGltZXJEZWZlci5wcm9taXNlO1xuICAgIH1cbiAgfTtcblxufTtcblxuZ2FtZVRpbWVyLiRpbmplY3QgPSBbJyRxJywgJyRpbnRlcnZhbCcsICckdGltZW91dCcsICckd2luZG93JywgJ0dhbWVTdGF0ZScsICdHYWluQ2FsY3VsYXRvciddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWVUaW1lcjsiLCJcbm1vZHVsZS5leHBvcnRzID0ge1xuICBTY29yZWJvYXJkOiB7XG4gICAgY2F0ZWdvcnk6ICdWaXN1YWwnLFxuICAgIGxldmVsczogW3tjb3N0OiAxMCwgZGVzY3JpcHRpb246ICdWaXN1YWxpemUgeW91ciBzY29yZSEnfV1cbiAgfSxcbiAgJ0Jhc2ljIExheW91dCc6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgbGV2ZWxzOiBbXG4gICAgICB7Y29zdDogMTUsIGRlc2NyaXB0aW9uOiAnQSBzbGlnaHRseSBiZXR0ZXIgbGF5b3V0Lid9LFxuICAgICAge2Nvc3Q6IDIwMCwgZGVzY3JpcHRpb246ICdBbm90aGVyIHNsaWdodGx5IGJldHRlciBsYXlvdXQuJ31cbiAgICBdXG4gIH0sXG4gICdCZXR0ZXIgTGF5b3V0Jzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgTGF5b3V0JzogMX0sXG4gICAgbGV2ZWxzOiBbXG4gICAgICB7Y29zdDogMjAwLCBkZXNjcmlwdGlvbjogJ09uZSBvZiB0aGUgYmV0dGVyIGxheW91dHMgeW91IGdldCB0byBzZWUuJ30sXG4gICAgICB7Y29zdDogMjAwMCwgZGVzY3JpcHRpb246ICdQcm9iYWJseSB0aGUgYmVzdCBsYXlvdXQgaW4gdGhlIGdhbWUuJ31cbiAgICBdXG4gIH0sXG4gIEZ1bmN0aW9uOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICBsZXZlbHM6IFt7Y29zdDogMjAsIGRlc2NyaXB0aW9uOiAnQWNjZXNzIHRvIGEgZnVuY3Rpb24gaXMgbmVjZXNzYXJ5IHRvIGdhaW4gbW9yZSBwb3dlci4nfV1cbiAgfSxcbiAgJ0Jhc2ljIEl0ZXJhdGlvbic6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czoge0Z1bmN0aW9uOiAwfSxcbiAgICBsZXZlbHM6IFtcbiAgICAgIHtjb3N0OiA1MCwgZGVzY3JpcHRpb246ICdNb3JlIGl0ZXJhdGlvbnMgbWVhbnMgZmFzdGVyIHByb2R1Y3Rpb24uJ30sXG4gICAgICB7Y29zdDogMzAwLCBkZXNjcmlwdGlvbjogJ0V2ZW4gbW9yZSBpdGVyYXRpb25zIG1lYW5zIGV2ZW4gZmFzdGVyIHByb2R1Y3Rpb24uJ30sXG4gICAgICB7Y29zdDogMjAwMDAsIGRlc2NyaXB0aW9uOiAnWWV0IG1vcmUgaXRlcmF0aW9ucyBtZWFucyB5ZXQgZmFzdGVyIHByb2R1Y3Rpb24uJ30sXG4gICAgICB7Y29zdDogMTUwMDAwLCBkZXNjcmlwdGlvbjogJ01hbnkgaXRlcmF0aW9ucyBtZWFucyBtdWNoIGZhc3RlciBwcm9kdWN0aW9uLid9XG4gICAgXVxuICB9LFxuICAnQmFzaWMgVGltZXInOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHtGdW5jdGlvbjogMH0sXG4gICAgbGV2ZWxzOiBbXG4gICAgICB7Y29zdDogNTAsIGRlc2NyaXB0aW9uOiAnQSB0aW1lciBydW5zIGFuZCBhdXRvbWF0aWNhbGx5IHByb2R1Y2VzIGZvciB5b3UgZXZlcnkgc28gb2Z0ZW4uJ30sXG4gICAgICB7Y29zdDogNjAwLCBkZXNjcmlwdGlvbjogJ1RoZSB0aW1pbmcgb2YgdGhlIHRpbWVyIGlzIHNsaWdodGx5IGZhc3Rlci4nfSxcbiAgICAgIHtjb3N0OiAyMDAwMCwgZGVzY3JpcHRpb246ICdUaGUgdGltZXIgcnVucyBldmVuIGZhc3RlciBub3cuJ30sXG4gICAgICB7Y29zdDogMTAwMDAwLCBkZXNjcmlwdGlvbjogJ1RoZSB0aW1lciBnb2VzIHpvb20gem9vbSEnfVxuICAgIF1cbiAgfSxcbiAgJ0Jhc2ljIEJvb3N0Jzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7RnVuY3Rpb246IDB9LFxuICAgIGxldmVsczogW1xuICAgICAge2Nvc3Q6IDEwLCBkZXNjcmlwdGlvbjogJ0JpZ2dlciBib29zdCBtZWFucyBtb3JlIHByb2R1Y3Rpb24gaGFwcGVuaW5nIGF0IG9uY2UuJ30sXG4gICAgICB7Y29zdDogMTAwMCwgZGVzY3JpcHRpb246ICdFdmVuIGJpZ2dlciBib29zdCBtZWFucyBldmVuIG1vcmUgcHJvZHVjdGlvbi4nfSxcbiAgICAgIHtjb3N0OiAyNTAwMCwgZGVzY3JpcHRpb246ICdZZXQgYSBiaWdnZXIgYm9vc3QgbWVhbnMgYSBoaWdoZXIgcHJvZHVjdGlvbiB5aWVsZC4nfSxcbiAgICAgIHtjb3N0OiAyMDAwMDAsIGRlc2NyaXB0aW9uOiAnVGhlIGJpZ2dlc3QgYm9vc3QgbWVhbnMgdGhlIGJlc3QgcHJvZHVjdGlvbi4nfVxuICAgIF1cbiAgfSxcbiAgQ2FwaXRhbGl6YXRpb246IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDEwMCwgZGVzY3JpcHRpb246ICdTb21ldGltZXMgZ29vZCBwdW5jdHVhdGlvbiBqdXN0IGxvb2tzIG5pY2UuJ31dXG4gIH0sXG4gIFByZWZvcm1hdHRpbmc6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIEl0ZXJhdGlvbic6IDB9LFxuICAgIGxldmVsczogW3tjb3N0OiAxNTAwLCBkZXNjcmlwdGlvbjogJ0JldHRlciBjb2RlIGZvcm1hdHRpbmcgZm9yIHJlYWRhYmlsaXR5J31dXG4gIH0sXG4gICdWaXN1YWwgQ291bnRkb3duJzoge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgVGltZXInOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogMTAwMCwgZGVzY3JpcHRpb246ICdJdCBtaWdodCBoZWxwIHRvIHNlZSB0aGUgY291bnRkb3duIGZvciB0aGUgdGltZXIgcnVuLid9XVxuICB9LFxuICAnUGFnZSBUaXRsZSc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgTGF5b3V0JzogMH0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDUwMCwgZGVzY3JpcHRpb246ICdBIG5pY2VyIGxvb2tpbmcgcGFnZSB0aXRsZS4gU28gcmV2ZWFsaW5nISd9XVxuICB9LFxuICAnQmV0dGVyIFBhZ2UgVGl0bGUnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J1BhZ2UgVGl0bGUnOiAwLCAnU2NvcmVib2FyZCc6IDB9LFxuICAgIGxldmVsczogW3tjb3N0OiAyNTAwLCBkZXNjcmlwdGlvbjogJ0p1c3Qgd2hlbiB5b3UgdGhvdWdodCB0aGUgcGFnZSB0aXRsZSBsb29rZWQgZ29vZCwgaXQgZ2V0cyBiZXR0ZXIhJ31dXG4gIH0sXG4gICdBbHBoYWJldGl6ZWQgVXBncmFkZXMnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0NhcGl0YWxpemF0aW9uJzogMCwgJ0JldHRlciBMYXlvdXQnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogNTAwMCwgZGVzY3JpcHRpb246ICdQdXR0aW5nIHRoZSB1cGdyYWRlcyBpbiBzb21lIGtpbmQgb2Ygb3JkZXIgbWFrZXMgdGhlbSBtdWNoIGVhc2llciB0byBuYXZpZ2F0ZS4nfV1cbiAgfSxcbiAgJ1VwZ3JhZGUgVmlzaWJpbGl0eSc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQWxwaGFiZXRpemVkIFVwZ3JhZGVzJzogMH0sXG4gICAgbGV2ZWxzOiBbXG4gICAgICB7Y29zdDogNjUwMCwgZGVzY3JpcHRpb246ICdVcGdyYWRlcyB3aWxsIGFwcGVhciBzbGlnaHRseSBiZWZvcmUgeW91IGNhbiBidXkgdGhlbS4nfSxcbiAgICAgIHtjb3N0OiA4NTAwLCBkZXNjcmlwdGlvbjogJ1VwZ3JhZGVzIHdpbGwgYXBwZWFyIGEgd2hpbGUgYmVmb3JlIHlvdSBjYW4gYnV5IHRoZW0uJ30sXG4gICAgICB7Y29zdDogMTA1MDAsIGRlc2NyaXB0aW9uOiAnVXBncmFkZXMgd2lsbCBzaG93IHVwIHF1aXRlIGEgd2F5cyBiZWZvcmUgeW91IGNhbiBidXkgdGhlbS4nfVxuICAgIF1cbiAgfSxcbiAgJ1Byb2dyZXNzIEJhcic6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxLCAnQmFzaWMgQ29sb3InOiAwLCAnVmlzdWFsIENvdW50ZG93bic6IDB9LFxuICAgIGxldmVsczogW3tjb3N0OiA1MDAwLCBkZXNjcmlwdGlvbjogJ1RyYW5zZm9ybSB5b3VyIGNvdW50ZG93biBpbnRvIGEgcHJvZ3Jlc3MgYmFyIGluc3RlYWQhJ31dXG4gIH0sXG4gICdCYXNpYyBTdHlsZSc6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0JldHRlciBMYXlvdXQnOiAxfSxcbiAgICBsZXZlbHM6IFtcbiAgICAgIHtjb3N0OiAxMDAwMCwgZGVzY3JpcHRpb246ICdZZXMsIGl0IGRvZXMgZ2V0IGJldHRlciEgVGhpcyB1cGdyYWRlIG1ha2VzIHRoZSB0YWJsZSBsb29rIG5pY2VyLid9LFxuICAgICAge2Nvc3Q6IDIwMDAwLCBkZXNjcmlwdGlvbjogJ1RoaXMgdXBncmFkZSBmaXhlcyBzb21lIHNsaWdodCBhbGlnbm1lbnQgaXNzdWVzIGludHJvZHVjZWQgYnkgdGhlIHByZXZpb3VzIHVwZ3JhZGUuJ31cbiAgICBdXG4gIH0sXG4gICdCYXNpYyBDb2xvcic6IHtcbiAgICBjYXRlZ29yeTogJ1Zpc3VhbCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFN0eWxlJzogMH0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDEyNTAwLCBkZXNjcmlwdGlvbjogJ0FkZCBzb21lIGNvbG9yIHRvIHRoZSBwYWdlLid9XVxuICB9LFxuICBJY29ub2dyYXBoeToge1xuICAgIGNhdGVnb3J5OiAnVmlzdWFsJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogMjUwMDAsIGRlc2NyaXB0aW9uOiAnR2V0IHNvbWUgaWNvbnMgb24gdGhlIHBhZ2UuJ31dXG4gIH0sXG4gICdOdW1iZXIgRm9ybWF0dGluZyc6IHtcbiAgICBjYXRlZ29yeTogJ0Nvc21ldGljJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogMjAwMDAsIGRlc2NyaXB0aW9uOiAnRm9ybWF0IHRoZSBudW1iZXJzIG1vcmUgbmljZWx5ISd9XVxuICB9LFxuICAnQmFzaWMgQW5pbWF0aW9uJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBTdHlsZSc6IDAsICdCYXNpYyBJdGVyYXRpb24nOiAwLCAnQmFzaWMgQ29sb3InOiAwLCAnQmV0dGVyIExheW91dCc6IDF9LFxuICAgIGxldmVsczogW3tjb3N0OiAxMDAwMDAsIGRlc2NyaXB0aW9uOiAnU3ByaW5rbGUgc29tZSBhbmltYXRpb25zIG9udG8gdGhlIHBhZ2UuJ31dXG4gIH0sXG4gICdGYXZpY29uJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIHJlcXVpcmVtZW50czogeydCZXR0ZXIgTGF5b3V0JzogMX0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDIwMDAsIGRlc2NyaXB0aW9uOiAnQWRkIHRoZSBmYXZpY29uIHRvIHRoZSBoZWFkZXIgYmFyLid9XVxuICB9LFxuICAnQmVzdCBGYXZpY29uJzoge1xuICAgIGNhdGVnb3J5OiAnQ29zbWV0aWMnLFxuICAgIHJlcXVpcmVtZW50czogeydCZXR0ZXIgUGFnZSBUaXRsZSc6IDAsICdGYXZpY29uJzogMH0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDEwMDAwMCwgZGVzY3JpcHRpb246ICdHZXQgbm90aWZpZWQgdmlhIGZhdmljb24gd2hlbmV2ZXIgeW91IGhhdmUgYSBuZXcgdXBncmFkZSB0byBwdXJjaGFzZS4nfV1cbiAgfSxcbiAgJ1N5bnRheCBIaWdobGlnaHRpbmcnOiB7XG4gICAgY2F0ZWdvcnk6ICdDb3NtZXRpYycsXG4gICAgcmVxdWlyZW1lbnRzOiB7J1ByZWZvcm1hdHRpbmcnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogNTAwMDAsIGRlc2NyaXB0aW9uOiAnTWFrZSBldmVyeSBjb2RlIHBvcnRpb24gbG9vayBldmVuIGJldHRlciEnfV1cbiAgfSxcbiAgJ1NhdmUnOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgTGF5b3V0JzogMH0sXG4gICAgbGV2ZWxzOiBbXG4gICAgICB7Y29zdDogMzAwLCBkZXNjcmlwdGlvbjogJ0ludHJvZHVjZSBhIHNhdmUgYnV0dG9uIHRoYXQgYWxsb3dzIHlvdSB0byBzYXZlIHlvdXIgcHJvZ3Jlc3MuJ30sXG4gICAgICB7Y29zdDogNTAwMCwgZGVzY3JpcHRpb246ICdJbnRyb2R1Y2UgYSBtZWNoYW5pYyB0aGF0IHNhdmVzIG9jY2FzaW9uYWxseS4nfSxcbiAgICAgIHtjb3N0OiAyMDAwMCwgZGVzY3JpcHRpb246ICdJbnRyb2R1Y2UgYSBkZWJ1ZyBtZW51IHdoZXJlIHlvdSBjYW4gc2VlIHlvdXIgc2F2ZSBkYXRhLid9LFxuICAgICAge2Nvc3Q6IDE1MDAwMCwgZGVzY3JpcHRpb246ICdNYWtlIHRoZSBnYW1lIHNhdmUgYXV0b21hdGljYWxseSBhZnRlciBwcm9kdWN0aW9uIG9yIHB1cmNoYXNlcy4nfVxuICAgIF1cbiAgfSxcbiAgJ0FkdmFuY2VkIFRpbWVyJzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J0Jhc2ljIFRpbWVyJzogM30sXG4gICAgbGV2ZWxzOiBbXG4gICAgICB7Y29zdDogMjAwMDAwLCBkZXNjcmlwdGlvbjogJ1RoZSB0aW1lciBpcyBiYWNrIGFuZCBmYXN0ZXIgdGhhbiBldmVyLid9LFxuICAgICAge2Nvc3Q6IDc1MDAwMCwgZGVzY3JpcHRpb246ICdKdXN0IHdoZW4geW91IHRob3VnaHQgdGhlIHRpbWVyIHdhcyBvdXQgb2YgdHJpY2tzLCBpdCBnZXRzIGZhc3RlciEnfSxcbiAgICAgIHtjb3N0OiAxNTAwMDAwLCBkZXNjcmlwdGlvbjogJ1RoZSBmYXN0ZXN0IHRpbWVyIHlldCEnfVxuICAgIF1cbiAgfSxcbiAgJ0Jlc3QgVGFibGUnOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgU3R5bGUnOiAxLCAnQWxwaGFiZXRpemVkIFVwZ3JhZGVzJzogMH0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDI1MDAwMCwgZGVzY3JpcHRpb246ICdUaGlzIGdpdmVzIHlvdSB0aGUgYmVzdCB1cGdyYWRlIHRhYmxlIHBvc3NpYmxlISd9XVxuICB9LFxuICBNZW51OiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHsnQmFzaWMgTGF5b3V0JzogMH0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDI1MDAsIGRlc2NyaXB0aW9uOiAnQnV5IGEgZHJvcGRvd24gbWVudS4gVGhpbmdzIGVuZCB1cCBoZXJlLid9XVxuICB9LFxuICAnSGVscCBNZW51Jzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J01lbnUnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogMiwgZGVzY3JpcHRpb246ICdUaGUgY2hlYXBlc3QgdXBncmFkZSBpbiB0aGUgZ2FtZS4gSSBiZXQgeW91IGhhdmUgbm8gaWRlYSB3aGF0IGl0IGRvZXMuJ31dXG4gIH0sXG4gIFRvb2x0aXBzOiB7XG4gICAgY2F0ZWdvcnk6ICdUZWNoJyxcbiAgICByZXF1aXJlbWVudHM6IHsnSGVscCBNZW51JzogMH0sXG4gICAgbGV2ZWxzOiBbe2Nvc3Q6IDE3NTAwLCBkZXNjcmlwdGlvbjogJ1dlbGwsIHRoaXMgc3VyZSBpcyBzZWxmLXJlZmVyZW50aWFsLid9XVxuICB9LFxuICAnT3B0aW9ucyBNZW51Jzoge1xuICAgIGNhdGVnb3J5OiAnVGVjaCcsXG4gICAgcmVxdWlyZW1lbnRzOiB7J01lbnUnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogNTAwMCwgZGVzY3JpcHRpb246ICdBbGwgb2YgdGhlIHN0YW5nZSBvcHRpb25zIGdvIGhlcmUuIEFsc28sIHlvdSBjYW4gcmVzZXQgeW91ciBnYW1lLid9XVxuICB9LFxuICAnT2ZmbGluZSBQcm9ncmVzcyc6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czogeydCYXNpYyBUaW1lcic6IDB9LFxuICAgIGxldmVsczogW1xuICAgICAge2Nvc3Q6IDEwMDAwLCBkZXNjcmlwdGlvbjogJ1lvdSB3aWxsIGdhaW4gcHJvZ3Jlc3Mgc2xvd2x5LCBldmVuIHdoaWxlIHRoZSBnYW1lIGlzIG5vdCBvcGVuLid9LFxuICAgICAge2Nvc3Q6IDEwMDAwMCwgZGVzY3JpcHRpb246ICdZb3Ugd2lsbCBnYWluIHByb2dyZXNzIHNsaWdodGx5IGZhc3RlciwgZXZlbiB3aGlsZSB0aGUgZ2FtZSBpcyBub3Qgb3Blbi4nfSxcbiAgICAgIHtjb3N0OiAxMDAwMDAwLCBkZXNjcmlwdGlvbjogJ1lvdSB3aWxsIGdhaW4gcHJvZ3Jlc3Mgbm9ybWFsbHksIGV2ZW4gd2hpbGUgdGhlIGdhbWUgaXMgbm90IG9wZW4uJ31cbiAgICBdXG4gIH0sXG4gICdDb25maXJtYXRpb24gRGlhbG9ncyc6IHtcbiAgICBjYXRlZ29yeTogJ1RlY2gnLFxuICAgIHJlcXVpcmVtZW50czogeydIZWxwIE1lbnUnOiAwfSxcbiAgICBsZXZlbHM6IFt7Y29zdDogMTAwMDAwLCBkZXNjcmlwdGlvbjogJ1lvdSBnZXQgbm90aWZpZWQgb2YgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGFjdGlvbnMuIEJld2FyZSEnfV1cbiAgfVxufTsiLCJ2YXIgdmlzaWJsZVVwZ3JhZGVzID0gZnVuY3Rpb24oR2FtZVN0YXRlLCBVUEdSQURFUywgZmF2aWNvKSB7XG5cbiAgdmFyIGhhc1VwZ3JhZGUgPSBmdW5jdGlvbihrZXksIGxldmVsID0gMCkge1xuICAgIHJldHVybiBHYW1lU3RhdGUudXBncmFkZS5oYXMoa2V5LCBsZXZlbCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBjYWxjOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGN1cnJlbnQgPSBHYW1lU3RhdGUudW5pdC5nZXQoKTtcbiAgICAgIHZhciBhbGxSZXQgPSBbXTtcblxuICAgICAgXy5lYWNoKFVQR1JBREVTLCAoaXRlbSwgaXRlbU5hbWUpID0+IHtcblxuICAgICAgICB2YXIgcmV0ID0gW107XG5cbiAgICAgICAgdmFyIG1lZXRzQWxsUmVxcyA9IHRydWU7XG5cbiAgICAgICAgXy5lYWNoKGl0ZW0ucmVxdWlyZW1lbnRzLCAocmVxLCBrZXkpID0+IHtcbiAgICAgICAgICBpZighaGFzVXBncmFkZShrZXksIHJlcSkpIHsgbWVldHNBbGxSZXFzID0gZmFsc2U7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoIW1lZXRzQWxsUmVxcykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgbGV2ZWxzID0gaXRlbS5sZXZlbHM7XG4gICAgICAgIGlmKF8uaXNGdW5jdGlvbihpdGVtLmxldmVscykpIHtcbiAgICAgICAgICB2YXIgbmV4dExldmVsID0gR2FtZVN0YXRlLnVwZ3JhZGUuZ2V0S2V5KGl0ZW1OYW1lKSB8fCAwO1xuICAgICAgICAgIGxldmVscyA9IHt9O1xuICAgICAgICAgIGxldmVsc1tuZXh0TGV2ZWxdID0gaXRlbS5sZXZlbHMobmV4dExldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uZWFjaChsZXZlbHMsIChsZXZlbCwgaSkgPT4ge1xuICAgICAgICAgIHZhciB2aXNMZXZlbCA9IEdhbWVTdGF0ZS51cGdyYWRlLmdldEtleSgnVXBncmFkZSBWaXNpYmlsaXR5Jyk7XG4gICAgICAgICAgdmFyIHZpc2liaWxpdHlCb29zdCA9IDEgKyAoXy5pc1VuZGVmaW5lZCh2aXNMZXZlbCkgPyAwIDogMC4xNSp2aXNMZXZlbCk7XG4gICAgICAgICAgdmFyIHByZXZJdGVtID0gcmV0W3JldC5sZW5ndGgtMV07XG4gICAgICAgICAgdmFyIHRvdGFsQ29zdCA9IGxldmVsLmNvc3QgKyAocHJldkl0ZW0gPyBwcmV2SXRlbS5jb3N0IDogMCk7XG5cbiAgICAgICAgICBpZihoYXNVcGdyYWRlKGl0ZW1OYW1lLCBpKSB8fCB0b3RhbENvc3QvdmlzaWJpbGl0eUJvb3N0ID4gY3VycmVudCkgeyByZXR1cm47IH1cblxuICAgICAgICAgIHJldC5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGl0ZW1OYW1lLFxuICAgICAgICAgICAgbGV2ZWw6IGksXG4gICAgICAgICAgICBjb3N0OiB0b3RhbENvc3QsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogbGV2ZWwuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBidXlMZXZlbHM6IDEgKyAocHJldkl0ZW0gPyBwcmV2SXRlbS5idXlMZXZlbHMgOiAwKSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBpdGVtLmNhdGVnb3J5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFsbFJldC5wdXNoKC4uLnJldCk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBpZihoYXNVcGdyYWRlKCdBbHBoYWJldGl6ZWQgVXBncmFkZXMnKSkge1xuICAgICAgICBhbGxSZXQgPSBfLnNvcnRCeU9yZGVyKGFsbFJldCwgWyduYW1lJywgJ2xldmVsJ10sIFt0cnVlLCB0cnVlXSk7XG4gICAgICB9XG5cbiAgICAgIGlmKGhhc1VwZ3JhZGUoJ0Jlc3QgRmF2aWNvbicpKSB7XG4gICAgICAgIHZhciBidXlhYmxlVXBncmFkZXMgPSBfLmZpbHRlcihhbGxSZXQsIGl0ZW0gPT4gaXRlbS5jb3N0IDwgY3VycmVudCkubGVuZ3RoO1xuICAgICAgICBpZihidXlhYmxlVXBncmFkZXMgPiAwKSB7XG4gICAgICAgICAgZmF2aWNvLmJhZGdlKGJ1eWFibGVVcGdyYWRlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmF2aWNvLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFsbFJldDtcbiAgICB9XG4gIH07XG59O1xuXG52aXNpYmxlVXBncmFkZXMuJGluamVjdCA9IFsnR2FtZVN0YXRlJywgJ1VwZ3JhZGVzJywgJ2ZhdmljbyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHZpc2libGVVcGdyYWRlczsiXX0=
